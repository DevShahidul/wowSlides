!function(){"use strict";var P=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},g=function(n,o){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n(o.apply(null,t))}},U=function(t){return function(){return t}},d=function(t){return t};function f(o){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=r.concat(t);return o.apply(null,n)}}var t,e,n,o,r,s,i,m=function(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return!n.apply(null,t)}},a=function(t){return function(){throw new Error(t)}},u=U(!1),c=U(!0),l=u,h=c,v=function(){return p},p=(o={fold:function(t,e){return t()},is:l,isSome:l,isNone:h,getOr:n=function(t){return t},getOrThunk:e=function(t){return t()},getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:function(){return null},getOrUndefined:function(){return undefined},or:n,orThunk:e,map:v,ap:v,each:function(){},bind:v,flatten:v,exists:l,forall:h,filter:v,equals:t=function(t){return t.isNone()},equals_:t,toArray:function(){return[]},toString:U("none()")},Object.freeze&&Object.freeze(o),o),b=function(n){var t=function(){return n},e=function(){return r},o=function(t){return t(n)},r={fold:function(t,e){return e(n)},is:function(t){return n===t},isSome:h,isNone:l,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:e,orThunk:e,map:function(t){return b(t(n))},ap:function(t){return t.fold(v,function(t){return b(t(n))})},each:function(t){t(n)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(n)?r:p},equals:function(t){return t.is(n)},equals_:function(t,e){return t.fold(l,function(t){return e(n,t)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return r},j={some:b,none:v,from:function(t){return null===t||t===undefined?p:b(t)}},y=function(e){return function(t){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e}(t)===e}},w=y("string"),x=y("object"),k=y("array"),z=y("boolean"),S=y("function"),O=y("number"),C=(r=Array.prototype.indexOf)===undefined?function(t,e){return R(t,e)}:function(t,e){return r.call(t,e)},M=function(t,e){return-1<C(t,e)},H=function(t,e){return F(t,e).isSome()},V=function(t,e){for(var n=[],o=0;o<t.length;o+=e){var r=t.slice(o,o+e);n.push(r)}return n},E=function(t,e){for(var n=t.length,o=new Array(n),r=0;r<n;r++){var i=t[r];o[r]=e(i,r,t)}return o},T=function(t,e){for(var n=0,o=t.length;n<o;n++)e(t[n],n,t)},A=function(t,e){for(var n=[],o=0,r=t.length;o<r;o++){var i=t[o];e(i,o,t)&&n.push(i)}return n},B=function(t,e,n){return function(t,e){for(var n=t.length-1;0<=n;n--)e(t[n],n,t)}(t,function(t){n=e(n,t)}),n},_=function(t,e,n){return T(t,function(t){n=e(n,t)}),n},D=function(t,e){for(var n=0,o=t.length;n<o;n++){var r=t[n];if(e(r,n,t))return j.some(r)}return j.none()},F=function(t,e){for(var n=0,o=t.length;n<o;n++)if(e(t[n],n,t))return j.some(n);return j.none()},R=function(t,e){for(var n=0,o=t.length;n<o;++n)if(t[n]===e)return n;return-1},L=Array.prototype.push,I=function(t){for(var e=[],n=0,o=t.length;n<o;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);L.apply(e,t[n])}return e},N=function(t,e){var n=E(t,e);return I(n)},W=function(t,e){for(var n=0,o=t.length;n<o;++n)if(!0!==e(t[n],n,t))return!1;return!0},G=Array.prototype.slice,X=function(t){var e=G.call(t,0);return e.reverse(),e},Y=function(t,e){return A(t,function(t){return!M(e,t)})},q=function(t){return[t]},K=function(t){return 0===t.length?j.none():j.some(t[0])},J=function(t){return 0===t.length?j.none():j.some(t[t.length-1])},$=S(Array.from)?Array.from:function(t){return G.call(t)},Q=Object.keys,Z=Object.hasOwnProperty,tt=function(t,e){for(var n=Q(t),o=0,r=n.length;o<r;o++){var i=n[o];e(t[i],i,t)}},et=function(t,o){return nt(t,function(t,e,n){return{k:e,v:o(t,e,n)}})},nt=function(o,r){var i={};return tt(o,function(t,e){var n=r(t,e,o);i[n.k]=n.v}),i},ot=function(t,n){var o=[];return tt(t,function(t,e){o.push(n(t,e))}),o},rt=function(t){return ot(t,function(t){return t})},it=function(t,e){return Z.call(t,e)},at=function(e){return function(t){return it(t,e)?j.from(t[e]):j.none()}},ut=function(t,e){return at(e)(t)},ct=function(t,e){var n={};return n[t]=e,n},st=function(n){return{is:function(t){return n===t},isValue:c,isError:u,getOr:U(n),getOrThunk:U(n),getOrDie:U(n),or:function(t){return st(n)},orThunk:function(t){return st(n)},fold:function(t,e){return e(n)},map:function(t){return st(t(n))},each:function(t){t(n)},bind:function(t){return t(n)},exists:function(t){return t(n)},forall:function(t){return t(n)},toOption:function(){return j.some(n)}}},lt=function(n){return{is:u,isValue:u,isError:c,getOr:d,getOrThunk:function(t){return t()},getOrDie:function(){return a(String(n))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(t,e){return t(n)},map:function(t){return lt(n)},each:P,bind:function(t){return lt(n)},exists:u,forall:c,toOption:j.none}},ft={value:st,error:lt},dt=function(a){if(!k(a))throw new Error("cases must be an array");if(0===a.length)throw new Error("there must be at least one case");var u=[],n={};return T(a,function(t,o){var e=Q(t);if(1!==e.length)throw new Error("one and only one name per case");var r=e[0],i=t[r];if(n[r]!==undefined)throw new Error("duplicate key detected:"+r);if("cata"===r)throw new Error("cannot have a case named cata (sorry)");if(!k(i))throw new Error("case arguments must be an array");u.push(r),n[r]=function(){var t=arguments.length;if(t!==i.length)throw new Error("Wrong number of arguments to case "+r+". Expected "+i.length+" ("+i+"), got "+t);for(var n=new Array(t),e=0;e<n.length;e++)n[e]=arguments[e];return{fold:function(){if(arguments.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+arguments.length);return arguments[o].apply(null,n)},match:function(t){var e=Q(t);if(u.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+u.join(",")+"\nActual: "+e.join(","));if(!W(u,function(t){return M(e,t)}))throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+u.join(", "));return t[r].apply(null,n)},log:function(t){console.log(t,{constructors:u,constructor:r,params:n})}}}}),n},mt=(dt([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),Object.prototype.hasOwnProperty),ht=function(a){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];if(0===t.length)throw new Error("Can't merge zero objects");for(var n={},o=0;o<t.length;o++){var r=t[o];for(var i in r)mt.call(r,i)&&(n[i]=a(n[i],r[i]))}return n}},gt=ht(function(t,e){return x(t)&&x(e)?gt(t,e):e}),vt=ht(function(t,e){return e}),pt=function(t,e){return n=e,o={},tt(t,function(t,e){M(n,e)||(o[e]=t)}),o;var n,o},bt=function(t){return at(t)},yt=function(t,e){return n=t,o=e,function(t){return it(t,n)?t[n]:o};var n,o},wt=function(t,e){return ut(t,e)},xt=function(t,e){return ct(t,e)},kt=function(t){return e={},T(t,function(t){e[t.key]=t.value}),e;var e},zt=function(t,e){var n,o,r,i,a,u=(n=[],o=[],T(t,function(t){t.fold(function(t){n.push(t)},function(t){o.push(t)})}),{errors:n,values:o});return 0<u.errors.length?(a=u.errors,g(ft.error,I)(a)):(i=e,0===(r=u.values).length?ft.value(i):ft.value(gt(i,vt.apply(undefined,r))))},St=function(t,e){return it(n=t,o=e)&&n[o]!==undefined&&null!==n[o];var n,o},Ot=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return Ot(n())}}},Ct=function(t){for(var e=[],n=function(t){e.push(t)},o=0;o<t.length;o++)t[o].each(n);return e},Mt=function(t,e){for(var n=0;n<t.length;n++){var o=e(t[n],n);if(o.isSome())return o}return j.none()},Ht=U("touchstart"),Vt=U("touchmove"),Et=U("touchend"),Tt=U("mousedown"),At=U("mousemove"),Bt=U("mouseout"),_t=U("mouseup"),Dt=U("mouseover"),Ft=U("focusin"),Rt=U("focusout"),Lt=U("keydown"),It=U("keyup"),Pt=U("input"),jt=U("change"),Nt=U("click"),Ut=U("transitionend"),Wt=U("selectstart"),Gt=U("paste"),Xt=function(n){var o,r=!1;return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r||(r=!0,o=n.apply(null,t)),o}},Yt=function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.test(e))return o}return undefined}(t,e);if(!n)return{major:0,minor:0};var o=function(t){return Number(e.replace(n,"$"+t))};return Kt(o(1),o(2))},qt=function(){return Kt(0,0)},Kt=function(t,e){return{major:t,minor:e}},Jt={nu:Kt,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?qt():Yt(t,n)},unknown:qt},$t="Firefox",Qt=function(t,e){return function(){return e===t}},Zt=function(t){var e=t.current;return{current:e,version:t.version,isEdge:Qt("Edge",e),isChrome:Qt("Chrome",e),isIE:Qt("IE",e),isOpera:Qt("Opera",e),isFirefox:Qt($t,e),isSafari:Qt("Safari",e)}},te={unknown:function(){return Zt({current:undefined,version:Jt.unknown()})},nu:Zt,edge:U("Edge"),chrome:U("Chrome"),ie:U("IE"),opera:U("Opera"),firefox:U($t),safari:U("Safari")},ee="Windows",ne="Android",oe="Solaris",re="FreeBSD",ie=function(t,e){return function(){return e===t}},ae=function(t){var e=t.current;return{current:e,version:t.version,isWindows:ie(ee,e),isiOS:ie("iOS",e),isAndroid:ie(ne,e),isOSX:ie("OSX",e),isLinux:ie("Linux",e),isSolaris:ie(oe,e),isFreeBSD:ie(re,e)}},ue={unknown:function(){return ae({current:undefined,version:Jt.unknown()})},nu:ae,windows:U(ee),ios:U("iOS"),android:U(ne),linux:U("Linux"),osx:U("OSX"),solaris:U(oe),freebsd:U(re)},ce=function(t,e){var n=String(e).toLowerCase();return D(t,function(t){return t.search(n)})},se=function(t,n){return ce(t,n).map(function(t){var e=Jt.detect(t.versionRegexes,n);return{current:t.name,version:e}})},le=function(t,n){return ce(t,n).map(function(t){var e=Jt.detect(t.versionRegexes,n);return{current:t.name,version:e}})},fe=function(t,e){return-1!==t.indexOf(e)},de=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,me=function(e){return function(t){return fe(t,e)}},he=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return fe(t,"edge/")&&fe(t,"chrome")&&fe(t,"safari")&&fe(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,de],search:function(t){return fe(t,"chrome")&&!fe(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return fe(t,"msie")||fe(t,"trident")}},{name:"Opera",versionRegexes:[de,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:me("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:me("firefox")},{name:"Safari",versionRegexes:[de,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(fe(t,"safari")||fe(t,"mobile/"))&&fe(t,"applewebkit")}}],ge=[{name:"Windows",search:me("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return fe(t,"iphone")||fe(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:me("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:me("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:me("linux"),versionRegexes:[]},{name:"Solaris",search:me("sunos"),versionRegexes:[]},{name:"FreeBSD",search:me("freebsd"),versionRegexes:[]}],ve={browsers:U(he),oses:U(ge)},pe=function(t){var e,n,o,r,i,a,u,c,s,l,f,d=ve.browsers(),m=ve.oses(),h=se(d,t).fold(te.unknown,te.nu),g=le(m,t).fold(ue.unknown,ue.nu);return{browser:h,os:g,deviceType:(n=h,o=t,r=(e=g).isiOS()&&!0===/ipad/i.test(o),i=e.isiOS()&&!r,a=e.isAndroid()&&3===e.version.major,u=e.isAndroid()&&4===e.version.major,c=r||a||u&&!0===/mobile/i.test(o),s=e.isiOS()||e.isAndroid(),l=s&&!c,f=n.isSafari()&&e.isiOS()&&!1===/safari/i.test(o),{isiPad:U(r),isiPhone:U(i),isTablet:U(c),isPhone:U(l),isTouch:U(s),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:U(f)})}},be={detect:Xt(function(){var t=navigator.userAgent;return pe(t)})},ye={tap:U("alloy.tap")},we=U("alloy.focus"),xe=U("alloy.blur.post"),ke=U("alloy.receive"),ze=U("alloy.execute"),Se=U("alloy.focus.item"),Oe=ye.tap,Ce=be.detect().deviceType.isTouch()?ye.tap:Nt,Me=U("alloy.longpress"),He=U("alloy.sandbox.close"),Ve=U("alloy.typeahead.cancel"),Ee=U("alloy.system.init"),Te=U("alloy.system.scroll"),Ae=U("alloy.system.attached"),Be=U("alloy.system.detached"),_e=U("alloy.system.dismissRequested"),De=U("alloy.focusmanager.shifted"),Fe=U("alloy.slotcontainer.visibility"),Re=U("alloy.change.tab"),Le=U("alloy.dismiss.tab"),Ie=function(t){if(null===t||t===undefined)throw new Error("Node cannot be null or undefined");return{dom:U(t)}},Pe={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||1<n.childNodes.length)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return Ie(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return Ie(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return Ie(n)},fromDom:Ie,fromPoint:function(t,e,n){var o=t.dom();return j.from(o.elementFromPoint(e,n)).map(Ie)}},je=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(e.length!==n.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+n.length+" arguments");var o={};return T(e,function(t,e){o[t]=U(n[e])}),o}},Ne=function(t){return t.slice(0).sort()},Ue=function(e,t){if(!k(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");T(t,function(t){if(!w(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},We=function(r,i){var n,a=r.concat(i);if(0===a.length)throw new Error("You must specify at least one required or optional field.");return Ue("required",r),Ue("optional",i),n=Ne(a),D(n,function(t,e){return e<n.length-1&&t===n[e+1]}).each(function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+n.join(", ")+"].")}),function(e){var n=Q(e);W(r,function(t){return M(n,t)})||function(t,e){throw new Error("All required keys ("+Ne(t).join(", ")+") were not specified. Specified keys were: "+Ne(e).join(", ")+".")}(r,n);var t=A(n,function(t){return!M(a,t)});0<t.length&&function(t){throw new Error("Unsupported keys for object: "+Ne(t).join(", "))}(t);var o={};return T(r,function(t){o[t]=U(e[t])}),T(i,function(t){o[t]=U(Object.prototype.hasOwnProperty.call(e,t)?j.some(e[t]):j.none())}),o}},Ge="undefined"!=typeof window?window:Function("return this;")(),Xe=function(t,e){return function(t,e){for(var n=e!==undefined&&null!==e?e:Ge,o=0;o<t.length&&n!==undefined&&null!==n;++o)n=n[t[o]];return n}(t.split("."),e)},Ye={getOrDie:function(t,e){var n=Xe(t,e);if(n===undefined||null===n)throw t+" not available on this browser";return n}},qe=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),Ke=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Je=Node.TEXT_NODE,$e=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,Ke),Qe=qe,Ze=function(t,e){var n=t.dom();if(n.nodeType!==$e)return!1;if(n.matches!==undefined)return n.matches(e);if(n.msMatchesSelector!==undefined)return n.msMatchesSelector(e);if(n.webkitMatchesSelector!==undefined)return n.webkitMatchesSelector(e);if(n.mozMatchesSelector!==undefined)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},tn=function(t){return t.nodeType!==$e&&t.nodeType!==Qe||0===t.childElementCount},en=function(t,e){return t.dom()===e.dom()},nn=(be.detect().browser.isIE(),function(t){return Pe.fromDom(t.dom().ownerDocument)}),on=function(t){var e=t.dom().ownerDocument.defaultView;return Pe.fromDom(e)},rn=function(t){var e=t.dom();return j.from(e.parentNode).map(Pe.fromDom)},an=function(t){var e=t.dom();return j.from(e.offsetParent).map(Pe.fromDom)},un=function(t){var e=t.dom();return E(e.childNodes,Pe.fromDom)},cn=function(t,e){var n=t.dom().childNodes;return j.from(n[e]).map(Pe.fromDom)},sn=(je("element","offset"),function(e,n){rn(e).each(function(t){t.dom().insertBefore(n.dom(),e.dom())})}),ln=function(t,e){var n;(n=t.dom(),j.from(n.nextSibling).map(Pe.fromDom)).fold(function(){rn(t).each(function(t){dn(t,e)})},function(t){sn(t,e)})},fn=function(e,n){cn(e,0).fold(function(){dn(e,n)},function(t){e.dom().insertBefore(n.dom(),t.dom())})},dn=function(t,e){t.dom().appendChild(e.dom())},mn=function(e,t){T(t,function(t){dn(e,t)})},hn=function(t){t.dom().textContent="",T(un(t),function(t){gn(t)})},gn=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},vn=function(t){return t.dom().innerHTML},pn=function(t,e){var n,o,r=nn(t).dom(),i=Pe.fromDom(r.createDocumentFragment()),a=(n=e,(o=(r||document).createElement("div")).innerHTML=n,un(Pe.fromDom(o)));mn(i,a),hn(t),dn(t,i)},bn=function(t){return t.dom().nodeName.toLowerCase()},yn=function(e){return function(t){return t.dom().nodeType===e}},wn=yn(Ke),xn=yn(Je),kn=yn(qe),zn=function(t,e,n){if(!(w(n)||z(n)||O(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},Sn=function(t,e,n){zn(t.dom(),e,n)},On=function(t,e){var n=t.dom();tt(e,function(t,e){zn(n,e,t)})},Cn=function(t,e){var n=t.dom().getAttribute(e);return null===n?undefined:n},Mn=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Hn=function(t,e){t.dom().removeAttribute(e)},Vn=function(t){return e=t,n=!1,Pe.fromDom(e.dom().cloneNode(n));var e,n},En=function(t){var e,n,o,r=Vn(t);return e=r,n=Pe.fromTag("div"),o=Pe.fromDom(e.dom().cloneNode(!0)),dn(n,o),vn(n)},Tn=function(t){return En(t)},An="unknown",Bn="__CHROME_INSPECTOR_CONNECTION_TO_ALLOY__";(i=s||(s={}))[i.STOP=0]="STOP",i[i.NORMAL=1]="NORMAL",i[i.LOGGING=2]="LOGGING";var _n,Dn,Fn=Ot({}),Rn=function(e,t,n){var o,r,i,a;switch(wt(Fn.get(),e).orThunk(function(){var t=Q(Fn.get());return Mt(t,function(t){return-1<e.indexOf(t)?j.some(Fn.get()[t]):j.none()})}).getOr(s.NORMAL)){case s.NORMAL:return n(Nn());case s.LOGGING:var u=(o=e,r=t,i=[],a=(new Date).getTime(),{logEventCut:function(t,e,n){i.push({outcome:"cut",target:e,purpose:n})},logEventStopped:function(t,e,n){i.push({outcome:"stopped",target:e,purpose:n})},logNoParent:function(t,e,n){i.push({outcome:"no-parent",target:e,purpose:n})},logEventNoHandlers:function(t,e){i.push({outcome:"no-handlers-left",target:e})},logEventResponse:function(t,e,n){i.push({outcome:"response",purpose:n,target:e})},write:function(){var t=(new Date).getTime();M(["mousemove","mouseover","mouseout",Ee()],o)||console.log(o,{event:o,time:t-a,target:r.dom(),sequence:E(i,function(t){return M(["cut","stopped","response"],t.outcome)?"{"+t.purpose+"} "+t.outcome+" at ("+Tn(t.target)+")":t.outcome})})}}),c=n(u);return u.write(),c;case s.STOP:return!0}},Ln=["alloy/data/Fields","alloy/debugging/Debugging"],In=function(t,e,n){return Rn(t,e,n)},Pn=function(){if(window[Bn]!==undefined)return window[Bn];var e=function(t,e){var n=Fn.get();n[t]=e,Fn.set(n)};return window[Bn]={systems:{},lookup:function(e){var n=window[Bn].systems,t=Q(n);return Mt(t,function(t){return n[t].getByUid(e).toOption().map(function(t){return xt(Tn(t.element()),(e=function(n){var t=n.spec();return{"(original.spec)":t,"(dom.ref)":n.element().dom(),"(element)":Tn(n.element()),"(initComponents)":E(t.components!==undefined?t.components:[],e),"(components)":E(n.components(),e),"(bound.events)":ot(n.events(),function(t,e){return[e]}).join(", "),"(behaviours)":t.behaviours!==undefined?et(t.behaviours,function(t,e){return t===undefined?"--revoked--":{config:t.configAsRaw(),"original-config":t.initialConfig,state:n.readState(e)}}):"none"}})(t));var e})}).orThunk(function(){return j.some({error:"Systems ("+t.join(", ")+") did not contain uid: "+e})})},events:{setToNormal:function(t){e(t,s.NORMAL)},setToLogging:function(t){e(t,s.LOGGING)},setToStop:function(t){e(t,s.STOP)}}},window[Bn]},jn=function(t,e){Pn().systems[t]=e},Nn=U({logEventCut:P,logEventStopped:P,logNoParent:P,logEventNoHandlers:P,logEventResponse:P,write:P}),Un=0,Wn=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++Un+String(e)},Gn=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Xn=dt([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Yn=function(t){return Xn.defaultedThunk(U(t))},qn=Xn.strict,Kn=Xn.asOption,Jn=Xn.defaultedThunk,$n=Xn.mergeWithThunk;(Dn=_n||(_n={}))[Dn.Error=0]="Error",Dn[Dn.Value=1]="Value";var Qn=function(t,e,n){return t.stype===_n.Error?e(t.serror):n(t.svalue)},Zn=function(t){return{stype:_n.Value,svalue:t}},to=function(t){return{stype:_n.Error,serror:t}},eo=function(t){return t.fold(to,Zn)},no=function(t){return Qn(t,ft.error,ft.value)},oo=Zn,ro=function(t){var e=[],n=[];return T(t,function(t){Qn(t,function(t){return n.push(t)},function(t){return e.push(t)})}),{values:e,errors:n}},io=to,ao=function(t,e){return t.stype===_n.Value?e(t.svalue):t},uo=function(t,e){return t.stype===_n.Error?e(t.serror):t},co=function(t,e){return t.stype===_n.Value?{stype:_n.Value,svalue:e(t.svalue)}:t},so=function(t,e){return t.stype===_n.Error?{stype:_n.Error,serror:e(t.serror)}:t},lo=function(t){return g(io,I)(t)},fo=function(t,e){var n,o,r=ro(t);return 0<r.errors.length?lo(r.errors):(n=r.values,o=e,0<n.length?oo(gt(o,vt.apply(undefined,n))):oo(o))},mo=function(t){var e=ro(t);return 0<e.errors.length?lo(e.errors):oo(e.values)},ho=dt([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),go=dt([{field:["name","presence","type"]},{state:["name"]}]),vo=function(){return Ye.getOrDie("JSON")},po=function(t,e,n){return vo().stringify(t,e,n)},bo=function(t){return x(t)&&100<Q(t).length?" removed due to size":po(t,null,2)},yo=function(t,e){return io([{path:t,getErrorInfo:e}])},wo=dt([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),xo=function(n,o,r){return ut(o,r).fold(function(){return t=r,e=o,yo(n,function(){return'Could not find valid *strict* value for "'+t+'" in '+bo(e)});var t,e},oo)},ko=function(t,e,n){var o=ut(t,e).fold(function(){return n(t)},d);return oo(o)},zo=function(u,c,t,s){return t.fold(function(r,n,t,o){var i=function(t){var e=o.extract(u.concat([r]),s,t);return co(e,function(t){return ct(n,s(t))})},a=function(t){return t.fold(function(){var t=ct(n,s(j.none()));return oo(t)},function(t){var e=o.extract(u.concat([r]),s,t);return co(e,function(t){return ct(n,s(j.some(t)))})})};return t.fold(function(){return ao(xo(u,c,r),i)},function(t){return ao(ko(c,r,t),i)},function(){return ao(oo(ut(c,r)),a)},function(t){return ao((n=t,o=ut(e=c,r).map(function(t){return!0===t?n(e):t}),oo(o)),a);var e,n,o},function(t){var e=t(c),n=co(ko(c,r,U({})),function(t){return gt(e,t)});return ao(n,i)})},function(t,e){var n=e(c);return oo(ct(t,s(n)))})},So=function(o){return{extract:function(n,t,e){return uo(o(e,t),function(t){return e=t,yo(n,function(){return e});var e})},toString:function(){return"val"},toDsl:function(){return ho.itemOf(o)}}},Oo=function(t){var c=Co(t),s=B(t,function(e,t){return t.fold(function(t){return gt(e,xt(t,!0))},U(e))},{});return{extract:function(t,e,n){var o,r,i,a=z(n)?[]:(r=Q(o=n),A(r,function(t){return St(o,t)})),u=A(a,function(t){return!St(s,t)});return 0===u.length?c.extract(t,e,n):(i=u,yo(t,function(){return"There are unsupported fields: ["+i.join(", ")+"] specified"}))},toString:c.toString,toDsl:c.toDsl}},Co=function(u){return{extract:function(t,e,n){return o=t,r=n,i=e,a=E(u,function(t){return zo(o,r,t,i)}),fo(a,{});var o,r,i,a},toString:function(){return"obj{\n"+E(u,function(t){return t.fold(function(t,e,n,o){return t+" -> "+o.toString()},function(t,e){return"state("+t+")"})}).join("\n")+"}"},toDsl:function(){return ho.objOf(E(u,function(t){return t.fold(function(t,e,n,o){return go.field(t,n,o)},function(t,e){return go.state(t)})}))}}},Mo=function(r){return{extract:function(n,o,t){var e=E(t,function(t,e){return r.extract(n.concat(["["+e+"]"]),o,t)});return mo(e)},toString:function(){return"array("+r.toString()+")"},toDsl:function(){return ho.arrOf(r)}}},Ho=function(u,c){return{extract:function(n,o,r){var t,e,i=Q(r),a=(t=n,e=i,Mo(So(u)).extract(t,d,e));return ao(a,function(t){var e=E(t,function(t){return wo.field(t,t,qn(),c)});return Co(e).extract(n,o,r)})},toString:function(){return"setOf("+c.toString()+")"},toDsl:function(){return ho.setOf(u,c)}}},Vo=U(So(oo)),Eo=g(Mo,Co),To=wo.state,Ao=wo.field,Bo=function(n,e,o,r,i){return wt(r,i).fold(function(){return t=r,e=i,yo(n,function(){return'The chosen schema: "'+e+'" did not exist in branches: '+bo(t)});var t,e},function(t){return Co(t).extract(n.concat(["branch: "+i]),e,o)})},_o=function(r,i){return{extract:function(e,n,o){return wt(o,r).fold(function(){return t=r,yo(e,function(){return'Choice schema did not contain choice key: "'+t+'"'});var t},function(t){return Bo(e,n,o,i,t)})},toString:function(){return"chooseOn("+r+"). Possible values: "+Q(i)},toDsl:function(){return ho.choiceOf(r,i)}}},Do=So(oo),Fo=function(e){return So(function(t){return e(t).fold(io,oo)})},Ro=function(e,t){return Ho(function(t){return eo(e(t))},t)},Lo=function(t,e,n){return no((o=t,r=d,i=n,a=e.extract([o],r,i),so(a,function(t){return{input:i,errors:t}})));var o,r,i,a},Io=function(t){return t.fold(function(t){throw new Error(jo(t))},d)},Po=function(t,e,n){return Io(Lo(t,e,n))},jo=function(t){return"Errors: \n"+(e=t.errors,n=10<e.length?e.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):e,E(n,function(t){return"Failed path: ("+t.path.join(" > ")+")\n"+t.getErrorInfo()}))+"\n\nInput object: "+bo(t.input);var e,n},No=function(t,e){return _o(t,e)},Uo=U(Do),Wo=function(n,o){return So(function(t){var e=typeof t;return n(t)?oo(t):io("Expected type: "+o+" but got: "+e)})},Go=Wo(O,"number"),Xo=Wo(w,"string"),Yo=Wo(z,"boolean"),qo=Wo(S,"function"),Ko=function(t){return Ao(t,t,qn(),Vo())},Jo=function(t,e){return Ao(t,t,qn(),e)},$o=function(t){return Jo(t,Xo)},Qo=function(t){return Jo(t,qo)},Zo=function(t,e){return Ao(t,t,qn(),Co(e))},tr=function(t,e){return Ao(t,t,qn(),Eo(e))},er=function(t,e){return Ao(t,t,qn(),Mo(e))},nr=function(t){return Ao(t,t,Kn(),Vo())},or=function(t,e){return Ao(t,t,Kn(),e)},rr=function(t){return or(t,Xo)},ir=function(t,e){return Ao(t,t,Kn(),Co(e))},ar=function(t,e){return Ao(t,t,Yn(e),Vo())},ur=function(t,e,n){return Ao(t,t,Yn(e),n)},cr=function(t,e){return ur(t,e,Go)},sr=function(t,e){return ur(t,e,Xo)},lr=function(t,e){return ur(t,e,Yo)},fr=function(t,e){return ur(t,e,qo)},dr=function(t,e,n){return Ao(t,t,Yn(e),Co(n))},mr=function(t,e){return To(t,e)},hr=function(t){if(!St(t,"can")&&!St(t,"abort")&&!St(t,"run"))throw new Error("EventHandler defined by: "+po(t,null,2)+" does not have can, abort, or run!");return Po("Extracting event.handler",Oo([ar("can",U(!0)),ar("abort",U(!1)),ar("run",P)]),t)},gr=function(n){var e,o,r,i,t=(e=n,o=function(t){return t.can},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return _(e,function(t,e){return t&&o(e).apply(undefined,n)},!0)}),a=(r=n,i=function(t){return t.abort},function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return _(r,function(t,e){return t||i(e).apply(undefined,n)},!1)});return hr({can:t,abort:a,run:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];T(n,function(t){t.run.apply(undefined,e)})}})},vr=undefined&&undefined.__assign||function(){return(vr=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pr=function(t,e){xr(t,t.element(),e,{})},br=function(t,e,n){xr(t,t.element(),e,n)},yr=function(t){pr(t,ze())},wr=function(t,e,n){xr(t,e,n,{})},xr=function(t,e,n,o){var r=vr({target:e},o);t.getSystem().triggerEvent(n,e,et(r,U))},kr=function(t,e,n,o){t.getSystem().triggerEvent(n,e,o.event())},zr=function(t){var e=xn(t)?t.dom().parentNode:t.dom();return e!==undefined&&null!==e&&e.ownerDocument.body.contains(e)},Sr=Xt(function(){return Or(Pe.fromDom(document))}),Or=function(t){var e=t.dom().body;if(null===e||e===undefined)throw"Body is not available yet";return Pe.fromDom(e)};function Cr(t,e,n,o,r){return t(n,o)?j.some(n):S(r)&&r(n)?j.none():e(n,o,r)}var Mr,Hr,Vr,Er,Tr=function(t,e,n){for(var o=t.dom(),r=S(n)?n:U(!1);o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o);if(e(i))return j.some(i);if(r(i))break}return j.none()},Ar=function(t,e,n){return Cr(function(t){return e(t)},Tr,t,e,n)},Br=function(t,o){var r=function(t){for(var e=0;e<t.childNodes.length;e++){if(o(Pe.fromDom(t.childNodes[e])))return j.some(Pe.fromDom(t.childNodes[e]));var n=r(t.childNodes[e]);if(n.isSome())return n}return j.none()};return r(t.dom())},_r=function(t,e,n){return Ar(t,function(t){return e(t).isSome()},n).bind(e)},Dr=function(t){return kt(t)},Fr=function(t,e){return{key:t,value:hr({abort:e})}},Rr=function(t){return{key:t,value:hr({run:function(t,e){e.event().prevent()}})}},Lr=function(t,e){return{key:t,value:hr({run:e})}},Ir=function(t,e,n){return{key:t,value:hr({run:function(t){e.apply(undefined,[t].concat(n))}})}},Pr=function(t){return function(o){return{key:t,value:hr({run:function(t,e){var n;n=e,en(t.element(),n.event().target())&&o(t,e)}})}}},jr=function(t,e,n){var o,r,i=e.partUids[n];return r=i,Lr(o=t,function(t,e){t.getSystem().getByUid(r).each(function(t){kr(t,t.element(),o,e)})})},Nr=function(t,r){return Lr(t,function(e,t){var n=t.event(),o=e.getSystem().getByDom(n.target()).fold(function(){return _r(n.target(),function(t){return e.getSystem().getByDom(t).toOption()},U(!1)).getOr(e)},function(t){return t});r(e,o,t)})},Ur=function(t){return Lr(t,function(t,e){e.cut()})},Wr=function(t){return Lr(t,function(t,e){e.stop()})},Gr=function(t,e){return Pr(t)(e)},Xr=Pr(Ae()),Yr=Pr(Be()),qr=Pr(Ee()),Kr=(Mr=ze(),function(t){return Lr(Mr,t)}),Jr=Dr([(Hr=we(),Vr=function(t,e){var n,o,r=e.event().originator(),i=e.event().target();return o=i,!(en(n=r,t.element())&&!en(n,o)&&(console.warn(we()+" did not get interpreted by the desired target. \nOriginator: "+Tn(r)+"\nTarget: "+Tn(i)+"\nCheck the "+we()+" event handlers"),1))},{key:Hr,value:hr({can:Vr})})]),$r=Object.freeze({events:Jr}),Qr=U("alloy-id-"),Zr=U("data-alloy-id"),ti=Qr(),ei=Zr(),ni=function(t,e){Object.defineProperty(t.dom(),ei,{value:e,writable:!0})},oi=function(t){var e=wn(t)?t.dom()[ei]:null;return j.from(e)},ri=function(t){return Wn(t)},ii=d,ai=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+"\n"+Tn(e().element())+" is not in context.")}};return{debugInfo:U("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:U(!1)}},ui=ai(),ci=function(t){return E(t,function(t){return o=e="/*",r=(n=t).length-e.length,""!==o&&(n.length<o.length||n.substr(r,r+o.length)!==o)?t:t.substring(0,t.length-"/*".length);var e,n,o,r})},si=function(t,e){var n=t.toString(),o=n.indexOf(")")+1,r=n.indexOf("("),i=n.substring(r+1,o-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:e,parameters:ci(i)}},t},li=Wn("alloy-premade"),fi=function(t){return xt(li,t)},di=function(o){return t=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o.apply(undefined,[t.getApis()].concat([t].concat(e)))},e=o.toString(),n=e.indexOf(")")+1,r=e.indexOf("("),i=e.substring(r+1,n-1).split(/,\s*/),t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ci(i.slice(1))}},t;var t,e,n,r,i},mi={init:function(){return hi({readState:function(){return"No State required"}})}},hi=function(t){return t},gi=function(t,r){var i={};return tt(t,function(t,o){tt(t,function(t,e){var n=yt(e,[])(i);i[e]=n.concat([r(o,t)])})}),i},vi=undefined&&undefined.__assign||function(){return(vi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pi=function(t){return{classes:t.classes!==undefined?t.classes:[],attributes:t.attributes!==undefined?t.attributes:{},styles:t.styles!==undefined?t.styles:{}}},bi=undefined&&undefined.__assign||function(){return(bi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},yi=function(t,e){return n=f.apply(undefined,[t.handler].concat(e)),o=t.purpose(),{cHandler:n,purpose:U(o)};var n,o},wi=function(t){return t.cHandler},xi=undefined&&undefined.__assign||function(){return(xi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ki=function(t,e){return{name:U(t),handler:U(e)}},zi=function(t,e,n){var o,r,i=xi({},n,(o=t,r={},T(e,function(t){r[t.name()]=t.handlers(o)}),r));return gi(i,ki)},Si=function(t){var e,i=S(e=t)?{can:U(!0),abort:U(!1),run:e}:e;return function(t,e){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var r=[t,e].concat(n);i.abort.apply(undefined,r)?e.stop():i.can.apply(undefined,r)&&i.run.apply(undefined,r)}},Oi=function(t,e,n){var o,r,i=e[n];return i?function(a,u,t,c){var e=t.slice(0);try{var n=e.sort(function(t,e){var n=t[u](),o=e[u](),r=c.indexOf(n),i=c.indexOf(o);if(-1===r)throw new Error("The ordering for "+a+" does not have an entry for "+n+".\nOrder specified: "+po(c,null,2));if(-1===i)throw new Error("The ordering for "+a+" does not have an entry for "+o+".\nOrder specified: "+po(c,null,2));return r<i?-1:i<r?1:0});return ft.value(n)}catch(o){return ft.error([o])}}("Event: "+n,"name",t,i).map(function(t){var e=E(t,function(t){return t.handler()});return gr(e)}):(o=n,r=t,ft.error(["The event ("+o+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+po(E(r,function(t){return t.name()}),null,2)]))},Ci=function(t,i){var e=ot(t,function(o,r){return(1===o.length?ft.value(o[0].handler()):Oi(o,i,r)).map(function(t){var e=Si(t),n=1<o.length?A(i,function(e){return M(o,function(t){return t.name()===e})}).join(" > "):o[0].name();return xt(r,{handler:e,purpose:U(n)})})});return zt(e,{})},Mi=undefined&&undefined.__assign||function(){return(Mi=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Hi=function(t){return Lo("custom.definition",Co([Ao("dom","dom",qn(),Co([Ko("tag"),ar("styles",{}),ar("classes",[]),ar("attributes",{}),nr("value"),nr("innerHtml")])),Ko("components"),Ko("uid"),ar("events",{}),ar("apis",{}),Ao("eventOrder","eventOrder",(e={"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing"],mousedown:["focusing","alloy.base.behaviour","item-type-events"]},Xn.mergeWithThunk(U(e))),Uo()),nr("domModification")]),t);var e},Vi=function(t,e){var n=Cn(t,e);return n===undefined||""===n?[]:n.split(" ")},Ei=function(t){return t.dom().classList!==undefined},Ti=function(t){return Vi(t,"class")},Ai=function(t,e){return r=e,i=Vi(n=t,o="class").concat([r]),Sn(n,o,i.join(" ")),!0;var n,o,r,i},Bi=function(t,e){return r=e,0<(i=A(Vi(n=t,o="class"),function(t){return t!==r})).length?Sn(n,o,i.join(" ")):Hn(n,o),!1;var n,o,r,i},_i=function(t,e){Ei(t)?t.dom().classList.add(e):Ai(t,e)},Di=function(t,e){var n;Ei(t)?t.dom().classList.remove(e):Bi(t,e),0===(Ei(n=t)?n.dom().classList:Ti(n)).length&&Hn(n,"class")},Fi=function(t,e){return Ei(t)?t.dom().classList.toggle(e):(o=e,M(Ti(n=t),o)?Bi(n,o):Ai(n,o));var n,o},Ri=function(t,e){return Ei(t)&&t.dom().classList.contains(e)},Li=function(e,t){T(t,function(t){_i(e,t)})},Ii=function(e,t){T(t,function(t){Di(e,t)})},Pi=function(t){return t.style!==undefined},ji=function(t,e,n){if(!w(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Pi(t)&&t.style.setProperty(e,n)},Ni=function(t,e){Pi(t)&&t.style.removeProperty(e)},Ui=function(t,e,n){var o=t.dom();ji(o,e,n)},Wi=function(t,e){var n=t.dom();tt(e,function(t,e){ji(n,e,t)})},Gi=function(t,e){var n=t.dom(),o=window.getComputedStyle(n).getPropertyValue(e),r=""!==o||zr(t)?o:Xi(n,e);return null===r?undefined:r},Xi=function(t,e){return Pi(t)?t.style.getPropertyValue(e):""},Yi=function(t,e){var n=t.dom(),o=Xi(n,e);return j.from(o).filter(function(t){return 0<t.length})},qi=function(t,e){var n=t.dom();Ni(n,e),Mn(t,"style")&&""===Cn(t,"style").replace(/^\s+|\s+$/g,"")&&Hn(t,"style")},Ki=function(t){return t.dom().offsetWidth},Ji=function(t){return t.dom().value},$i=function(t,e){if(e===undefined)throw new Error("Value.set was undefined");t.dom().value=e},Qi=function(t,e){return n=t,r=E(o=e,function(t){return ir(t.name(),[Ko("config"),ar("state",mi)])}),i=Lo("component.behaviours",Co(r),n.behaviours).fold(function(t){throw new Error(jo(t)+"\nComplete spec:\n"+po(n,null,2))},function(t){return t}),{list:o,data:et(i,function(t){var e=t.map(function(t){return{config:t.config,state:t.state.init(t.config)}});return function(){return e}})};var n,o,r,i},Zi=function(t){var e,n,o,r=(e=t,n=yt("behaviours",{})(e),o=A(Q(n),function(t){return n[t]!==undefined}),E(o,function(t){return n[t].me}));return Qi(t,r)},ta=function(t,e,n){var o,r,i,a=Mi({},(o=t).dom,{uid:o.uid,domChildren:E(o.components,function(t){return t.element()})}),u=t.domModification.fold(function(){return pi({})},pi),c={"alloy.base.modification":u},s=0<e.length?function(e,t,n,o){var r=bi({},t);T(n,function(t){r[t.name()]=t.exhibit(e,o)});var i=gi(r,function(t,e){return{name:t,modification:e}}),a=function(t){return B(t,function(t,e){return bi({},e.modification,t)},{})},u=B(i.classes,function(t,e){return e.modification.concat(t)},[]),c=a(i.attributes),s=a(i.styles);return pi({classes:u,attributes:c,styles:s})}(n,c,e,a):u;return i=s,vi({},r=a,{attributes:vi({},r.attributes,i.attributes),styles:vi({},r.styles,i.styles),classes:r.classes.concat(i.classes)})},ea=function(t,e,n){var o,r,i,a,u,c,s={"alloy.base.behaviour":(o=t,o.events)};return(r=n,i=t.eventOrder,a=e,u=s,c=zi(r,a,u),Ci(c,i)).getOrDie()},na=function(n){var t=function(){return l},o=Ot(ui),e=Io(Hi(n)),r=Zi(n),i=r.list,a=r.data,u=function(t){var e=Pe.fromTag(t.tag);On(e,t.attributes),Li(e,t.classes),Wi(e,t.styles),t.innerHtml.each(function(t){return pn(e,t)});var n=t.domChildren;return mn(e,n),t.value.each(function(t){$i(e,t)}),t.uid,ni(e,t.uid),e}(ta(e,i,a)),c=ea(e,i,a),s=Ot(e.components),l={getSystem:o.get,config:function(t){var e=a;return(S(e[t.name()])?e[t.name()]:function(){throw new Error("Could not find "+t.name()+" in "+po(n,null,2))})()},hasConfigured:function(t){return S(a[t.name()])},spec:U(n),readState:function(t){return a[t]().map(function(t){return t.state.readState()}).getOr("not enabled")},getApis:function(){return e.apis},connect:function(t){o.set(t)},disconnect:function(){o.set(ai(t))},element:U(u),syncComponents:function(){var t=un(u),e=N(t,function(t){return o.get().getByDom(t).fold(function(){return[]},function(t){return[t]})});s.set(e)},components:s.get,events:U(c)};return l},oa=undefined&&undefined.__assign||function(){return(oa=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ra=undefined&&undefined.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},ia=function(t){var e,n,o=ii(t),r=o.events,i=ra(o,["events"]),a=(e=i,n=yt("components",[])(e),E(n,sa)),u=oa({},i,{events:oa({},$r,r),components:a});return ft.value(na(u))},aa=function(t){var e=Pe.fromText(t);return ua({element:e})},ua=function(t){var e=Po("external.component",Oo([Ko("element"),nr("uid")]),t),n=Ot(ai());e.uid.each(function(t){ni(e.element,t)});var o={getSystem:n.get,config:j.none,hasConfigured:U(!1),connect:function(t){n.set(t)},disconnect:function(){n.set(ai(function(){return o}))},getApis:function(){return{}},element:U(e.element),spec:U(t),readState:U("No state"),syncComponents:P,components:U([]),events:U({})};return fi(o)},ca=(Er=0,function(t){return t+"_"+ ++Er}),sa=function(e){return(t=e,wt(t,li)).fold(function(){var t=e.hasOwnProperty("uid")?e:oa({uid:ca("")},e);return ia(t).getOrDie()},function(t){return t});var t},la=fi,fa=function(t,e,n){return Tr(t,function(t){return Ze(t,e)},n)},da=function(t,e){return n=e,r=(o=t)===undefined?document:o.dom(),tn(r)?j.none():j.from(r.querySelector(n)).map(Pe.fromDom);var n,o,r},ma=function(t,e,n){return Cr(Ze,fa,t,e,n)},ha=function(e,t){return(n=t,Ar(n,function(t){if(!wn(t))return!1;var e=Cn(t,"id");return e!==undefined&&-1<e.indexOf("aria-owns")}).bind(function(t){var e=Cn(t,"id"),n=nn(t);return da(n,'[aria-owns="'+e+'"]')})).exists(function(t){return ga(e,t)});var n},ga=function(e,t){return n=t,r=U(!(o=function(t){return en(t,e.element())})),Ar(n,o,r).isSome()||ha(e,t);var n,o,r},va=U([Ko("menu"),Ko("selectedMenu")]),pa=U([Ko("item"),Ko("selectedItem")]),ba=(U(Co(pa().concat(va()))),U(Co(pa()))),ya=Zo("initSize",[Ko("numColumns"),Ko("numRows")]),wa=function(){return Zo("markers",[Ko("backgroundMenu")].concat(va()).concat(pa()))},xa=function(t){return Zo("markers",E(t,Ko))},ka=function(t,e,n){return function(){var t=new Error;if(t.stack!==undefined){var e=t.stack.split("\n");D(e,function(e){return 0<e.indexOf("alloy")&&!H(Ln,function(t){return-1<e.indexOf(t)})}).getOr(An)}}(),Ao(e,e,n,Fo(function(n){return ft.value(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(undefined,t)})}))},za=function(t){return ka(0,t,Yn(P))},Sa=function(t){return ka(0,t,Yn(j.none))},Oa=function(t){return ka(0,t,qn())},Ca=function(t){return ka(0,t,qn())},Ma=function(t,e){return mr(t,U(e))},Ha=function(t){return mr(t,d)},Va=U(ya),Ea=undefined&&undefined.__assign||function(){return(Ea=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ta=function(n,o,r){return qr(function(t,e){r(t,n,o)})},Aa=function(t,e,n,o,r,i){var a,u,c=Oo(t),s=ir(e,[(a="config",u=t,Ao(a,a,Kn(),Oo(u)))]);return Da(c,s,e,n,o,r,i)},Ba=function(r,i,a){var t,e,n,o,u,c;return t=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var o=[n].concat(t);return n.config({name:U(r)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+r+". Using API: "+a)},function(t){var e=Array.prototype.slice.call(o,1);return i.apply(undefined,[n,t.config,t.state].concat(e))})},e=a,n=i.toString(),o=n.indexOf(")")+1,u=n.indexOf("("),c=n.substring(u+1,o-1).split(/,\s*/),t.toFunctionAnnotation=function(){return{name:e,parameters:ci(c.slice(0,1).concat(c.slice(3)))}},t},_a=function(t){return{key:t,value:undefined}},Da=function(n,t,o,r,e,i,a){var u=function(t){return St(t,o)?t[o]():j.none()},c=et(e,function(t,e){return Ba(o,t,e)}),s=et(i,function(t,e){return si(t,e)}),l=Ea({},s,c,{revoke:f(_a,o),config:function(t){var e=Po(o+"-config",n,t);return{key:o,value:{config:e,me:l,configAsRaw:Xt(function(){return Po(o+"-config",n,t)}),initialConfig:t,state:a}}},schema:function(){return t},exhibit:function(t,n){return u(t).bind(function(e){return wt(r,"exhibit").map(function(t){return t(n,e.config,e.state)})}).getOr(pi({}))},name:function(){return o},handlers:function(t){return u(t).map(function(t){return yt("events",function(t,e){return{}})(r)(t.config,t.state)}).getOr({})}});return l},Fa=function(t){return kt(t)},Ra=Oo([Ko("fields"),Ko("name"),ar("active",{}),ar("apis",{}),ar("state",mi),ar("extra",{})]),La=function(t){var e=Po("Creating behaviour: "+t.name,Ra,t);return Aa(e.fields,e.name,e.active,e.apis,e.extra,e.state)},Ia=Oo([Ko("branchKey"),Ko("branches"),Ko("name"),ar("active",{}),ar("apis",{}),ar("state",mi),ar("extra",{})]),Pa=function(t){var e,n,o,r,i,a,u,c,s=Po("Creating behaviour: "+t.name,Ia,t);return e=No(s.branchKey,s.branches),n=s.name,o=s.active,r=s.apis,i=s.extra,a=s.state,c=ir(n,[or("config",u=e)]),Da(u,c,n,o,r,i,a)},ja=U(undefined),Na=Object.freeze({events:function(u){return Dr([Lr(ke(),function(r,i){var t,e,a=u.channels,n=Q(a),o=(t=n,(e=i).universal()?t:A(t,function(t){return M(e.channels(),t)}));T(o,function(t){var e=a[t],n=e.schema,o=Po("channel["+t+"] data\nReceiver: "+Tn(r.element()),n,i.data());e.onReceive(r,o)})})])}}),Ua=[Jo("channels",Ro(ft.value,Oo([Oa("onReceive"),ar("schema",Uo())])))],Wa=La({fields:Ua,name:"receiving",active:Na}),Ga=Object.freeze({exhibit:function(t,e){return pi({classes:[],styles:e.useFixed?{}:{position:"relative"}})}}),Xa=function(n,o){return{left:U(n),top:U(o),translate:function(t,e){return Xa(n+t,o+e)}}},Ya=Xa,qa=function(t,e){return t!==undefined?t:e!==undefined?e:0},Ka=function(t){var e,n,o=t.dom().ownerDocument,r=o.body,i=(e=Pe.fromDom(o),(n=e.dom())===n.window&&e instanceof Window?e:kn(e)?n.defaultView||n.parentWindow:null),a=o.documentElement,u=qa(i.pageYOffset,a.scrollTop),c=qa(i.pageXOffset,a.scrollLeft),s=qa(a.clientTop,r.clientTop),l=qa(a.clientLeft,r.clientLeft);return Ja(t).translate(c-l,u-s)},Ja=function(t){var e,n,o,r=t.dom(),i=r.ownerDocument,a=i.body,u=Pe.fromDom(i.documentElement);return a===r?Ya(a.offsetLeft,a.offsetTop):(e=t,n=u||Pe.fromDom(document.documentElement),Tr(e,f(en,n)).isSome()?(o=r.getBoundingClientRect(),Ya(o.left,o.top)):Ya(0,0))},$a=(be.detect().browser.isSafari(),function(t){var e=t!==undefined?t.dom():document,n=e.body.scrollLeft||e.documentElement.scrollLeft,o=e.body.scrollTop||e.documentElement.scrollTop;return Ya(n,o)});function Qa(o,r){var t=function(t){var e=r(t);if(e<=0||null===e){var n=Gi(t,o);return parseFloat(n)||0}return e},i=function(r,t){return _(t,function(t,e){var n=Gi(r,e),o=n===undefined?0:parseInt(n,10);return isNaN(o)?t:t+o},0)};return{set:function(t,e){if(!O(e)&&!e.match(/^[0-9]+$/))throw o+".set accepts only positive integer values. Value was "+e;var n=t.dom();Pi(n)&&(n.style[o]=e+"px")},get:t,getOuter:t,aggregate:i,max:function(t,e,n){var o=i(t,n);return o<e?e-o:0}}}var Za=Qa("width",function(t){return t.dom().offsetWidth}),tu=function(t){return Za.get(t)},eu=function(t){return Za.getOuter(t)},nu=Qa("height",function(t){var e=t.dom();return zr(t)?e.getBoundingClientRect().height:e.offsetHeight}),ou=function(t){return nu.get(t)},ru=function(t){return nu.getOuter(t)},iu=We(["x","y","width","height","maxHeight","direction","classes","label","candidateYforTest"],[]),au=je("position","left","top","right","bottom"),uu=dt([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),cu=uu.southeast,su=uu.southwest,lu=uu.northeast,fu=uu.northwest,du=uu.south,mu=uu.north,hu=uu.east,gu=uu.west,vu=je("point","width","height"),pu=je("x","y","width","height"),bu=function(t,e,n,o){return{x:U(t),y:U(e),width:U(n),height:U(o),right:U(t+n),bottom:U(e+o)}},yu=function(t){var e=Ka(t),n=eu(t),o=ru(t);return bu(e.left(),e.top(),n,o)},wu=function(o,t){return o.view(t).fold(U([]),function(t){var e=o.owner(t),n=wu(o,e);return[t].concat(n)})},xu=Object.freeze({view:function(t){return(t.dom()===document?j.none():j.from(t.dom().defaultView.frameElement)).map(Pe.fromDom)},owner:function(t){return nn(t)}}),ku=function(o){var t,e,n,r,i=Pe.fromDom(document),a=$a(i);return(t=o,n=(e=xu).owner(t),r=wu(e,n),j.some(r)).fold(f(Ka,o),function(t){var e=Ja(o),n=B(t,function(t,e){var n=Ja(e);return{left:t.left+n.left(),top:t.top+n.top()}},{left:0,top:0});return Ya(n.left+e.left()+a.left(),n.top+e.top()+a.top())})},zu=function(){var t=window.innerWidth,e=window.innerHeight,n=Pe.fromDom(document),o=$a(n);return bu(o.left(),o.top(),t,e)},Su=dt([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Ou=function(t,e,n,o,r,i){var a,u,c,s,l,f,d,m,h,g=e.x()-n,v=e.y()-o,p=r-(g+e.width()),b=i-(v+e.height()),y=j.some(g),w=j.some(v),x=j.some(p),k=j.some(b),z=j.none();return a=e.direction(),u=function(){return au(t,y,w,z,z)},c=function(){return au(t,z,w,x,z)},s=function(){return au(t,y,z,z,k)},l=function(){return au(t,z,z,x,k)},f=function(){return au(t,y,w,z,z)},d=function(){return au(t,y,z,z,k)},m=function(){return au(t,y,w,z,z)},h=function(){return au(t,z,w,x,z)},a.fold(u,c,s,l,f,d,m,h)},Cu=function(t,e){var n=f(ku,e),o=t.fold(n,n,function(){var t=$a();return ku(e).translate(-t.left(),-t.top())}),r=eu(e),i=ru(e);return bu(o.left(),o.top(),r,i)},Mu=Su.relative,Hu=Su.fixed,Vu=je("anchorBox","origin"),Eu=dt([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),Tu=function(t,R,L,I,P){var j=L.width(),N=L.height(),o=function(t,o,r,i){var e,n,a,u,c,s,l,f,d,m,h,g,v,p,b,y,w,x,k,z,S,O,C,M,H,V,E,T,A,B,_,D,F=t(R,L,I);return(n=j,a=N,u=P,d=(e=F).x(),m=e.y(),h=e.bubble().offset().left(),g=e.bubble().offset().top(),v=u.x(),p=u.y(),b=u.width(),y=u.height(),z=p<=(x=m+g),S=(k=v<=(w=d+h))&&z,O=w+n<=v+b&&x+a<=p+y,C=k?Math.min(n,v+b-w):Math.abs(v-(w+n)),M=z?Math.min(a,p+y-x):Math.abs(p-(x+a)),H=u.width()-n,V=Math.max(0,w),E=Math.min(V,H),A=U((T=z?x:x+(a-M))+M-p),B=U(p+y-T),c=e.direction(),l=s=B,f=A,_=c.fold(s,s,f,f,s,f,l,l),D=iu({x:E,y:T,width:C,height:M,maxHeight:_,direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:x}),S&&O?Eu.fit(D):Eu.nofit(D,C,M)).fold(Eu.fit,function(t,e,n){return i<n||r<e?Eu.nofit(t,e,n):Eu.nofit(o,r,i)})};return _(t,function(t,e){var n=f(o,e);return t.fold(Eu.fit,n)},Eu.nofit(iu({x:R.x(),y:R.y(),width:L.width(),height:L.height(),maxHeight:L.height(),direction:cu(),classes:[],label:"none",candidateYforTest:R.y()}),-1,-1)).fold(d,d)},Au=function(t,e,n,o){qi(e,"max-height");var r,i={width:U(eu(r=e)),height:U(ru(r))};return Tu(o.preference(),t,i,n,o.bounds())},Bu=function(t,e,n){var o,r,i,a,u,c=function(t){return t+"px"},s=(o=n.origin(),r=e,o.fold(function(){return au("absolute",j.some(r.x()),j.some(r.y()),j.none(),j.none())},function(t,e,n,o){return Ou("absolute",r,t,e,n,o)},function(t,e,n,o){return Ou("fixed",r,t,e,n,o)}));i=t,a={position:j.some(s.position()),left:s.left().map(c),top:s.top().map(c),right:s.right().map(c),bottom:s.bottom().map(c)},u=i.dom(),tt(a,function(t,e){t.fold(function(){Ni(u,e)},function(t){ji(u,e,t)})})},_u=function(t,e){var n,o,r;n=t,o=Math.floor(e),r=nu.max(n,o,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),Ui(n,"max-height",r+"px")},Du=U(function(t,e){_u(t,e),Wi(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Fu=U(function(t,e){_u(t,e)}),Ru=We(["bounds","origin","preference","maxHeightFunction"],[]),Lu=function(t,e,n,o,r,i){var a,u,c,s,l,f=(a=i,u="maxHeightFunction",c=Du(),a[u]===undefined?c:a[u]),d=t.anchorBox(),m=t.origin(),h=Ru({bounds:(s=m,l=r,l.fold(function(){return s.fold(zu,zu,bu)},function(t){return s.fold(t,t,bu)})),origin:m,preference:o,maxHeightFunction:f});Iu(d,e,n,h)},Iu=function(t,e,n,o){var r,i,a,u,c=Au(t,e,n,o);Bu(e,c,o),r=e,i=c.classes(),Ii(r,i.off),Li(r,i.on),a=e,u=c,o.maxHeightFunction()(a,u.maxHeight())},Pu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],ju=function(t,e,n){var r=function(t){return wt(n,t).getOr([])},o=function(t,e,n){var o=Y(Pu,n);return{offset:function(){return Ya(t,e)},classesOn:function(){return N(n,r)},classesOff:function(){return N(o,r)}}};return{southeast:function(){return o(-t,e,["top","alignLeft"])},southwest:function(){return o(t,e,["top","alignRight"])},south:function(){return o(-t/2,e,["top","alignCentre"])},northeast:function(){return o(-t,-e,["bottom","alignLeft"])},northwest:function(){return o(t,-e,["bottom","alignRight"])},north:function(){return o(-t/2,-e,["bottom","alignCentre"])},east:function(){return o(t,-e/2,["valignCentre","left"])},west:function(){return o(-t,-e/2,["valignCentre","right"])}}},Nu=function(){return ju(0,0,{})},Uu=je("x","y","bubble","direction","label"),Wu=function(t){return t.x()},Gu=function(t,e){return t.x()+t.width()/2-e.width()/2},Xu=function(t,e){return t.x()+t.width()-e.width()},Yu=function(t,e){return t.y()-e.height()},qu=function(t){return t.y()+t.height()},Ku=function(t,e){return t.y()+t.height()/2-e.height()/2},Ju=function(t,e,n){return Uu(Wu(t),qu(t),n.southeast(),cu(),"layout-se")},$u=function(t,e,n){return Uu(Xu(t,e),qu(t),n.southwest(),su(),"layout-sw")},Qu=function(t,e,n){return Uu(Wu(t),Yu(t,e),n.northeast(),lu(),"layout-ne")},Zu=function(t,e,n){return Uu(Xu(t,e),Yu(t,e),n.northwest(),fu(),"layout-nw")},tc=function(t,e,n){return Uu(Gu(t,e),Yu(t,e),n.north(),mu(),"layout-n")},ec=function(t,e,n){return Uu(Gu(t,e),qu(t),n.south(),du(),"layout-s")},nc=function(t,e,n){return Uu((o=t).x()+o.width(),Ku(t,e),n.east(),hu(),"layout-e");var o},oc=function(t,e,n){return Uu((o=e,t.x()-o.width()),Ku(t,e),n.west(),gu(),"layout-w");var o},rc=function(){return[Ju,$u,Qu,Zu,ec,tc,nc,oc]},ic=function(){return[$u,Ju,Zu,Qu,ec,tc,nc,oc]},ac=function(t){return t},uc=function(e,n){return function(t){return"rtl"===cc(t)?n:e}},cc=function(t){return"rtl"===Gi(t,"direction")?"rtl":"ltr"},sc=function(){return ir("layouts",[Ko("onLtr"),Ko("onRtl")])},lc=function(e,t,n,o){var r=t.layouts.map(function(t){return t.onLtr(e)}).getOr(n),i=t.layouts.map(function(t){return t.onRtl(e)}).getOr(o);return uc(r,i)(e)},fc=[Ko("hotspot"),sc(),Ma("placement",function(t,e,n){var o=e.hotspot,r=Cu(n,o.element()),i=lc(t.element(),e,rc(),ic());return j.some(ac({anchorBox:r,bubble:Nu(),overrides:{},layouts:i,placer:j.none()}))})],dc=[Ko("x"),Ko("y"),ar("height",0),ar("width",0),ar("bubble",Nu()),sc(),Ma("placement",function(t,e,n){var o=bu(e.x,e.y,e.width,e.height),r=lc(t.element(),e,rc(),ic());return j.some(ac({anchorBox:o,bubble:e.bubble,overrides:{},layouts:r,placer:j.none()}))})],mc=(dt([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),dt([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),hc=je("start","soffset","finish","foffset"),gc=mc.exact,vc=function(t,e,n,o){var r,i,a,u,c,s=(i=e,a=n,u=o,(c=nn(r=t).dom().createRange()).setStart(r.dom(),i),c.setEnd(a.dom(),u),c),l=en(t,n)&&e===o;return s.collapsed&&!l},pc=function(t,e,n){var o,r,i=t.document.createRange();return o=i,e.fold(function(t){o.setStartBefore(t.dom())},function(t,e){o.setStart(t.dom(),e)},function(t){o.setStartAfter(t.dom())}),r=i,n.fold(function(t){r.setEndBefore(t.dom())},function(t,e){r.setEnd(t.dom(),e)},function(t){r.setEndAfter(t.dom())}),i},bc=function(t,e,n,o,r){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(o.dom(),r),i},yc=function(t){return{left:U(t.left),top:U(t.top),right:U(t.right),bottom:U(t.bottom),width:U(t.width),height:U(t.height)}},wc=dt([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),xc=function(t,e,n){return e(Pe.fromDom(n.startContainer),n.startOffset,Pe.fromDom(n.endContainer),n.endOffset)},kc=function(t,e){var r,n,o,i=(r=t,e.match({domRange:function(t){return{ltr:U(t),rtl:j.none}},relative:function(t,e){return{ltr:Xt(function(){return pc(r,t,e)}),rtl:Xt(function(){return j.some(pc(r,e,t))})}},exact:function(t,e,n,o){return{ltr:Xt(function(){return bc(r,t,e,n,o)}),rtl:Xt(function(){return j.some(bc(r,n,o,t,e))})}}}));return(o=(n=i).ltr()).collapsed?n.rtl().filter(function(t){return!1===t.collapsed}).map(function(t){return wc.rtl(Pe.fromDom(t.endContainer),t.endOffset,Pe.fromDom(t.startContainer),t.startOffset)}).getOrThunk(function(){return xc(0,wc.ltr,o)}):xc(0,wc.ltr,o)},zc=function zV(n,o){var r=function(t){return n(t)?j.from(t.dom().nodeValue):j.none()},t=be.detect().browser,e=t.isIE()&&10===t.version.major?function(t){try{return r(t)}catch(e){return j.none()}}:r;return{get:function(t){if(!n(t))throw new Error("Can only get "+o+" value of a "+o+" node");return e(t).getOr("")},getOption:e,set:function(t,e){if(!n(t))throw new Error("Can only set raw "+o+" value of a "+o+" node");t.dom().nodeValue=e}}}(xn,"text"),Sc=function(t){return zc.get(t)},Oc=(document.caretPositionFromPoint||document.caretRangeFromPoint,function(t,e){return n=e,r=(o=t)===undefined?document:o.dom(),tn(r)?[]:E(r.querySelectorAll(n),Pe.fromDom);var n,o,r}),Cc=function(t){var e=Pe.fromDom(t.anchorNode),n=Pe.fromDom(t.focusNode);return vc(e,t.anchorOffset,n,t.focusOffset)?j.some(hc(Pe.fromDom(t.anchorNode),t.anchorOffset,Pe.fromDom(t.focusNode),t.focusOffset)):function(t){if(0<t.rangeCount){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return j.some(hc(Pe.fromDom(e.startContainer),e.startOffset,Pe.fromDom(n.endContainer),n.endOffset))}return j.none()}(t)},Mc=function(t,e){var i,n,o,r,a=kc(i=t,e).match({ltr:function(t,e,n,o){var r=i.document.createRange();return r.setStart(t.dom(),e),r.setEnd(n.dom(),o),r},rtl:function(t,e,n,o){var r=i.document.createRange();return r.setStart(n.dom(),o),r.setEnd(t.dom(),e),r}});return o=(n=a).getClientRects(),0<(r=0<o.length?o[0]:n.getBoundingClientRect()).width||0<r.height?j.some(r).map(yc):j.none()},Hc=je("element","offset"),Vc=dt([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Ec=function(t){return t.fold(function(t){return t},function(t,e,n){return t.translate(-e,-n)})},Tc=function(t){return t.fold(function(t){return t},function(t,e,n){return t})},Ac=function(t){return _(t,function(t,e){return t.translate(e.left(),e.top())},Ya(0,0))},Bc=function(t){var e=E(t,Tc);return Ac(e)},_c=Vc.screen,Dc=Vc.absolute,Fc=function(t,e,n){var o,r,i,a=nn(t.element()),u=$a(a),c=(o=t,r=n,i=on(r.root).dom(),j.from(i.frameElement).map(Pe.fromDom).filter(function(t){var e=nn(t),n=nn(o.element());return en(e,n)}).map(Ka)).getOr(u);return Dc(c,u.left(),u.top())},Rc=function(t,e,n,o){var r=t,i=e,a=n,u=o;t<0&&(r=0,a=n+t),e<0&&(i=0,u=o+e);var c=_c(Ya(r,i));return j.some(vu(c,a,u))},Lc=function(t,c,s,l,f){return t.map(function(t){var e,n,o,r=[c,t.point()],i=(e=function(){return Bc(r)},n=function(){return Bc(r)},o=function(){return t=E(r,Ec),Ac(t);var t},l.fold(e,n,o)),a=pu(i.left(),i.top(),t.width(),t.height()),u=lc(f,s,s.showAbove?[Qu,Zu,Ju,$u,tc,ec]:[Ju,$u,Qu,Zu,ec,ec],s.showAbove?[Zu,Qu,$u,Ju,tc,ec]:[$u,Ju,Zu,Qu,ec,tc]);return ac({anchorBox:a,bubble:s.bubble.getOr(Nu()),overrides:s.overrides,layouts:u,placer:j.none()})})},Ic=je("element","offset"),Pc=function(t,e){return xn(t)?Ic(t,e):function(t,e){var n=un(t);if(0===n.length)return Hc(t,e);if(e<n.length)return Hc(n[e],0);var o=n[n.length-1],r=xn(o)?Sc(o).length:un(o).length;return Hc(o,r)}(t,e)},jc=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return t=e,j.from(t.getSelection()).filter(function(t){return 0<t.rangeCount}).bind(Cc);var t}})().map(function(t){var e=Pc(t.start(),t.soffset()),n=Pc(t.finish(),t.foffset());return hc(e.element(),e.offset(),n.element(),n.offset())})},Nc=[nr("getSelection"),Ko("root"),nr("bubble"),sc(),ar("overrides",{}),ar("showAbove",!1),Ma("placement",function(t,e,n){var o=on(e.root).dom(),r=Fc(t,0,e),i=jc(o,e).bind(function(t){var e;return Mc(o,(e=t,mc.exact(e.start(),e.soffset(),e.finish(),e.foffset()))).orThunk(function(){var e=Pe.fromText("\ufeff");return sn(t.start(),e),Mc(o,gc(e,0,e,1)).map(function(t){return gn(e),t})}).bind(function(t){return Rc(t.left(),t.top(),t.width(),t.height())})}),a=jc(o,e).bind(function(t){return wn(t.start())?j.some(t.start()):rn(t.start())}).getOr(t.element());return Lc(i,r,e,n,a)})],Uc=[Ko("node"),Ko("root"),nr("bubble"),sc(),ar("overrides",{}),ar("showAbove",!1),Ma("placement",function(r,i,a){var u=Fc(r,0,i);return i.node.bind(function(t){var e=t.dom().getBoundingClientRect(),n=Rc(e.left,e.top,e.width,e.height),o=i.node.getOr(r.element());return Lc(n,u,i,a,o)})})],Wc=function(t){return t.x()+t.width()},Gc=function(t,e){return t.x()-e.width()},Xc=function(t,e){return t.y()-e.height()+t.height()},Yc=function(t){return t.y()},qc=function(t,e,n){return Uu(Wc(t),Yc(t),n.southeast(),cu(),"link-layout-se")},Kc=function(t,e,n){return Uu(Gc(t,e),Yc(t),n.southwest(),su(),"link-layout-sw")},Jc=function(t,e,n){return Uu(Wc(t),Xc(t,e),n.northeast(),lu(),"link-layout-ne")},$c=function(t,e,n){return Uu(Gc(t,e),Xc(t,e),n.northwest(),fu(),"link-layout-nw")},Qc=[Ko("item"),sc(),Ma("placement",function(t,e,n){var o=Cu(n,e.item.element()),r=lc(t.element(),e,[qc,Kc,Jc,$c],[Kc,qc,$c,Jc]);return j.some(ac({anchorBox:o,bubble:Nu(),overrides:{},layouts:r,placer:j.none()}))})],Zc=No("anchor",{selection:Nc,node:Uc,hotspot:fc,submenu:Qc,makeshift:dc}),ts=function(t,e,n,o,r){var i,a=(i=n.anchorBox,Vu(i,e));Lu(a,r.element(),n.bubble,n.layouts,o,n.overrides)},es=function(e,t,n,o,r,i){var a=Po("positioning anchor.info",Zc,o);Ui(r.element(),"position","fixed");var u=Yi(r.element(),"visibility");Ui(r.element(),"visibility","hidden");var c,s,l,f=t.useFixed?Hu(0,0,window.innerWidth,window.innerHeight):(s=Ka((c=e).element()),l=c.element().dom().getBoundingClientRect(),Mu(s.left(),s.top(),l.width,l.height)),d=a.placement,m=i.map(function(t){return function(){return yu(t)}}).or(t.getBounds);d(e,a,f).each(function(t){t.placer.getOr(ts)(e,f,t,m,r)}),u.fold(function(){qi(r.element(),"visibility")},function(t){Ui(r.element(),"visibility",t)}),Yi(r.element(),"left").isNone()&&Yi(r.element(),"top").isNone()&&Yi(r.element(),"right").isNone()&&Yi(r.element(),"bottom").isNone()&&Yi(r.element(),"position").is("fixed")&&qi(r.element(),"position")},ns=Object.freeze({position:function(t,e,n,o,r){var i=j.none();es(t,e,n,o,r,i)},positionWithin:es,getMode:function(t,e,n){return e.useFixed?"fixed":"absolute"}}),os=[ar("useFixed",!1),nr("getBounds")],rs=La({fields:os,name:"positioning",active:Ga,apis:ns}),is=function(t){pr(t,Be());var e=t.components();T(e,is)},as=function(t){var e=t.components();T(e,as),pr(t,Ae())},us=function(t,e){cs(t,e,dn)},cs=function(t,e,n){t.getSystem().addToWorld(e),n(t.element(),e.element()),zr(t.element())&&as(e),t.syncComponents()},ss=function(t){is(t),gn(t.element()),t.getSystem().removeFromWorld(t)},ls=function(e){var t=rn(e.element()).bind(function(t){return e.getSystem().getByDom(t).fold(j.none,j.some)});ss(e),t.each(function(t){t.syncComponents()})},fs=function(t){var e=t.components();T(e,ss),hn(t.element()),t.syncComponents()},ds=function(t,e){ms(t,e,dn)},ms=function(t,e,n){n(t,e.element());var o=un(e.element());T(o,function(t){e.getByDom(t).each(as)})},hs=function(e){var t=un(e.element());T(t,function(t){e.getByDom(t).each(is)}),gn(e.element())},gs=function(t,e,n,o){var r=function(e,t,n,o){n.get().each(function(t){fs(e)});var r=t.getAttachPoint(e);us(r,e);var i=e.getSystem().build(o);return us(e,i),n.set(i),i}(t,e,n,o);return e.onOpen(t,r),r},vs=function(e,n,o){o.get().each(function(t){fs(e),ls(e),n.onClose(e,t),o.clear()})},ps=function(t,e,n){return n.isOpen()},bs=function(t,e,n){var o,r,i,a,u=e.getAttachPoint(t);Ui(t.element(),"position",rs.getMode(u)),o=t,r="visibility",i=e.cloakVisibilityAttr,a="hidden",Yi(o.element(),r).fold(function(){Hn(o.element(),i)},function(t){Sn(o.element(),i,t)}),Ui(o.element(),r,a)},ys=function(t,e,n){var o;o=t.element(),H(["top","left","right","bottom"],function(t){return Yi(o,t).isSome()})||qi(t.element(),"position"),function(t,e,n){if(Mn(t.element(),n)){var o=Cn(t.element(),n);Ui(t.element(),e,o)}else qi(t.element(),e)}(t,"visibility",e.cloakVisibilityAttr)},ws=Object.freeze({cloak:bs,decloak:ys,open:gs,openWhileCloaked:function(t,e,n,o,r){bs(t,e,n),gs(t,e,n,o),r(),ys(t,e,n)},close:vs,isOpen:ps,isPartOf:function(e,n,t,o){return ps(0,0,t)&&t.get().exists(function(t){return n.isPartOf(e,t,o)})},getState:function(t,e,n){return n.get()}}),xs=Object.freeze({events:function(n,o){return Dr([Lr(He(),function(t,e){vs(t,n,o)})])}}),ks=[za("onOpen"),za("onClose"),Ko("isPartOf"),Ko("getAttachPoint"),ar("cloakVisibilityAttr","data-precloak-visibility")],zs=La({fields:ks,name:"sandboxing",active:xs,apis:ws,state:Object.freeze({init:function(){var e=Ot(j.none()),t=U("not-implemented");return hi({readState:t,isOpen:function(){return e.get().isSome()},clear:function(){e.set(j.none())},set:function(t){e.set(j.some(t))},get:function(t){return e.get()}})}})}),Ss=U("dismiss.popups"),Os=U("mouse.released"),Cs=Oo([ar("isExtraPart",U(!1)),ir("fireEventInstead",[ar("event",_e())])]),Ms=function(t){var e=Hs(t);return Wa.config(e)},Hs=function(t){var n=Po("Dismissal",Cs,t);return{channels:xt(Ss(),{schema:Oo([Ko("target")]),onReceive:function(e,t){zs.isOpen(e)&&(zs.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold(function(){return zs.close(e)},function(t){return pr(e,t.event)}))}})}},Vs=undefined&&undefined.__assign||function(){return(Vs=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Es=function(o,t){return dr(o,{},E(t,function(t){return e=t.name(),n="Cannot configure "+t.name()+" for "+o,Ao(e,e,Kn(),So(function(t){return io("The field: "+e+" is forbidden. "+n)}));var e,n}).concat([mr("dump",d)]))},Ts=function(t){return t.dump},As=function(t,e){return Vs({},t.dump,Fa(e))},Bs=Es,_s=As,Ds=undefined&&undefined.__assign||function(){return(Ds=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Fs="placeholder",Rs=dt([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Ls=function(t,e,n,o){return n.uiType===Fs?(i=n,a=o,(r=t).exists(function(t){return t!==i.owner})?Rs.single(!0,U(i)):wt(a,i.name).fold(function(){throw new Error("Unknown placeholder component: "+i.name+"\nKnown: ["+Q(a)+"]\nNamespace: "+r.getOr("none")+"\nSpec: "+po(i,null,2))},function(t){return t.replace()})):Rs.single(!1,U(n));var r,i,a},Is=function(i,a,u,c){return Ls(i,0,u,c).fold(function(t,e){var n=e(a,u.config,u.validated),o=wt(n,"components").getOr([]),r=N(o,function(t){return Is(i,a,t,c)});return[Ds({},n,{components:r})]},function(t,e){var n=e(a,u.config,u.validated);return u.validated.preprocess.getOr(d)(n)})},Ps=function(e,n,t,o){var r,i,a,u=et(o,function(t,e){return o=t,r=!1,{name:U(n=e),required:function(){return o.fold(function(t,e){return t},function(t,e){return t})},used:function(){return r},replace:function(){if(!0===r)throw new Error("Trying to use the same placeholder more than once: "+n);return r=!0,o}};var n,o,r}),c=(r=e,i=n,a=u,N(t,function(t){return Is(r,i,t,a)}));return tt(u,function(t){if(!1===t.used()&&t.required())throw new Error("Placeholder: "+t.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+po(n.components,null,2))}),c},js=Rs.single,Ns=Rs.multiple,Us=U(Fs),Ws=dt([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Gs=ar("factory",{sketch:d}),Xs=ar("schema",[]),Ys=Ko("name"),qs=Ao("pname","pname",Jn(function(t){return"<alloy."+Wn(t.name)+">"}),Uo()),Ks=mr("schema",function(){return[nr("preprocess")]}),Js=ar("defaults",U({})),$s=ar("overrides",U({})),Qs=Co([Gs,Xs,Ys,qs,Js,$s]),Zs=Co([Gs,Xs,Ys,Js,$s]),tl=Co([Gs,Xs,Ys,qs,Js,$s]),el=Co([Gs,Ks,Ys,Ko("unit"),qs,Js,$s]),nl=function(t){return t.fold(j.some,j.none,j.some,j.some)},ol=function(t){var e=function(t){return t.name};return t.fold(e,e,e,e)},rl=function(n,o){return function(t){var e=Po("Converting part type",o,t);return n(e)}},il=rl(Ws.required,Qs),al=rl(Ws.external,Zs),ul=rl(Ws.optional,tl),cl=rl(Ws.group,el),sl=U("entirety"),ll=Object.freeze({required:il,external:al,optional:ul,group:cl,asNamedPart:nl,name:ol,asCommon:function(t){return t.fold(d,d,d,d)},original:sl}),fl=function(t,e,n,o){return gt(e.defaults(t,n,o),n,{uid:t.partUids[e.name]},e.overrides(t,n,o))},dl=undefined&&undefined.__assign||function(){return(dl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},ml=function(r,t){var e={};return T(t,function(t){nl(t).each(function(n){var o=hl(r,n.pname);e[n.name]=function(t){var e=Po("Part: "+n.name+" in "+r,Co(n.schema),t);return dl({},o,{config:t,validated:e})}})}),e},hl=function(t,e){return{uiType:Us(),owner:t,name:e}},gl=function(t,e,n){return{uiType:Us(),owner:t,name:e,config:n,validated:{}}},vl=function(t){return N(t,function(t){return t.fold(j.none,j.some,j.none,j.none).map(function(t){return Zo(t.name,t.schema.concat([Ha(sl())]))}).toArray()})},pl=function(t){return E(t,ol)},bl=function(t,e,n){return o=e,i={},r={},T(n,function(t){t.fold(function(o){i[o.pname]=js(!0,function(t,e,n){return o.factory.sketch(fl(t,o,e,n))})},function(t){var e=o.parts[t.name];r[t.name]=U(t.factory.sketch(fl(o,t,e[sl()]),e))},function(o){i[o.pname]=js(!1,function(t,e,n){return o.factory.sketch(fl(t,o,e,n))})},function(r){i[r.pname]=Ns(!0,function(e,t,n){var o=e[r.name];return E(o,function(t){return r.factory.sketch(gt(r.defaults(e,t,n),t,r.overrides(e,t)))})})})}),{internals:U(i),externals:U(r)};var o,i,r},yl=function(t,e,n){return Ps(j.some(t),e,e.components,n)},wl=function(t,e,n){var o=e.partUids[n];return t.getSystem().getByUid(o).toOption()},xl=function(t,e,n){return wl(t,e,n).getOrDie("Could not find part: "+n)},kl=function(t,e,n){var o={},r=e.partUids,i=t.getSystem();return T(n,function(t){o[t]=i.getByUid(r[t])}),et(o,U)},zl=function(t,e){var n=t.getSystem();return et(e.partUids,function(t,e){return U(n.getByUid(t))})},Sl=function(t){return Q(t.partUids)},Ol=function(t,e,n){var o={},r=e.partUids,i=t.getSystem();return T(n,function(t){o[t]=i.getByUid(r[t]).getOrDie()}),et(o,U)},Cl=function(e,t){var n=pl(t);return kt(E(n,function(t){return{key:t,value:e+"-"+t}}))},Ml=function(e){return Ao("partUids","partUids",$n(function(t){return Cl(t.uid,e)}),Uo())},Hl=Object.freeze({generate:ml,generateOne:gl,schemas:vl,names:pl,substitutes:bl,components:yl,defaultUids:Cl,defaultUidsSchema:Ml,getAllParts:zl,getAllPartNames:Sl,getPart:wl,getPartOrDie:xl,getParts:kl,getPartsOrDie:Ol}),Vl=function(t,e,n,o,r){var i,a,u=(a=r,(0<(i=o).length?[Zo("parts",i)]:[]).concat([Ko("uid"),ar("dom",{}),ar("components",[]),Ha("originalSpec"),ar("debug.sketcher",{})]).concat(a));return Po(t+" [SpecSchema]",Oo(u.concat(e)),n)},El=undefined&&undefined.__assign||function(){return(El=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Tl=function(t,e,n,o,r){var i=Al(r),a=vl(n),u=Ml(n),c=Vl(t,e,i,a,[u]),s=bl(0,c,n);return o(c,yl(t,c,s.internals()),i,s.externals())},Al=function(t){return t.hasOwnProperty("uid")?t:El({},t,{uid:ri("uid")})},Bl=undefined&&undefined.__assign||function(){return(Bl=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},_l=Oo([Ko("name"),Ko("factory"),Ko("configFields"),ar("apis",{}),ar("extraApis",{})]),Dl=Oo([Ko("name"),Ko("factory"),Ko("configFields"),Ko("partFields"),ar("apis",{}),ar("extraApis",{})]),Fl=function(t){var i=Po("Sketcher for "+t.name,_l,t),e=et(i.apis,di),n=et(i.extraApis,function(t,e){return si(t,e)});return Bl({name:U(i.name),partFields:U([]),configFields:U(i.configFields),sketch:function(t){return e=i.name,n=i.configFields,o=i.factory,r=Al(t),o(Vl(e,n,r,[],[]),r);var e,n,o,r}},e,n)},Rl=function(t){var e=Po("Sketcher for "+t.name,Dl,t),n=ml(e.name,e.partFields),o=et(e.apis,di),r=et(e.extraApis,function(t,e){return si(t,e)});return Bl({name:U(e.name),partFields:U(e.partFields),configFields:U(e.configFields),sketch:function(t){return Tl(e.name,e.configFields,e.partFields,e.factory,t)},parts:U(n)},o,r)},Ll=function(t){return"input"===bn(t)&&"radio"!==Cn(t,"type")||"textarea"===bn(t)},Il=Object.freeze({getCurrent:function(t,e,n){return e.find(t)}}),Pl=[Ko("find")],jl=La({fields:Pl,name:"composing",apis:Il}),Nl=function(t,e,n,o){var r=t+e;return o<r?n:r<n?o:r},Ul=function(t,e,n){return t<=e?e:n<=t?n:t},Wl=function(e,n,t){var o=Oc(e.element(),"."+n.highlightClass);T(o,function(t){Di(t,n.highlightClass),e.getSystem().getByDom(t).each(function(t){n.onDehighlight(e,t)})})},Gl=function(t,e,n,o){var r=Xl(t,e,n,o);Wl(t,e),_i(o.element(),e.highlightClass),r||e.onHighlight(t,o)},Xl=function(t,e,n,o){return Ri(o.element(),e.highlightClass)},Yl=function(t,e,n,o){var r=Oc(t.element(),"."+e.itemClass);return j.from(r[o]).fold(function(){return ft.error("No element found with index "+o)},t.getSystem().getByDom)},ql=function(e,t,n){return da(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Kl=function(e,t,n){var o=Oc(e.element(),"."+t.itemClass);return(0<o.length?j.some(o[o.length-1]):j.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Jl=function(n,e,t,o){var r=Oc(n.element(),"."+e.itemClass);return F(r,function(t){return Ri(t,e.highlightClass)}).bind(function(t){var e=Nl(t,o,0,r.length-1);return n.getSystem().getByDom(r[e]).toOption()})},$l=function(e,t,n){var o=Oc(e.element(),"."+t.itemClass);return Ct(E(o,function(t){return e.getSystem().getByDom(t).toOption()}))},Ql=Object.freeze({dehighlightAll:Wl,dehighlight:function(t,e,n,o){var r=Xl(t,e,n,o);Di(o.element(),e.highlightClass),r&&e.onDehighlight(t,o)},highlight:Gl,highlightFirst:function(e,n,o){ql(e,n,o).each(function(t){Gl(e,n,o,t)})},highlightLast:function(e,n,o){Kl(e,n,o).each(function(t){Gl(e,n,o,t)})},highlightAt:function(e,n,o,t){Yl(e,n,o,t).fold(function(t){throw new Error(t)},function(t){Gl(e,n,o,t)})},highlightBy:function(e,n,o,t){var r=$l(e,n,o);D(r,t).each(function(t){Gl(e,n,o,t)})},isHighlighted:Xl,getHighlighted:function(e,t,n){return da(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},getFirst:ql,getLast:Kl,getPrevious:function(t,e,n){return Jl(t,e,0,-1)},getNext:function(t,e,n){return Jl(t,e,0,1)},getCandidates:$l}),Zl=[Ko("highlightClass"),Ko("itemClass"),za("onHighlight"),za("onDehighlight")],tf=La({fields:Zl,name:"highlighting",apis:Ql}),ef=function(t,e,n){var o=X(t.slice(0,e)),r=X(t.slice(e+1));return D(o.concat(r),n)},nf=function(t,e,n){var o=X(t.slice(0,e));return D(o,n)},of=function(t,e,n){var o=t.slice(0,e),r=t.slice(e+1);return D(r.concat(o),n)},rf=function(t,e,n){var o=t.slice(e+1);return D(o,n)},af=function(n){return function(t){var e=t.raw();return M(n,e.which)}},uf=function(t){return function(e){return W(t,function(t){return t(e)})}},cf=function(t){return!0===t.raw().shiftKey},sf=function(t){return!0===t.raw().ctrlKey},lf=m(cf),ff=function(t,e){return{matches:t,classification:e}},df=function(t){t.dom().focus()},mf=function(t){var e=t!==undefined?t.dom():document;return j.from(e.activeElement).map(Pe.fromDom)},hf=function(e){return mf(nn(e)).filter(function(t){return e.dom().contains(t.dom())})},gf=function(t,e,n){e.exists(function(e){return n.exists(function(t){return en(t,e)})})||br(t,De(),{prevFocus:e,newFocus:n})},vf=function(){var r=function(t){return hf(t.element())};return{get:r,set:function(t,e){var n=r(t);t.getSystem().triggerFocus(e,t.element());var o=r(t);gf(t,n,o)}}},pf=function(){var r=function(t){return tf.getHighlighted(t).map(function(t){return t.element()})};return{get:r,set:function(e,t){var n=r(e);e.getSystem().getByDom(t).fold(P,function(t){tf.highlight(e,t)});var o=r(e);gf(e,n,o)}}},bf=function(t,e,n,i,a){var u=function(e,n,t,o,r){var i,a,u=t(e,n,o,r);return(i=u,a=n.event(),D(i,function(t){return t.matches(a)}).map(function(t){return t.classification})).bind(function(t){return t(e,n,o,r)})},o={schema:function(){return t.concat([ar("focusManager",vf()),Ma("handler",o),Ma("state",e)])},processKey:u,toEvents:function(o,r){return Dr(a.map(function(n){return Lr(we(),function(t,e){n(t,o,r,e),e.stop()})}).toArray().concat([Lr(Lt(),function(t,e){u(t,e,n,o,r).each(function(t){e.stop()})}),Lr(It(),function(t,e){u(t,e,i,o,r).each(function(t){e.stop()})})]))}};return o},yf=function(t){var e=[nr("onEscape"),nr("onEnter"),ar("selector",'[data-alloy-tabstop="true"]'),ar("firstTabstop",0),ar("useTabstopAt",U(!0)),nr("visibilitySelector")].concat([t]),a=function(t,e){var n=t.visibilitySelector.bind(function(t){return ma(e,t)}).getOr(e);return 0<ou(n)},u=function(e,t,n,o,r){return r(t,n,function(t){return a(e=o,n=t)&&e.useTabstopAt(n);var e,n}).fold(function(){return o.cyclic?j.some(!0):j.none()},function(t){return o.focusManager.set(e,t),j.some(!0)})},i=function(e,t,n,o){var r,i,a=Oc(e.element(),n.selector);return(r=e,i=n,i.focusManager.get(r).bind(function(t){return ma(t,i.selector)})).bind(function(t){return F(a,f(en,t)).bind(function(t){return u(e,a,t,n,o)})})},n=U([ff(uf([cf,af([9])]),function(t,e,n,o){var r=n.cyclic?ef:nf;return i(t,0,n,r)}),ff(af([9]),function(t,e,n,o){var r=n.cyclic?of:rf;return i(t,0,n,r)}),ff(af([27]),function(e,n,t,o){return t.onEscape.bind(function(t){return t(e,n)})}),ff(uf([lf,af([13])]),function(e,n,t,o){return t.onEnter.bind(function(t){return t(e,n)})})]),o=U([]);return bf(e,mi.init,n,o,j.some(function(e,n){var t,o,r,i;(t=e,o=n,r=Oc(t.element(),o.selector),i=A(r,function(t){return a(o,t)}),j.from(i[o.firstTabstop])).each(function(t){n.focusManager.set(e,t)})}))},wf=yf(mr("cyclic",U(!1))),xf=yf(mr("cyclic",U(!0))),kf=function(t,e,n){return Ll(n)&&af([32])(e.event())?j.none():(wr(t,n,ze()),j.some(!0))},zf=function(t,e){return j.some(!0)},Sf=[ar("execute",kf),ar("useSpace",!1),ar("useEnter",!0),ar("useControlEnter",!1),ar("useDown",!1)],Of=function(t,e,n){return n.execute(t,e,t.element())},Cf=bf(Sf,mi.init,function(t,e,n,o){var r=n.useSpace&&!Ll(t.element())?[32]:[],i=n.useEnter?[13]:[],a=n.useDown?[40]:[],u=r.concat(i).concat(a);return[ff(af(u),Of)].concat(n.useControlEnter?[ff(uf([sf,af([13])]),Of)]:[])},function(t,e,n,o){return n.useSpace&&!Ll(t.element())?[ff(af([32]),zf)]:[]},j.none()),Mf=function(t){var n=Ot(j.none());return hi({readState:function(){return n.get().map(function(t){return{numRows:t.numRows(),numColumns:t.numColumns()}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,e){n.set(j.some({numRows:U(t),numColumns:U(e)}))},getNumRows:function(){return n.get().map(function(t){return t.numRows()})},getNumColumns:function(){return n.get().map(function(t){return t.numColumns()})}})},Hf=Object.freeze({flatgrid:Mf,init:function(t){return t.state(t)}}),Vf=function(i){return function(t,e,n,o){var r=i(t.element());return Bf(r,t,e,n,o)}},Ef=function(t,e){var n=uc(t,e);return Vf(n)},Tf=function(t,e){var n=uc(e,t);return Vf(n)},Af=function(r){return function(t,e,n,o){return Bf(r,t,e,n,o)}},Bf=function(e,n,t,o,r){return o.focusManager.get(n).bind(function(t){return e(n.element(),t,o,r)}).map(function(t){return o.focusManager.set(n,t),!0})},_f=Af,Df=Af,Ff=Af,Rf=function(t){var e,n=t.dom();return!((e=n).offsetWidth<=0&&e.offsetHeight<=0)},Lf=We(["index","candidates"],[]),If=function(t,e,n){return Pf(t,e,n,Rf)},Pf=function(t,e,n,o){var r,i=f(en,e),a=Oc(t,n),u=A(a,Rf);return F(r=u,i).map(function(t){return Lf({index:t,candidates:r})})},jf=function(t,e){return F(t,function(t){return en(e,t)})},Nf=function(n,t,o,e){return e(Math.floor(t/o),t%o).bind(function(t){var e=t.row()*o+t.column();return 0<=e&&e<n.length?j.some(n[e]):j.none()})},Uf=function(r,t,i,a,u){return Nf(r,t,a,function(t,e){var n=t===i-1?r.length-t*a:a,o=Nl(e,u,0,n-1);return j.some({row:U(t),column:U(o)})})},Wf=function(i,t,a,u,c){return Nf(i,t,u,function(t,e){var n=Nl(t,c,0,a-1),o=n===a-1?i.length-n*u:u,r=Ul(e,0,o-1);return j.some({row:U(n),column:U(r)})})},Gf=[Ko("selector"),ar("execute",kf),Sa("onEscape"),ar("captureTab",!1),Va()],Xf=function(r){return function(t,e,n,o){return If(t,e,n.selector).bind(function(t){return r(t.candidates(),t.index(),o.getNumRows().getOr(n.initSize.numRows),o.getNumColumns().getOr(n.initSize.numColumns))})}},Yf=function(t,e,n,o){return n.captureTab?j.some(!0):j.none()},qf=Xf(function(t,e,n,o){return Uf(t,e,n,o,-1)}),Kf=Xf(function(t,e,n,o){return Uf(t,e,n,o,1)}),Jf=Xf(function(t,e,n,o){return Wf(t,e,n,o,-1)}),$f=Xf(function(t,e,n,o){return Wf(t,e,n,o,1)}),Qf=U([ff(af([37]),Ef(qf,Kf)),ff(af([39]),Tf(qf,Kf)),ff(af([38]),_f(Jf)),ff(af([40]),Df($f)),ff(uf([cf,af([9])]),Yf),ff(uf([lf,af([9])]),Yf),ff(af([27]),function(t,e,n,o){return n.onEscape(t,e)}),ff(af([32].concat([13])),function(e,n,o,t){return(r=e,i=o,i.focusManager.get(r).bind(function(t){return ma(t,i.selector)})).bind(function(t){return o.execute(e,n,t)});var r,i})]),Zf=U([ff(af([32]),zf)]),td=bf(Gf,Mf,Qf,Zf,j.some(function(e,n,t){da(e.element(),n.selector).each(function(t){n.focusManager.set(e,t)})})),ed=function(t,e,n,i){var a=function(t,e,n){var o,r=Nl(e,i,0,n.length-1);return r===t?j.none():(o=n[r],"button"===bn(o)&&"disabled"===Cn(o,"disabled")?a(t,r,n):j.from(n[r]))};return If(t,n,e).bind(function(t){var e=t.index(),n=t.candidates();return a(e,e,n)})},nd=[Ko("selector"),ar("getInitial",j.none),ar("execute",kf),Sa("onEscape"),ar("executeOnMove",!1),ar("allowVertical",!0)],od=function(e,n,o){return(t=e,r=o,r.focusManager.get(t).bind(function(t){return ma(t,r.selector)})).bind(function(t){return o.execute(e,n,t)});var t,r},rd=function(t,e,n){return ed(t,n.selector,e,-1)},id=function(t,e,n){return ed(t,n.selector,e,1)},ad=function(o){return function(t,e,n){return o(t,e,n).bind(function(){return n.executeOnMove?od(t,e,n):j.some(!0)})}},ud=function(t,e,n,o){return n.onEscape(t,e)},cd=U([ff(af([32]),zf)]),sd=bf(nd,mi.init,function(t,e,n,o){var r=[37].concat(n.allowVertical?[38]:[]),i=[39].concat(n.allowVertical?[40]:[]);return[ff(af(r),ad(Ef(rd,id))),ff(af(i),ad(Tf(rd,id))),ff(af([13]),od),ff(af([32]),od),ff(af([27]),ud)]},cd,j.some(function(e,n){n.getInitial(e).orThunk(function(){return da(e.element(),n.selector)}).each(function(t){n.focusManager.set(e,t)})})),ld=We(["rowIndex","columnIndex","cell"],[]),fd=function(t,e,n){return j.from(t[e]).bind(function(t){return j.from(t[n]).map(function(t){return ld({rowIndex:e,columnIndex:n,cell:t})})})},dd=function(t,e,n,o){var r=t[e].length,i=Nl(n,o,0,r-1);return fd(t,e,i)},md=function(t,e,n,o){var r=Nl(n,o,0,t.length-1),i=t[r].length,a=Ul(e,0,i-1);return fd(t,r,a)},hd=function(t,e,n,o){var r=t[e].length,i=Ul(n+o,0,r-1);return fd(t,e,i)},gd=function(t,e,n,o){var r=Ul(n+o,0,t.length-1),i=t[r].length,a=Ul(e,0,i-1);return fd(t,r,a)},vd=[Zo("selectors",[Ko("row"),Ko("cell")]),ar("cycles",!0),ar("previousSelector",j.none),ar("execute",kf)],pd=function(t,e){return function(n,o,i){var a=i.cycles?t:e;return ma(o,i.selectors.row).bind(function(t){var e=Oc(t,i.selectors.cell);return jf(e,o).bind(function(o){var r=Oc(n,i.selectors.row);return jf(r,t).bind(function(t){var e,n=(e=i,E(r,function(t){return Oc(t,e.selectors.cell)}));return a(n,t,o).map(function(t){return t.cell()})})})})}},bd=pd(function(t,e,n){return dd(t,e,n,-1)},function(t,e,n){return hd(t,e,n,-1)}),yd=pd(function(t,e,n){return dd(t,e,n,1)},function(t,e,n){return hd(t,e,n,1)}),wd=pd(function(t,e,n){return md(t,n,e,-1)},function(t,e,n){return gd(t,n,e,-1)}),xd=pd(function(t,e,n){return md(t,n,e,1)},function(t,e,n){return gd(t,n,e,1)}),kd=U([ff(af([37]),Ef(bd,yd)),ff(af([39]),Tf(bd,yd)),ff(af([38]),_f(wd)),ff(af([40]),Df(xd)),ff(af([32].concat([13])),function(e,n,o){return hf(e.element()).bind(function(t){return o.execute(e,n,t)})})]),zd=U([ff(af([32]),zf)]),Sd=bf(vd,mi.init,kd,zd,j.some(function(e,n){n.previousSelector(e).orThunk(function(){var t=n.selectors;return da(e.element(),t.cell)}).each(function(t){n.focusManager.set(e,t)})})),Od=[Ko("selector"),ar("execute",kf),ar("moveOnTab",!1)],Cd=function(e,n,o){return o.focusManager.get(e).bind(function(t){return o.execute(e,n,t)})},Md=function(t,e,n){return ed(t,n.selector,e,-1)},Hd=function(t,e,n){return ed(t,n.selector,e,1)},Vd=U([ff(af([38]),Ff(Md)),ff(af([40]),Ff(Hd)),ff(uf([cf,af([9])]),function(t,e,n){return n.moveOnTab?Ff(Md)(t,e,n):j.none()}),ff(uf([lf,af([9])]),function(t,e,n){return n.moveOnTab?Ff(Hd)(t,e,n):j.none()}),ff(af([13]),Cd),ff(af([32]),Cd)]),Ed=U([ff(af([32]),zf)]),Td=bf(Od,mi.init,Vd,Ed,j.some(function(e,n){da(e.element(),n.selector).each(function(t){n.focusManager.set(e,t)})})),Ad=[Sa("onSpace"),Sa("onEnter"),Sa("onShiftEnter"),Sa("onLeft"),Sa("onRight"),Sa("onTab"),Sa("onShiftTab"),Sa("onUp"),Sa("onDown"),Sa("onEscape"),ar("stopSpaceKeyup",!1),nr("focusIn")],Bd=bf(Ad,mi.init,function(t,e,n){return[ff(af([32]),n.onSpace),ff(uf([lf,af([13])]),n.onEnter),ff(uf([cf,af([13])]),n.onShiftEnter),ff(uf([cf,af([9])]),n.onShiftTab),ff(uf([lf,af([9])]),n.onTab),ff(af([38]),n.onUp),ff(af([40]),n.onDown),ff(af([37]),n.onLeft),ff(af([39]),n.onRight),ff(af([32]),n.onSpace),ff(af([27]),n.onEscape)]},function(t,e,n){return n.stopSpaceKeyup?[ff(af([32]),zf)]:[]},j.some(function(e,n){return n.focusIn.bind(function(t){return t(e,n)})})),_d=wf.schema(),Dd=xf.schema(),Fd=sd.schema(),Rd=td.schema(),Ld=Sd.schema(),Id=Cf.schema(),Pd=Td.schema(),jd=Bd.schema(),Nd=Pa({branchKey:"mode",branches:Object.freeze({acyclic:_d,cyclic:Dd,flow:Fd,flatgrid:Rd,matrix:Ld,execution:Id,menu:Pd,special:jd}),name:"keying",active:{events:function(t,e){return t.handler.toEvents(t,e)}},apis:{focusIn:function(t){t.getSystem().triggerFocus(t.element(),t.element())},setGridSize:function(t,e,n,o,r){St(n,"setGridSize")?n.setGridSize(o,r):console.error("Layout does not support setGridSize")}},state:Hf}),Ud=function(t,e,n,o){var r=t.getSystem().build(o);cs(t,r,n)},Wd=function(t,e,n,o){var r=Gd(t,e);D(r,function(t){return en(o.element(),t.element())}).each(ls)},Gd=function(t,e){return t.components()},Xd=function(e,n,t,r,o){var i=Gd(e,n);return j.from(i[r]).map(function(t){return Wd(e,n,0,t),o.each(function(t){Ud(e,0,function(t,e){var n,o;o=e,cn(n=t,r).fold(function(){dn(n,o)},function(t){sn(t,o)})},t)}),t})},Yd=La({fields:[],name:"replacing",apis:Object.freeze({append:function(t,e,n,o){Ud(t,0,dn,o)},prepend:function(t,e,n,o){Ud(t,0,fn,o)},remove:Wd,replaceAt:Xd,replaceBy:function(e,n,t,o,r){var i=Gd(e,n);return F(i,o).bind(function(t){return Xd(e,n,0,t,r)})},set:function(e,t,n,o){var r,i,a,u;fs(e),r=function(){var t=E(o,e.getSystem().build);T(t,function(t){us(e,t)})},i=e.element(),a=nn(i),u=mf(a).bind(function(e){var t=function(t){return en(e,t)};return t(i)?j.some(i):Br(i,t)}),r(i),u.each(function(e){mf(a).filter(function(t){return en(t,e)}).fold(function(){df(e)},P)})},contents:Gd})}),qd=function(t,e,n){e.store.manager.onLoad(t,e,n)},Kd=function(t,e,n){e.store.manager.onUnload(t,e,n)},Jd=Object.freeze({onLoad:qd,onUnload:Kd,setValue:function(t,e,n,o){e.store.manager.setValue(t,e,n,o)},getValue:function(t,e,n){return e.store.manager.getValue(t,e,n)},getState:function(t,e,n){return n}}),$d=Object.freeze({events:function(n,o){var t=n.resetOnDom?[Xr(function(t,e){qd(t,n,o)}),Yr(function(t,e){Kd(t,n,o)})]:[Ta(n,o,qd)];return Dr(t)}}),Qd=undefined&&undefined.__assign||function(){return(Qd=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Zd=function(){var t=Ot(null);return hi({set:t.set,get:t.get,isNotSet:function(){return null===t.get()},clear:function(){t.set(null)},readState:function(){return{mode:"memory",value:t.get()}}})},tm=function(){var i=Ot({}),a=Ot({});return hi({readState:function(){return{mode:"dataset",dataByValue:i.get(),dataByText:a.get()}},lookup:function(t){return wt(i.get(),t).orThunk(function(){return wt(a.get(),t)})},update:function(t){var e=i.get(),n=a.get(),o={},r={};T(t,function(e){o[e.value]=e,wt(e,"meta").each(function(t){wt(t,"text").each(function(t){r[t]=e})})}),i.set(Qd({},e,o)),a.set(Qd({},n,r))},clear:function(){i.set({}),a.set({})}})},em=Object.freeze({memory:Zd,dataset:tm,manual:function(){return hi({readState:function(){}})},init:function(t){return t.store.manager.state(t)}}),nm=function(t,e,n,o){var r=e.store;n.update([o]),r.setValue(t,o),e.onSetValue(t,o)},om=[nr("initialValue"),Ko("getFallbackEntry"),Ko("getDataKey"),Ko("setValue"),Ma("manager",{setValue:nm,getValue:function(t,e,n){var o=e.store,r=o.getDataKey(t);return n.lookup(r).fold(function(){return o.getFallbackEntry(r)},function(t){return t})},onLoad:function(e,n,o){n.store.initialValue.each(function(t){nm(e,n,o,t)})},onUnload:function(t,e,n){n.clear()},state:tm})],rm=[Ko("getValue"),ar("setValue",P),nr("initialValue"),Ma("manager",{setValue:function(t,e,n,o){e.store.setValue(t,o),e.onSetValue(t,o)},getValue:function(t,e,n){return e.store.getValue(t)},onLoad:function(e,n,t){n.store.initialValue.each(function(t){n.store.setValue(e,t)})},onUnload:P,state:mi.init})],im=[nr("initialValue"),Ma("manager",{setValue:function(t,e,n,o){n.set(o),e.onSetValue(t,o)},getValue:function(t,e,n){return n.get()},onLoad:function(t,e,n){e.store.initialValue.each(function(t){n.isNotSet()&&n.set(t)})},onUnload:function(t,e,n){n.clear()},state:Zd})],am=[ur("store",{mode:"memory"},No("mode",{memory:im,manual:rm,dataset:om})),za("onSetValue"),ar("resetOnDom",!1)],um=La({fields:am,name:"representing",active:$d,apis:Jd,extra:{setValueFrom:function(t,e){var n=um.getValue(e);um.setValue(t,n)}},state:em}),cm=function(t,e){e.ignore||(df(t.element()),e.onFocus(t))},sm=Object.freeze({focus:cm,blur:function(t,e){e.ignore||t.element().dom().blur()},isFocused:function(t){return e=t.element(),n=nn(e).dom(),e.dom()===n.activeElement;var e,n}}),lm=Object.freeze({exhibit:function(t,e){var n=e.ignore?{}:{attributes:{tabindex:"-1"}};return pi(n)},events:function(n){return Dr([Lr(we(),function(t,e){cm(t,n),e.stop()})].concat(n.stopMousedown?[Lr(Tt(),function(t,e){e.event().prevent()})]:[]))}}),fm=[za("onFocus"),ar("stopMousedown",!1),ar("ignore",!1)],dm=La({fields:fm,name:"focusing",active:lm,apis:sm}),mm=function(t,e){var n=bm(t,e),o=e.aria;o.update(t,o,n)},hm=function(t,e,n){Fi(t.element(),e.toggleClass),mm(t,e)},gm=function(t,e,n){_i(t.element(),e.toggleClass),mm(t,e)},vm=function(t,e,n){Di(t.element(),e.toggleClass),mm(t,e)},pm=function(t,e,n,o){(o?gm:vm)(t,e,n)},bm=function(t,e){return Ri(t.element(),e.toggleClass)},ym=function(t,e,n){pm(t,e,n,e.selected)},wm=Object.freeze({onLoad:ym,toggle:hm,isOn:bm,on:gm,off:vm,set:pm}),xm=Object.freeze({exhibit:function(t,e,n){return pi({})},events:function(t,e){var n,o,r,i=(n=t,o=e,r=hm,Kr(function(t){r(t,n,o)})),a=Ta(t,e,ym);return Dr(I([t.toggleOnExecute?[i]:[],[a]]))}}),km=function(t,e,n){Sn(t.element(),"aria-expanded",n)},zm=[ar("selected",!1),Ko("toggleClass"),ar("toggleOnExecute",!0),ur("aria",{mode:"none"},No("mode",{pressed:[ar("syncWithExpanded",!1),Ma("update",function(t,e,n){Sn(t.element(),"aria-pressed",n),e.syncWithExpanded&&km(t,e,n)})],checked:[Ma("update",function(t,e,n){Sn(t.element(),"aria-checked",n)})],expanded:[Ma("update",km)],selected:[Ma("update",function(t,e,n){Sn(t.element(),"aria-selected",n)})],none:[Ma("update",P)]}))],Sm=La({fields:zm,name:"toggling",active:xm,apis:wm}),Om="alloy.item-hover",Cm="alloy.item-focus",Mm=function(t){(hf(t.element()).isNone()||dm.isFocused(t))&&(dm.isFocused(t)||dm.focus(t),br(t,Om,{item:t}))},Hm=function(t){br(t,Cm,{item:t})},Vm=U(Om),Em=U(Cm),Tm=function(t,e){var n,o;return{key:t,value:{config:{},me:(n=t,o=Dr(e),La({fields:[Ko("enabled")],name:n,active:{events:U(o)}})),configAsRaw:U({}),initialConfig:{},state:mi}}},Am=undefined&&undefined.__assign||function(){return(Am=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Bm=[Ko("data"),Ko("components"),Ko("dom"),nr("toggling"),Bs("itemBehaviours",[Sm,dm,Nd,um]),ar("ignoreFocus",!1),ar("domModification",{}),Ma("builder",function(t){return{dom:t.dom,domModification:Am({},t.domModification,{attributes:Am({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes)}),behaviours:_s(t.itemBehaviours,[t.toggling.fold(Sm.revoke,function(t){return Sm.config(Am({aria:{mode:"checked"}},t))}),dm.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(t){Hm(t)}}),Nd.config({mode:"execution"}),um.config({store:{mode:"memory",initialValue:t.data}}),Tm("item-type-events",[Lr(Ce(),yr),Ur(Tt()),Lr(Dt(),Mm),Lr(Se(),dm.focus)])]),components:t.components,eventOrder:t.eventOrder}}),ar("eventOrder",{})],_m=[Ko("dom"),Ko("components"),Ma("builder",function(t){return{dom:t.dom,components:t.components,events:Dr([Wr(Se())])}})],Dm=U([il({name:"widget",overrides:function(e){return{behaviours:Fa([um.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),Fm=[Ko("uid"),Ko("data"),Ko("components"),Ko("dom"),ar("autofocus",!1),ar("ignoreFocus",!1),Bs("widgetBehaviours",[um,dm,Nd]),ar("domModification",{}),Ml(Dm()),Ma("builder",function(n){var t=bl(0,n,Dm()),e=yl("item-widget",n,t.internals()),o=function(t){return wl(t,n,"widget").map(function(t){return Nd.focusIn(t),t})},r=function(t,e){return Ll(e.event().target())||n.autofocus&&e.setSource(t.element()),j.none()};return{dom:n.dom,components:e,domModification:n.domModification,events:Dr([Kr(function(t,e){o(t).each(function(t){e.stop()})}),Lr(Dt(),Mm),Lr(Se(),function(t,e){n.autofocus?o(t):dm.focus(t)})]),behaviours:_s(n.widgetBehaviours,[um.config({store:{mode:"memory",initialValue:n.data}}),dm.config({ignore:n.ignoreFocus,onFocus:function(t){Hm(t)}}),Nd.config({mode:"special",focusIn:n.autofocus?function(t){o(t)}:ja(),onLeft:r,onRight:r,onEscape:function(t,e){return dm.isFocused(t)||n.autofocus?(n.autofocus&&e.setSource(t.element()),j.none()):(dm.focus(t),j.some(!0))}})])}})],Rm=undefined&&undefined.__assign||function(){return(Rm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Lm=No("type",{widget:Fm,item:Bm,separator:_m}),Im=U([cl({factory:{sketch:function(t){var e=Po("menu.spec item",Lm,t);return e.builder(e)}},name:"items",unit:"item",defaults:function(t,e){return e.hasOwnProperty("uid")?e:Rm({},e,{uid:ri("item")})},overrides:function(t,e){return{type:e.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),Pm=U([Ko("value"),Ko("items"),Ko("dom"),Ko("components"),ar("eventOrder",{}),Es("menuBehaviours",[tf,um,jl,Nd]),ur("movement",{mode:"menu",moveOnTab:!0},No("mode",{grid:[Va(),Ma("config",function(t,e){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:e.initSize.numColumns,numRows:e.initSize.numRows},focusManager:t.focusManager}})],matrix:[Ma("config",function(t,e){return{mode:"matrix",selectors:{row:e.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}}),Ko("rowSelector")],menu:[ar("moveOnTab",!0),Ma("config",function(t,e){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:e.moveOnTab,focusManager:t.focusManager}})]})),Jo("markers",ba()),ar("fakeFocus",!1),ar("focusManager",vf()),za("onHighlight")]),jm=U("alloy.menu-focus"),Nm=Rl({name:"Menu",configFields:Pm(),partFields:Im(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:As(t.menuBehaviours,[tf.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),um.config({store:{mode:"memory",initialValue:t.value}}),jl.config({find:j.some}),Nd.config(t.movement.config(t,t.movement))]),events:Dr([Lr(Em(),function(e,n){var t=n.event();e.getSystem().getByDom(t.target()).each(function(t){tf.highlight(e,t),n.stop(),br(e,jm(),{menu:e,item:t})})}),Lr(Vm(),function(t,e){var n=e.event().item();tf.highlight(t,n)})]),components:e,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}}}),Um=function(n,o,r,t){return wt(r,t).bind(function(t){return wt(n,t).bind(function(t){var e=Um(n,o,r,t);return j.some([t].concat(e))})}).getOr([])},Wm=function(t,e){var n={};tt(t,function(t,e){T(t,function(t){n[t]=e})});var o=e,r=nt(e,function(t,e){return{k:t,v:e}}),i=et(r,function(t,e){return[e].concat(Um(n,o,r,e))});return et(n,function(t){return wt(i,t).getOr([t])})},Gm=undefined&&undefined.__assign||function(){return(Gm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Xm=function(){var i=Ot({}),a=Ot({}),u=Ot({}),c=Ot(j.none()),s=Ot({}),e=function(t){return wt(a.get(),t)};return{setMenuBuilt:function(t,e){var n;a.set(Gm({},a.get(),((n={})[t]={type:"prepared",menu:e},n)))},setContents:function(t,e,n,o){c.set(j.some(t)),i.set(n),a.set(e),s.set(o);var r=Wm(o,n);u.set(r)},expand:function(n){return wt(i.get(),n).map(function(t){var e=wt(u.get(),n).getOr([]);return[t].concat(e)})},refresh:function(t){return wt(u.get(),t)},collapse:function(t){return wt(u.get(),t).bind(function(t){return 1<t.length?j.some(t.slice(1)):j.none()})},lookupMenu:e,otherMenus:function(t){var e=s.get();return Y(Q(e),t)},getPrimary:function(){return c.get().bind(function(t){return e(t).bind(function(t){return"prepared"===t.type?j.some(t.menu):j.none()})})},getMenus:function(){return a.get()},clear:function(){i.set({}),a.set({}),u.set({}),c.set(j.none())},isClear:function(){return c.get().isNone()}}},Ym=undefined&&undefined.__assign||function(){return(Ym=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},qm=U("collapse-item"),Km=Fl({name:"TieredMenu",configFields:[Ca("onExecute"),Ca("onEscape"),Oa("onOpenMenu"),Oa("onOpenSubmenu"),za("onCollapseMenu"),ar("highlightImmediately",!0),Zo("data",[Ko("primary"),Ko("menus"),Ko("expansions")]),ar("fakeFocus",!1),za("onHighlight"),za("onHover"),wa(),Ko("dom"),ar("navigateOnHover",!0),ar("stayInDom",!1),Es("tmenuBehaviours",[Nd,tf,jl,Yd]),ar("eventOrder",{})],apis:{collapseMenu:function(t,e){t.collapseMenu(e)},highlightPrimary:function(t,e){t.highlightPrimary(e)}},factory:function(u,t){var c,e,s=Xm(),n=function(t){var o,r,e,n=(o=t,r=u.data.primary,e=u.data.menus,et(e,function(t,e){var n=function(){return Nm.sketch(Ym({dom:t.dom},t,{value:e,items:t.items,markers:u.markers,fakeFocus:u.fakeFocus,onHighlight:u.onHighlight,focusManager:u.fakeFocus?pf():vf()}))};return e===r?{type:"prepared",menu:o.getSystem().build(n())}:{type:"notbuilt",nbMenu:n}})),i=a(t);return s.setContents(u.data.primary,n,u.data.expansions,i),s.getPrimary()},l=function(t){return um.getValue(t).value},a=function(t){return et(u.data.menus,function(t,e){return N(t.items,function(t){return"separator"===t.type?[]:[t.data.value]})})},f=function(e,t){tf.highlight(e,t),tf.getHighlighted(t).orThunk(function(){return tf.getFirst(t)}).each(function(t){wr(e,t.element(),Se())})},d=function(e,t){return Ct(E(t,function(t){return e.lookupMenu(t).bind(function(t){return"prepared"===t.type?j.some(t.menu):j.none()})}))},m=function(e,t,n){var o=d(t,t.otherMenus(n));T(o,function(t){Ii(t.element(),[u.markers.backgroundMenu]),u.stayInDom||Yd.remove(e,t)})},h=function(o,r,i){return j.from(i[0]).bind(function(t){return r.lookupMenu(t).bind(function(t){if("notbuilt"===t.type)return j.none();var e=t.menu,n=d(r,i.slice(1));return T(n,function(t){_i(t.element(),u.markers.backgroundMenu)}),zr(e.element())||Yd.append(o,la(e)),Ii(e.element(),[u.markers.backgroundMenu]),f(o,e),m(o,r,i),j.some(e)})})};(e=c||(c={}))[e.HighlightSubmenu=0]="HighlightSubmenu",e[e.HighlightParent=1]="HighlightParent";var i=function(r,i,a){void 0===a&&(a=c.HighlightSubmenu);var t=l(i);return s.expand(t).bind(function(o){return j.from(o[0]).bind(function(n){return s.lookupMenu(n).bind(function(t){var e=function(t,e,n){if("notbuilt"!==n.type)return n.menu;var o=t.getSystem().build(n.nbMenu());return s.setMenuBuilt(e,o),o}(r,n,t);return zr(e.element())||Yd.append(r,la(e)),u.onOpenSubmenu(r,i,e),a===c.HighlightSubmenu?(tf.highlightFirst(e),h(r,s,o)):(tf.dehighlightAll(e),j.some(i))})})})},o=function(e,n){var t=l(n);return s.collapse(t).bind(function(t){return h(e,s,t).map(function(t){return u.onCollapseMenu(e,n,t),t})})},r=function(n){return function(e,t){return ma(t.getSource(),"."+u.markers.item).bind(function(t){return e.getSystem().getByDom(t).toOption().bind(function(t){return n(e,t).map(function(){return!0})})})}},g=Dr([Lr(jm(),function(e,t){var n=t.event().menu();tf.highlight(e,n);var o=l(t.event().item());s.refresh(o).each(function(t){return m(e,s,t)})}),Kr(function(e,t){var n=t.event().target();e.getSystem().getByDom(n).each(function(t){0===l(t).indexOf("collapse-item")&&o(e,t),i(e,t,c.HighlightSubmenu).fold(function(){u.onExecute(e,t)},function(){})})}),Xr(function(e,t){n(e).each(function(t){Yd.append(e,la(t)),u.onOpenMenu(e,t),u.highlightImmediately&&f(e,t)})})].concat(u.navigateOnHover?[Lr(Vm(),function(t,e){var n,o,r=e.event().item();n=t,o=l(r),s.refresh(o).bind(function(t){return h(n,s,t)}),i(t,r,c.HighlightParent),u.onHover(t,r)})]:[])),v={collapseMenu:function(e){tf.getHighlighted(e).each(function(t){tf.getHighlighted(t).each(function(t){o(e,t)})})},highlightPrimary:function(e){s.getPrimary().each(function(t){f(e,t)})}};return{uid:u.uid,dom:u.dom,markers:u.markers,behaviours:As(u.tmenuBehaviours,[Nd.config({mode:"special",onRight:r(function(t,e){return Ll(e.element())?j.none():i(t,e,c.HighlightSubmenu)}),onLeft:r(function(t,e){return Ll(e.element())?j.none():o(t,e)}),onEscape:r(function(t,e){return o(t,e).orThunk(function(){return u.onEscape(t,e).map(function(){return t})})}),focusIn:function(e,t){s.getPrimary().each(function(t){wr(e,t.element(),Se())})}}),tf.config({highlightClass:u.markers.selectedMenu,itemClass:u.markers.menu}),jl.config({find:function(t){return tf.getHighlighted(t)}}),Yd.config({})]),eventOrder:u.eventOrder,apis:v,events:g}},extraApis:{tieredData:function(t,e,n){return{primary:t,menus:e,expansions:n}},singleData:function(t,e){return{primary:t,menus:xt(t,e),expansions:{}}},collapseItem:function(t){return{value:Wn(qm()),meta:{text:t}}}}}),Jm=undefined&&undefined.__assign||function(){return(Jm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},$m=Fl({name:"InlineView",configFields:[Ko("lazySink"),za("onShow"),za("onHide"),Es("inlineBehaviours",[zs,Wa]),ir("fireDismissalEventInstead",[ar("event",_e())]),ar("getRelated",j.none),ar("eventOrder",j.none)],factory:function(u,t){var r=function(t,e,n,o){var r=u.lazySink(t).getOrDie();zs.openWhileCloaked(t,n,function(){return rs.positionWithin(r,e,t,o)}),u.onShow(t)},e={setContent:function(t,e){zs.open(t,e)},showAt:function(t,e,n){var o=j.none();r(t,e,n,o)},showWithin:r,showMenuAt:function(t,e,n){var r,o,i,a=(r=function(){return u.lazySink(t)},o=e,i=n,Km.sketch({dom:{tag:"div"},data:i.data,markers:i.menu.markers,onEscape:function(){return j.some(!0)},onExecute:function(){return j.some(!0)},onOpenMenu:function(t,e){rs.position(r().getOrDie(),o,e)},onOpenSubmenu:function(t,e,n){var o=r().getOrDie();rs.position(o,{anchor:"submenu",item:e},n)}}));zs.open(t,a),u.onShow(t)},hide:function(t){zs.close(t),u.onHide(t)},getContent:function(t){return zs.getState(t)},isOpen:zs.isOpen};return{uid:u.uid,dom:u.dom,behaviours:As(u.inlineBehaviours,[zs.config({isPartOf:function(t,e,n){return ga(e,n)||(o=t,r=n,u.getRelated(o).exists(function(t){return ga(t,r)}));var o,r},getAttachPoint:function(t){return u.lazySink(t).getOrDie()}}),Ms(Jm({isExtraPart:U(!1)},u.fireDismissalEventInstead.map(function(t){return{fireEventInstead:{event:t.event}}}).getOr({})))]),eventOrder:u.eventOrder,apis:e}},apis:{showAt:function(t,e,n,o){t.showAt(e,n,o)},showWithin:function(t,e,n,o,r){t.showWithin(e,n,o,r)},showMenuAt:function(t,e,n,o){t.showMenuAt(e,n,o)},hide:function(t,e){t.hide(e)},isOpen:function(t,e){return t.isOpen(e)},getContent:function(t,e){return t.getContent(e)},setContent:function(t,e,n){t.setContent(e,n)}}}),Qm=function(t){var e=function(t,e){e.stop(),yr(t)},n=be.detect().deviceType.isTouch()?[Lr(Oe(),e)]:[Lr(Nt(),e),Lr(Tt(),function(t,e){e.cut()})];return Dr(I([t.map(function(n){return Lr(ze(),function(t,e){n(t),e.stop()})}).toArray(),n]))},Zm=undefined&&undefined.__assign||function(){return(Zm=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},th=Fl({name:"Button",factory:function(t){var e=Qm(t.action),n=t.dom.tag,o=function(e){return wt(t.dom,"attributes").bind(function(t){return wt(t,e)})};return{uid:t.uid,dom:t.dom,components:t.components,events:e,behaviours:_s(t.buttonBehaviours,[dm.config({}),Nd.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"!==n)return{role:o("role").getOr("button")};var t=o("type").getOr("button"),e=o("role").map(function(t){return{role:t}}).getOr({});return Zm({type:t},e)}()},eventOrder:t.eventOrder}},configFields:[ar("uid",undefined),Ko("dom"),ar("components",[]),Bs("buttonBehaviours",[dm,Nd]),nr("action"),nr("role"),ar("eventOrder",{})]}),eh=undefined&&undefined.__assign||function(){return(eh=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},nh=function(t){var e=function n(t){return t.uid!==undefined}(t)&&St(t,"uid")?t.uid:ri("memento");return{get:function(t){return t.getSystem().getByUid(e).getOrDie()},getOpt:function(t){return t.getSystem().getByUid(e).fold(j.none,j.some)},asSpec:function(){return eh({},t,{uid:e})}}},oh={"icon-accessibility-check":'<svg width="24" height="24"><g id="icon-accessibility-check" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 2a2 2 0 0 1 2 2 2 2 0 0 1-2 2 2 2 0 0 1-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5c0-.6-.4-1-1-1a1 1 0 0 0-1 1v5c0 .6-.4 1-1 1a1 1 0 0 1-1-1V9H4a1 1 0 1 1 0-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-align-center":'<svg width="24" height="24"><g id="icon-align-center" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-align-justify":'<svg width="24" height="24"><g id="icon-align-justify" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-align-left":'<svg width="24" height="24"><g id="icon-align-left" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-align-none":'<svg width="24" height="24"><g id="icon-align-none" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14.2 5L13 7H5a1 1 0 1 1 0-2h9.2zm4 0h.8a1 1 0 0 1 0 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h6.8zm4 0H19a1 1 0 0 1 0 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 0 1 0-2h4.4zm4 0H19a1 1 0 0 1 0 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 0 1 0-2h2zm4 0h8a1 1 0 0 1 0 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" id="shape"/></g></svg>',"icon-align-right":'<svg width="24" height="24"><g id="icon-align-right" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 1 1 0-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-background-color":'<svg width="24" height="24"><g id="icon-background-color" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle" opacity=".1" d="M3 3h18v16H3z"/><path id="color" d="M3 19h18v3H3z"/><path d="M8.7 17h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z" id="shape"/></g></svg>',"icon-bold":'<svg width="24" height="24"><g id="icon-bold" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 0 1-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" id="B"/></g></svg>',"icon-bookmark":'<svg width="24" height="24"><g id="icon-bookmark" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 0 0-1 1z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-border-width":'<svg width="24" height="24"><g id="icon-border-width" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 14.8h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 1 1 0-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 0 1-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-2c0-.6.4-1 1-1z" id="shape"/></g></svg>',"icon-brightness":'<svg width="24" height="24"><g id="icon-brightness" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 0 1-.7-.3A1 1 0 0 1 11 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-1a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H5a1 1 0 0 1-.7-.3A1 1 0 0 1 4 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 0 1-.8.3 1 1 0 0 1-.6-.3l-.8-.7a1 1 0 0 1-.3-.8c0-.2.1-.5.3-.7a1 1 0 0 1 1.4 0zm-10-7l-.7-.8a1 1 0 0 1-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.8-.3zm10 0a1 1 0 0 1-.8.3 1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 0 1 0 1.4l-.8.8a1 1 0 0 1-.6.3 1 1 0 0 1-.8-.3 1 1 0 0 1-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 0 1 3.7 2.4 4 4 0 0 1 0 3.2A4 4 0 0 1 12 16a4 4 0 0 1-3.7-2.4 4 4 0 0 1 0-3.2A4 4 0 0 1 12 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" id="shape"/></g></svg>',"icon-browse":'<svg width="24" height="24"><g id="icon-browse" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M19 4a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 1 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 0 1-1.4 1.4L13 13.4V20a1 1 0 0 1-2 0v-6.6z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-cancel":'<svg width="24" height="24"><g id="icon-cancel" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 4.6a7.4 7.4 0 1 1 0 14.8 7.4 7.4 0 0 1 0-14.8zM12 3a9 9 0 1 0 0 18 9 9 0 0 0 0-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-character-count":'<svg width="24" height="24"><g id="icon-character-count" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 0 1-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 0 0-.5-.1 1 1 0 0 0-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 0 0-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 0 0 1.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 0 0-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 0 0-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 0 1-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 0 1-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" id="shape"/></g></svg>',"icon-checkmark":'<svg width="24" height="24"><g id="icon-checkmark" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18.2 5.4a1 1 0 0 1 1.6 1.2l-8 12a1 1 0 0 1-1.5.1l-5-5a1 1 0 1 1 1.4-1.4l4.1 4.1 7.4-11z" id="Shape-Copy" fill-rule="nonzero"/></g></svg>',"icon-chevron-down":'<svg width="10" height="10"><g id="icon-chevron-down" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-chevron-left":'<svg width="10" height="10"><g id="icon-chevron-left" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 0 1 0-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-chevron-right":'<svg width="10" height="10"><g id="icon-chevron-right" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M2.2 1.3a.8.8 0 0 1 0-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 0 1 0-1.1L6 5 2.2 1.3z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-chevron-up":'<svg width="10" height="10"><g id="icon-chevron-up" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 0 1 0-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-close":'<svg width="24" height="24"><g id="icon-close" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 0 1-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 0 1-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 0 1 1.5-1.5l3.8 3.9 3.8-3.9a1 1 0 0 1 1.5 1.5z" id="shape"/></g></svg>',"icon-code-sample":'<svg width="24" height="26"><g id="icon-code-sample" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7.1 11a2.8 2.8 0 0 1-.8 2 2.8 2.8 0 0 1 .8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 0 1-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 0 1-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 0 1 .8-2 2.8 2.8 0 0 1-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 0 1-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 0 1-.5-.5V17a3 3 0 0 0 1-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" id="shape"/></g></svg>',"icon-color-levels":'<svg width="24" height="24"><g id="icon-color-levels" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17.5 11.4A9 9 0 0 1 18 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 0 1-3.7 3 5.7 5.7 0 0 1-3.2 0A5.9 5.9 0 0 1 7.6 18a6.2 6.2 0 0 1-1.4-2.6 6.7 6.7 0 0 1 0-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 0 1 2.3-4A20 20 0 0 1 12 4a26.4 26.4 0 0 1 3.2 3.4 18.2 18.2 0 0 1 2.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 0 0-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 0 1-1.3 3 5.3 5.3 0 0 1-2.3 1.5 4.9 4.9 0 0 1-2 .1 4.3 4.3 0 0 0 2.4.8 4 4 0 0 0 2-.6 4 4 0 0 0 1.5-1.5z" id="shape"/></g></svg>',"icon-color-picker":'<svg width="24" height="24"><g id="icon-color-picker" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 3a9 9 0 0 0 0 18 1.5 1.5 0 0 0 1.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 0 0 5-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3-4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm3 4a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-color-swatch":'<svg width="24" height="24"><g id="icon-color-swatch" stroke="none" stroke-width="1" fill-rule="evenodd"><rect id="Rectangle" x="3" y="3" width="18" height="18" rx="1"/></g></svg>',"icon-comment":'<svg width="24" height="24"><g id="icon-comment" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 0 0-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3h-6.4L7 23z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-contrast":'<svg width="24" height="24"><g id="icon-contrast" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-6 8a6 6 0 0 0 6 6V6a6 6 0 0 0-6 6z" id="shape"/></g></svg>',"icon-copy":'<svg width="24" height="24"><g id="icon-copy" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 3H6a2 2 0 0 0-2 2v11h2V5h10V3zm1 4a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-crop":'<svg width="24" height="24"><g id="icon-crop" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-2H7V9H5a1 1 0 1 1 0-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" id="shape"/></g></svg>',"icon-cut":'<svg width="24" height="24"><g id="icon-cut" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 0 1-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 0 1 8.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 0 1 0-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 0 1 0 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 0 0-.2-.5 1 1 0 0 0-.4-.2 1.6 1.6 0 0 0-.8 0 2.6 2.6 0 0 0-.8.3 2.5 2.5 0 0 0-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 0 0 .8-.3 2.8 2.8 0 0 0 1-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 0 0-.3-.8 2.4 2.4 0 0 0-.7-.7 2.5 2.5 0 0 0-.8-.3 1.5 1.5 0 0 0-.8 0 1 1 0 0 0-.4.2 1 1 0 0 0-.2.5 1.5 1.5 0 0 0 0 .7v.4l.3.4.3.4a2.8 2.8 0 0 0 .8.5l.4.1h.7l.5-.2z" id="shape"/></g></svg>',"icon-document-properties":'<svg width="24" height="24"><g id="icon-document-properties" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-drag":'<svg width="24" height="24"><g id="icon-drag" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" id="shape"/></g></svg>',"icon-duplicate":'<svg width="24" height="24"><g id="icon-duplicate" stroke="none" stroke-width="1" fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 0 1-2 2h-7a2 2 0 0 1-2-2V9c0-1.2.9-2 2-2h7a2 2 0 0 1 2 2v2z" id="Combined-Shape"/><path d="M17 14h1a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1h-1a1 1 0 0 1 0-2h1v-1a1 1 0 0 1 2 0v1z" id="Combined-Shape"/></g></svg>',"icon-edit-image":'<svg width="24" height="24"><g id="icon-edit-image" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 16h2V7a2 2 0 0 0-2-2H7v2h11v9zM6 17h15a1 1 0 0 1 0 2h-1v1a1 1 0 0 1-2 0v-1H6a2 2 0 0 1-2-2V7H3a1 1 0 1 1 0-2h1V4a1 1 0 1 1 2 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-embed":'<svg width="24" height="24"><g id="icon-embed" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 0 1 0 .8l-5.6 4A.5.5 0 0 1 9 16V8a.5.5 0 0 1 .8-.4z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-emoji":'<svg width="24" height="24"><g id="icon-emoji" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 0 0-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16zm0 14.5a6.5 6.5 0 1 1 0-13 6.5 6.5 0 0 1 0 13z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-fill":'<svg width="24" height="26"><g id="icon-fill" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 0 0 2.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.3-2-3.5-2-3.5z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-flip-horizontally":'<svg width="24" height="24"><g id="icon-flip-horizontally" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-flip-vertically":'<svg width="24" height="24"><g id="icon-flip-vertically" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 0 0-2 2zm14-2v2h2a2 2 0 0 0-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 0 0 2-2h-2v2z" id="Shape" fill-rule="nonzero" transform="rotate(90 12 12)"/></g></svg>',"icon-format-painter-cursor":'<svg width="24" height="24"><g id="icon-format-painter-cursor" stroke="none" stroke-width="1" fill-rule="nonzero"><path d="M15 6c0-.5-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h8c.6 0 1-.4 1-1V9h1v3H9v7c0 .6.4 1 1 1h1c.6 0 1-.4 1-1v-5h6V7h-3V6z" id="Shape"/><path d="M1 1h7.3c.4 0 .7.3.7.8 0 .4-.3.7-.8.7H2.5v5.8c0 .4-.3.7-.8.7a.8.8 0 0 1-.7-.8V1z" id="Path"/></g></svg>',"icon-format-painter":'<svg width="24" height="24"><g id="icon-format-painter" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 0 0-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-fullscreen":'<svg width="24" height="24"><g id="icon-fullscreen" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 1 1 0-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 1 1-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 1 1 1.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 1 1 0-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 1 1 0 1.7H5a.9.9 0 0 1-.9-.9v-4.4a.9.9 0 1 1 1.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 0 1-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 0 1 0 1.8H7l3 2.9-1.3 1.2z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-gamma":'<svg width="24" height="24"><g id="icon-gamma" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 0 0-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 0 1 .6.5l.1.3a8.5 8.5 0 0 1 .3.6l1.9 4.6 2-5.2a1 1 0 0 1 1-.6.5.5 0 0 1 .5.6L13 14v2.8a.7.7 0 0 1-1.4 0z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-help":'<svg width="24" height="24"><g id="icon-help" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 0 0-6 9 6.3 6.3 0 0 0 1.4 2l1 1a6.3 6.3 0 0 0 3.6 1 6.5 6.5 0 0 0 6-9 6.3 6.3 0 0 0-1.4-2l-1-1a6.3 6.3 0 0 0-3.6-1zM12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4z" id="shape"/><path d="M9.6 9.7a.7.7 0 0 1-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 0 0-.8.8.8.8 0 0 1-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" id="Path-2" fill-rule="nonzero"/><circle id="Oval" cx="12" cy="16" r="1"/></g></svg>',"icon-highlight-bg-color":'<svg width="24" height="24"><g id="icon-highlight-bg-color" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="color" d="M3 18h18v3H3z"/><path d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zM12.8 9.2L11 7.4l3-2.9a2 2 0 0 1 2.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-home":'<svg width="24" height="24"><g id="icon-home" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Shape" fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></g></svg>',"icon-horizontal-rule":'<svg width="24" height="24"><g id="icon-horizontal-rule" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="shape" d="M4 11h16v2H4z"/></g></svg>',"icon-image-options":'<svg width="24" height="24"><g id="icon-image-options" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M6 10a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm12 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2zm-6 0a2 2 0 0 0-2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2 2 2 0 0 0-2-2z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-image":'<svg width="24" height="24"><g id="icon-image" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 0 1-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 1 0 0-4 2 2 0 0 0 0 4z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-indent":'<svg width="24" height="24"><g id="icon-indent" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" id="Combined-Shape"/></g></svg>',"icon-indeterminate":'<svg width="24" height="24"><g id="icon-indeterminate" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zM9 11a1 1 0 0 0 0 2h6a1 1 0 0 0 0-2H9z" id="Combined-Shape"/></g></svg>',"icon-info":'<svg width="24" height="24"><g id="icon-info" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 4a7.8 7.8 0 0 1 5.7 2.3A8 8 0 1 1 12 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" id="shape"/></g></svg>',"icon-insert-character":'<svg width="24" height="24"><g id="icon-insert-character" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 0 0 1.8-2.9 6.3 6.3 0 0 0-.1-4.1 5.8 5.8 0 0 0-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 0 0-3.9 1.8 6.3 6.3 0 0 0-1.3 6 6.2 6.2 0 0 0 1.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 0 1 4 11c0-1 .2-1.9.6-2.7A7 7 0 0 1 6.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 0 1 5.7 2 7 7 0 0 1 1.7 2.3 6 6 0 0 1 .2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 0 1-3.6 2.5v.5z" id="shape"/></g></svg>',"icon-insert-time":'<svg width="24" height="24"><g id="icon-insert-time" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="clock" transform="translate(2 2)" fill-rule="nonzero"><path d="M17 0H3a3 3 0 0 0-3 3v14a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3V3a3 3 0 0 0-3-3zm-7 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z" id="Shape"/><path d="M13 10h-3V5a.5.5 0 0 0-1 0v6h4a.5.5 0 0 0 0-1z" id="Shape"/></g></g></svg>',"icon-invert":'<svg width="24" height="24"><g id="icon-invert" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 19.3L16.5 18a5.8 5.8 0 0 1-3.1 1.9 6.1 6.1 0 0 1-5.5-1.6A5.8 5.8 0 0 1 6 14v-.3l.1-1.2A13.9 13.9 0 0 1 7.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 0 0 .2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 0 0-3-4.2L12 6a26.1 26.1 0 0 0-2.2 2.5l-1-1a20.9 20.9 0 0 1 2.9-3.3L12 4l1 .8a22.2 22.2 0 0 1 4 5.4c.6 1.2 1 2.4 1 3.6z" id="shape"/></g></svg>',"icon-italic":'<svg width="24" height="24"><g id="icon-italic" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" id="I"/></g></svg>',"icon-line":'<svg width="24" height="24"><g id="icon-line" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" id="shape"/></g></svg>',"icon-link":'<svg width="24" height="24"><g id="icon-link" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="link" transform="translate(3 3)" fill-rule="nonzero"><path d="M3.2 9.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4A1 1 0 1 1 11.4 8a2.9 2.9 0 0 1 0 4L6.6 17a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2-2a2 2 0 1 0-2.6-2.8L8 7.3a1 1 0 0 0 0 1.4A1 1 0 1 1 6.6 10a2.9 2.9 0 0 1 0-4L11.4 1a3.9 3.9 0 0 1 5.5 5.5l-2 2z" id="Shape"/></g></g></svg>',"icon-list-bull-circle":'<svg width="48" height="48"><g id="icon-list-bull-circle" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M11 16a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" id="Oval" fill-rule="nonzero"/><path d="M11 26a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" id="Oval-Copy" fill-rule="nonzero"/><path d="M11 36a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm0 1a3 3 0 1 1 0-6 3 3 0 0 1 0 6z" id="Oval-Copy-2" fill-rule="nonzero"/><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/></g></svg>',"icon-list-bull-default":'<svg width="48" height="48"><g id="icon-list-bull-default" stroke="none" stroke-width="1" fill-rule="evenodd"><circle id="Oval" cx="11" cy="14" r="3"/><circle id="Oval-Copy" cx="11" cy="24" r="3"/><circle id="Oval-Copy-2" cx="11" cy="34" r="3"/><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/></g></svg>',"icon-list-bull-square":'<svg width="48" height="48"><g id="icon-list-bull-square" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle" d="M8 11h6v6H8z"/><path id="Rectangle-Copy" d="M8 21h6v6H8z"/><path id="Rectangle-Copy-2" d="M8 31h6v6H8z"/><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/></g></svg>',"icon-list-num-default":'<svg width="48" height="48"><g id="icon-list-num-default" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z" id="1.-2.-3."/></g></svg>',"icon-list-num-lower-alpha":'<svg width="48" height="48"><g id="icon-list-num-lower-alpha" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z" id="a.-b.-c."/></g></svg>',"icon-list-num-lower-greek":'<svg width="48" height="48"><g id="icon-list-num-lower-greek" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 0 0-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z" id="\u03b1.-\u03b2.-\u0194."/></g></svg>',"icon-list-num-lower-roman":'<svg width="48" height="48"><g id="icon-list-num-lower-roman" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z" id=".-.-."/><path id="Rectangle" fill-rule="nonzero" d="M12 21h1.5v5H12z"/><path id="Rectangle-Copy-6" fill-rule="nonzero" d="M12 31h1.5v5H12z"/><path id="Rectangle-Copy-2" fill-rule="nonzero" d="M9 21h1.5v5H9z"/><path id="Rectangle-Copy-7" fill-rule="nonzero" d="M9 31h1.5v5H9z"/><path id="Rectangle-Copy-10" fill-rule="nonzero" d="M6 31h1.5v5H6z"/><path id="Rectangle-Copy-4" fill-rule="nonzero" d="M12 11h1.5v5H12z"/><path id="Rectangle-Copy" fill-rule="nonzero" d="M12 19h1.5v1H12z"/><path id="Rectangle-Copy-8" fill-rule="nonzero" d="M12 29h1.5v1H12z"/><path id="Rectangle-Copy-3" fill-rule="nonzero" d="M9 19h1.5v1H9z"/><path id="Rectangle-Copy-9" fill-rule="nonzero" d="M9 29h1.5v1H9z"/><path id="Rectangle-Copy-11" fill-rule="nonzero" d="M6 29h1.5v1H6z"/><path id="Rectangle-Copy-5" fill-rule="nonzero" d="M12 9h1.5v1H12z"/></g></svg>',"icon-list-num-upper-alpha":'<svg width="48" height="48"><g id="icon-list-num-upper-alpha" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z" id="A.-B.-C."/></g></svg>',"icon-list-num-upper-roman":'<svg width="48" height="48"><g id="icon-list-num-upper-roman" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="Rectangle-2" opacity=".2" d="M18 12h22v4H18z"/><path id="Rectangle-2-Copy" opacity=".2" d="M18 22h22v4H18z"/><path id="Rectangle-2-Copy-2" opacity=".2" d="M18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z" id=".-.-."/><path id="Rectangle" fill-rule="nonzero" d="M12 20h1.5v7H12z"/><path id="Rectangle-Copy-6" fill-rule="nonzero" d="M12 30h1.5v7H12z"/><path id="Rectangle-Copy-2" fill-rule="nonzero" d="M9 20h1.5v7H9z"/><path id="Rectangle-Copy-7" fill-rule="nonzero" d="M9 30h1.5v7H9z"/><path id="Rectangle-Copy-10" fill-rule="nonzero" d="M6 30h1.5v7H6z"/><path id="Rectangle-Copy-4" fill-rule="nonzero" d="M12 10h1.5v7H12z"/></g></svg>',"icon-lock":'<svg width="24" height="24"><g id="icon-lock" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 0 0-.3-.7A1 1 0 0 0 13 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7z" id="shape"/></g></svg>',"icon-ltr":'<svg width="24" height="24"><g id="icon-ltr" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M11 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 7.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 0 1 1.2-1.6l3 2a1 1 0 0 1 0 1.6l-3 2a1 1 0 1 1-1.2-1.6z" id="shape"/></g></svg>',"icon-new-document":'<svg width="24" height="24"><g id="icon-new-document" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14.4 3H7a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h10a2 2 0 0 0 2-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-new-tab":'<svg width="24" height="24"><g id="icon-new-tab" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" id="shape"/></g></svg>',"icon-non-breaking":'<svg width="24" height="24"><g id="icon-non-breaking" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M11 11H8a1 1 0 1 1 0-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" id="shape"/></g></svg>',"icon-notice":'<svg width="24" height="24"><g id="icon-notice" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" id="shape"/></g></svg>',"icon-ordered-list":'<svg width="24" height="24"><g id="icon-ordered-list" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 1 1 0-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.5V5h-.5a.5.5 0 0 1 0-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 0 1-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 0 0-.2-.2H4.5a.5.5 0 0 1-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 0 1 0-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 1 1 0-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 1 1 0-1H6c.6 0 1 .4 1 1z" id="shape"/></g></svg>',"icon-orientation":'<svg width="24" height="24"><g id="icon-orientation" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 0 1 0-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 1 1-4.3 16.9l1.5-1.5A7 7 0 1 0 13 6h-1z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-outdent":'<svg width="24" height="24"><g id="icon-outdent" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 1 1 0-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 0 1 0-2zm-5 4h12a1 1 0 0 1 0 2H7a1 1 0 0 1 0-2zm1.6-3.8a1 1 0 0 1-1.2 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 0 1 1.2 1.6L6.8 12l1.8 1.2z" id="Combined-Shape"/></g></svg>',"icon-page-break":'<svg width="24" height="24"><g id="icon-page-break" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 0 1 0-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2z" id="shape"/><path d="M7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1z" id="Combined-Shape"/><path d="M6 22a1 1 0 0 1-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 0 1-1-1v-5H7v5c0 .6-.4 1-1 1z" id="Combined-Shape-Copy"/></g></svg>',"icon-paragraph":'<svg width="24" height="24"><g id="icon-paragraph" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M10 5h7a1 1 0 0 1 0 2h-1v11a1 1 0 0 1-2 0V7h-2v11a1 1 0 0 1-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 6.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L10 5z" id="shape"/></g></svg>',"icon-paste-text":'<svg width="24" height="24"><g id="icon-paste-text" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-paste":'<svg width="24" height="24"><g id="icon-paste" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 0 1-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0 1 12 1a3 3 0 0 1 2.8 2H18a2 2 0 0 1 2 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 0 0-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-plus":'<svg width="24" height="24"><g id="icon-plus" stroke="#000" stroke-width="2" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"><path d="M12 5v14M5 12h14" id="Shape"/></g></svg>',"icon-preferences":'<svg width="24" height="24"><g id="icon-preferences" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 0 1-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 0 1-1.4 0l-1.5-1.2a6.2 6.2 0 0 1-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 0 1-1-.9l-.2-1.9a5.8 5.8 0 0 1-1.5-.6l-1.5 1.2a1 1 0 0 1-1.4 0l-.7-.7a1 1 0 0 1 0-1.4l1.2-1.5a6.2 6.2 0 0 1-.6-1.5l-1.9-.2a1 1 0 0 1-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 0 1 .6-1.5L5.2 7.3a1 1 0 0 1 0-1.4l.7-.7a1 1 0 0 1 1.4 0l1.5 1.2a6.2 6.2 0 0 1 1.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 0 1 1.5.6l1.5-1.2a1 1 0 0 1 1.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 0 1 .6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" id="Combined-Shape"/></g></svg>',"icon-preview":'<svg width="24" height="24"><g id="icon-preview" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 0 0 2.1-2.8 15.7 15.7 0 0 0-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 0 0-6.7 3.2A16.2 16.2 0 0 0 3.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 0 1 2.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 0 1-2.8-3.7 1 1 0 0 1 0-1zm12-3.3a2 2 0 1 0 2.7 2.6 4 4 0 1 1-2.6-2.6z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-print":'<svg width="24" height="24"><g id="icon-print" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 8H6a3 3 0 0 0-3 3v6h2v3h14v-3h2v-6a3 3 0 0 0-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-quote":'<svg width="24" height="24"><g id="icon-quote" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 0 0-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 0 0 .8 1.3z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-redo":'<svg width="24" height="24"><g id="icon-redo" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 1 1-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 1 1 1.4-1.4l5 5a1 1 0 0 1 0 1.4l-5 5a1 1 0 0 1-1.4-1.4l3.3-3.3z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-reload":'<svg width="24" height="24"><g id="icon-reload" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="Group" transform="rotate(-45 13.2 13.2)" fill-rule="nonzero"><path d="M19.8 13.7l-2.4-4.2-.2-.2a1 1 0 0 0-1.5 0l-3.2 4a1 1 0 1 0 1.5 1.2l1.5-1.7a7.8 7.8 0 0 1-5.8 6c-2.5.6-5.1-.1-7-2a1 1 0 1 0-1.4 1.4 9.5 9.5 0 0 0 8.9 2.5 9.9 9.9 0 0 0 7.2-7.2l.7 1.2a1 1 0 1 0 1.7-1z" id="Shape" transform="matrix(-1 0 0 1 21 0)"/><path d="M13 9.4a1 1 0 0 0-1.4.1l-1.8 2a8 8 0 0 1 6-7.4c2.8-.5 5.6.4 7.5 2.4a1 1 0 0 0 1.5-1.3 9.5 9.5 0 0 0-9.3-3 10 10 0 0 0-7.5 8l-.6-1a1 1 0 0 0-1.7 1l2.6 4.3a1 1 0 0 0 1.6.1l3.2-3.8c.4-.4.3-1-.1-1.4z" id="Shape" transform="matrix(-1 0 0 1 30.6 0)"/></g></g></svg>',"icon-remove-formatting":'<svg width="24" height="24"><g id="icon-remove-formatting" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M13.2 6a1 1 0 0 1 0 .2l-2.6 10a1 1 0 0 1-1 .8h-.2a.8.8 0 0 1-.8-1l2.6-10H8a1 1 0 1 1 0-2h9a1 1 0 0 1 0 2h-3.8zM5 18h7a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2zm13 1.5L16.5 18 15 19.5a.7.7 0 0 1-1-1l1.5-1.5-1.5-1.5a.7.7 0 0 1 1-1l1.5 1.5 1.5-1.5a.7.7 0 0 1 1 1L17.5 17l1.5 1.5a.7.7 0 0 1-1 1z" id="shape"/></g></svg>',"icon-remove":'<svg width="24" height="24"><g id="icon-remove" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 7h3a1 1 0 0 1 0 2h-1v9a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V9H5a1 1 0 1 1 0-2h3V6a3 3 0 0 1 3-3h2a3 3 0 0 1 3 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 0 0-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4zm4 0a1 1 0 0 1 2 0v4a1 1 0 0 1-2 0v-4z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-resize-handle":'<svg width="10" height="10"><g id="icon-resize-handle" stroke="none" stroke-width="1" fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 1 1 9 2l-7 7A.5.5 0 1 1 1 8l7-7z" id="Line"/><path d="M8.1 5.1A.5.5 0 1 1 9 6l-3 3A.5.5 0 1 1 5 8l3-3z" id="Line-2"/></g></svg>',"icon-resize":'<svg width="24" height="24"><g id="icon-resize" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 0 1-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-6a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3 1 1 0 0 1-.7-.3A1 1 0 0 1 4 11V5z" id="shape"/></g></svg>',"icon-restore-draft":'<svg width="24" height="24"><g id="icon-restore-draft" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z" id="shape"/><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-rotate-left":'<svg width="24" height="24"><g id="icon-rotate-left" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4.7 10H9a1 1 0 0 1 0 2H3a1 1 0 0 1-1-1V5a1 1 0 1 1 2 0v3l2.5-2.4a9.2 9.2 0 0 1 10.8-1.5A9 9 0 0 1 13.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 1 1 1.3-1.5 7.2 7.2 0 0 0 11.6-3.7 7 7 0 0 0-3.5-7.7A7.2 7.2 0 0 0 8 7L4.7 10z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-rotate-right":'<svg width="24" height="24"><g id="icon-rotate-right" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M20 8V5a1 1 0 0 1 2 0v6c0 .6-.4 1-1 1h-6a1 1 0 0 1 0-2h4.3L16 7A7.2 7.2 0 0 0 7.7 6a7 7 0 0 0 3 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 0 1 1.4 1.5A9.2 9.2 0 0 1 2.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-rtl":'<svg width="24" height="24"><g id="icon-rtl" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 0 1 4.8 10a3.3 3.3 0 0 1 0-2.8 3.4 3.4 0 0 1 1.8-1.8L8 5zm12 11.2a1 1 0 1 1-1 1.6l-3-2a1 1 0 0 1 0-1.6l3-2a1 1 0 1 1 1 1.6L18.4 15l1.8 1.2z" id="shape"/></g></svg>',"icon-save":'<svg width="24" height="24"><g id="icon-save" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 16h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 1 0-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 1 0-1.4-1.4L13 11.6V4a1 1 0 0 0-2 0v7.6z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-search":'<svg width="24" height="24"><g id="icon-search" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-select-all":'<svg width="24" height="24"><g id="icon-select-all" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M3 5h2V3a2 2 0 0 0-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 0 0-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 0 0 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-selected":'<svg width="24" height="24"><g id="icon-selected" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm-2.4-6.1L7 12.3a.7.7 0 0 0-1 1L9.6 17 18 8.6a.7.7 0 0 0 0-1 .7.7 0 0 0-1 0l-7.4 7.3z" id="Combined-Shape"/></g></svg>',"icon-settings":'<svg width="24" height="24"><g id="icon-settings" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V8H5a1 1 0 1 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V13H5a1 1 0 0 1 0-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6V18H5a1 1 0 0 1 0-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" id="shape"/></g></svg>',"icon-sharpen":'<svg width="24" height="24"><g id="icon-sharpen" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" id="shape"/></g></svg>',"icon-sourcecode":'<svg width="24" height="24"><g id="icon-sourcecode" stroke="none" stroke-width="1" fill-rule="nonzero"><path d="M10.7 9.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2l-4.1 4.4c-.3.3-.8.3-1.2 0l-4.2-4.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L7 13l3.7-3.8z" id="Shape" transform="rotate(90 7 12)"/><path d="M20.7 9.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2l-4.1 4.4c-.3.3-.8.3-1.2 0l-4.2-4.4a.8.8 0 0 1 0-1.2c.3-.3.8-.3 1.1 0L17 13l3.7-3.8z" id="Shape-Copy" transform="matrix(0 1 1 0 5 -5)"/></g></svg>',"icon-spell-check":'<svg width="24" height="24"><g id="icon-spell-check" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 0 1-.7-.3 1 1 0 0 1-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 0 1-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" id="shape"/></g></svg>',"icon-strike-through":'<svg width="24" height="24"><g id="icon-strike-through" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 0 1 7 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z" id="s"/><path d="M5 11h14a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2z" id="Rectangle" fill-rule="nonzero"/></g></svg>',"icon-subscript":'<svg width="24" height="24"><g id="icon-subscript" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 0 0-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 0 1-1.3 1.3l-.6.6h2.6V19z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-superscript":'<svg width="24" height="24"><g id="icon-superscript" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-table-cell-properties":'<svg width="24" height="24"><g id="icon-table-cell-properties" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" id="shape"/></g></svg>',"icon-table-cell-select-all":'<svg width="24" height="24"><g id="icon-table-cell-select-all" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12.5 5.5v6h6v-6h-6zm-1 0h-6v6h6v-6zm1 13h6v-6h-6v6zm-1 0v-6h-6v6h6zm-7-14h15v15h-15v-15z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-table-cell-select-inner":'<svg width="24" height="24"><g id="icon-table-cell-select-inner" stroke="none" stroke-width="1" fill-rule="nonzero"><path d="M5.5 5.5v13h13v-13h-13zm-1-1h15v15h-15v-15z" id="Rectangle-5-Copy" opacity=".2"/><path d="M11.5 11.5v-7h1v7h7v1h-7v7h-1v-7h-7v-1h7z" id="Combined-Shape"/></g></svg>',"icon-table-delete-column":'<svg width="24" height="24"><g id="icon-table-delete-column" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9 11.2l1 1v.2l-1 1v-2.2zm5 1l1-1v2.2l-1-1v-.2zM20 5v14H4V5h16zm-1 2h-4v.8l-.2-.2-.8.8V7h-4v1.4l-.8-.8-.2.2V7H5v11h4v-1.8l.5.5.5-.4V18h4v-1.8l.8.8.2-.3V18h4V7zm-3.9 3.4l-1.8 1.9 1.8 1.9c.4.3.4.9 0 1.2-.3.3-.8.3-1.2 0L12 13.5l-1.8 1.9a.8.8 0 0 1-1.2 0 .9.9 0 0 1 0-1.2l1.8-1.9-1.9-2a.9.9 0 0 1 1.2-1.2l2 2 1.8-1.8c.3-.4.9-.4 1.2 0a.8.8 0 0 1 0 1.1z" id="shape"/></g></svg>',"icon-table-delete-row":'<svg width="24" height="24"><g id="icon-table-delete-row" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16.7 8.8l1.1 1.2-2.4 2.5L18 15l-1.2 1.2-2.5-2.5-2.4 2.5-1.3-1.2 2.5-2.5-2.5-2.5 1.2-1.3 2.6 2.6 2.4-2.5zM4 5h16v14H4V5zm15 5V7H5v3h4.8l1 1H5v3h5.8l-1 1H5v3h14v-3h-.4l-1-1H19v-3h-1.3l1-1h.3z" id="shape"/></g></svg>',"icon-table-delete-table":'<svg width="24" height="26"><g id="icon-table-delete-table" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 6h16v14H4V6zm1 2v11h14V8H5zm11.7 8.7l-1.5 1.5L12 15l-3.3 3.2-1.4-1.5 3.2-3.2-3.3-3.2 1.5-1.5L12 12l3.2-3.2 1.5 1.5-3.2 3.2 3.2 3.2z" id="shape"/></g></svg>',"icon-table-insert-column-after":'<svg width="24" height="24"><g id="icon-table-insert-column-after" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14.3 9c.4 0 .7.3.7.6v2.2h2.1c.4 0 .7.3.7.7 0 .4-.3.7-.7.7H15v2.2c0 .3-.3.6-.7.6a.7.7 0 0 1-.6-.6v-2.2h-2.2a.7.7 0 0 1 0-1.4h2.2V9.6c0-.3.3-.6.6-.6zM4 5h16v14H4V5zm5 13v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8V7h-9v11h9z" id="shape"/></g></svg>',"icon-table-insert-column-before":'<svg width="24" height="24"><g id="icon-table-insert-column-before" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9.7 16a.7.7 0 0 1-.7-.6v-2.2H6.9a.7.7 0 0 1 0-1.4H9V9.6c0-.3.3-.6.7-.6.3 0 .6.3.6.6v2.2h2.2c.4 0 .8.3.8.7 0 .4-.4.7-.8.7h-2.2v2.2c0 .3-.3.6-.6.6zM4 5h16v14H4V5zm10 13V7H5v11h9zm5 0v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V7h-4v3h4z" id="shape"/></g></svg>',"icon-table-insert-row-above":'<svg width="24" height="24"><g id="icon-table-insert-row-above" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M14.8 10.5c0 .3-.2.5-.5.5h-1.8v1.8c0 .3-.2.5-.5.5a.5.5 0 0 1-.5-.6V11H9.7a.5.5 0 0 1 0-1h1.8V8.3c0-.3.2-.6.5-.6s.5.3.5.6V10h1.8c.3 0 .5.2.5.5zM4 5h16v14H4V5zm5 13v-3H5v3h4zm5 0v-3h-4v3h4zm5 0v-3h-4v3h4zm0-4V7H5v7h14z" id="shape"/></g></svg>',"icon-table-insert-row-after":'<svg width="24" height="24"><g id="icon-table-insert-row-after" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M9.2 14.5c0-.3.2-.5.5-.5h1.8v-1.8c0-.3.2-.5.5-.5s.5.2.5.6V14h1.8c.3 0 .5.2.5.5s-.2.5-.5.5h-1.8v1.7c0 .3-.2.6-.5.6a.5.5 0 0 1-.5-.6V15H9.7a.5.5 0 0 1-.5-.5zM4 5h16v14H4V5zm6 2v3h4V7h-4zM5 7v3h4V7H5zm14 11v-7H5v7h14zm0-8V7h-4v3h4z" id="shape"/></g></svg>',"icon-table-left-header":'<svg width="24" height="24"><g id="icon-table-left-header" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v13H4V5zm10 12v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4zm5 8v-3h-4v3h4zm0-4v-3h-4v3h4zm0-4V6h-4v3h4z" id="shape"/></g></svg>',"icon-table-merge-cells":'<svg width="24" height="24"><g id="icon-table-merge-cells" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v14H4V5zm6 13h9v-7h-9v7zm4-11h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10-1h4V7h-4v3zM5 15v3h4v-3H5z" id="shape"/></g></svg>',"icon-table-row-properties":'<svg width="24" height="24"><g id="icon-table-row-properties" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v14H4V5zm10 10h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm6 3h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" id="shape"/></g></svg>',"icon-table-split-cells":'<svg width="24" height="24"><g id="icon-table-split-cells" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v14H4V5zm6 2v3h4V7h-4zM9 18v-3H5v3h4zm0-4v-3H5v3h4zm0-4V7H5v3h4zm10 8v-7h-9v7h9zm0-8V7h-4v3h4zm-3.5 4.5l1.5 1.6c.3.2.3.7 0 1-.2.2-.7.2-1 0l-1.5-1.6-1.6 1.5c-.2.3-.7.3-1 0a.7.7 0 0 1 0-1l1.6-1.5-1.5-1.6a.7.7 0 0 1 1-1l1.5 1.6 1.6-1.5c.2-.3.7-.3 1 0 .2.2.2.7 0 1l-1.6 1.5z" id="shape"/></g></svg>',"icon-table-top-header":'<svg width="24" height="24"><g id="icon-table-top-header" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v13H4V5zm5 12v-3H5v3h4zm0-4v-3H5v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4zm5 4v-3h-4v3h4zm0-4v-3h-4v3h4z" id="shape"/></g></svg>',"icon-table":'<svg width="24" height="24"><g id="icon-table" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M4 5h16v14H4V5zm6 9h4v-3h-4v3zm4 1h-4v3h4v-3zm0-8h-4v3h4V7zM9 7H5v3h4V7zm-4 4v3h4v-3H5zm10 0v3h4v-3h-4zm0-1h4V7h-4v3zM5 15v3h4v-3H5zm10 3h4v-3h-4v3z" id="shape"/></g></svg>',"icon-template":'<svg width="24" height="24"><g id="icon-template" stroke="none" stroke-width="1" fill-rule="evenodd"><g id="stamp" transform="translate(3 3)" fill-rule="nonzero"><path d="M16 16v-1H2v1h14zM6 13V9a5 5 0 1 1 6 0v4h4a2 2 0 0 1 2 2v3H0v-3c0-1.1.9-2 2-2h4zm4 0V8l.8-.6a3 3 0 1 0-3.6 0L8 8v5h2z" id="Shape"/></g></g></svg>',"icon-temporary-placeholder":'<svg width="24" height="24"><g id="icon-temporary-placeholder" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M20.5 2.5c-.8 0-1.5.7-1.5 1.5a1.5 1.5 0 0 1-3 0 3 3 0 0 0-6 0v2H8.5c-.3 0-.5.2-.5.5v1a8 8 0 1 0 6 0v-1c0-.3-.2-.5-.5-.5H11V4a2 2 0 0 1 4 0 2.5 2.5 0 0 0 5 0c0-.3.2-.5.5-.5a.5.5 0 0 0 0-1zM8.1 10.9a5 5 0 0 0-1.2 7 .5.5 0 0 1-.8.5 6 6 0 0 1 1.5-8.3.5.5 0 1 1 .5.8z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-text-color":'<svg width="24" height="24"><g id="icon-text-color" stroke="none" stroke-width="1" fill-rule="evenodd"><path id="color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 0 1-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 0 1-.5.6h-.8a.5.5 0 0 1-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 0 0 .5.6h1.6a.5.5 0 0 0 .5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z" id="shape"/></g></svg>',"icon-toc":'<svg width="24" height="24"><g id="icon-toc" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 1 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 1 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 0 1 0-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-translate":'<svg width="24" height="24"><g id="icon-translate" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 0 1 0-1l3.1-3A12.4 12.4 0 0 1 6.7 9H8a10.1 10.1 0 0 0 1.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 1 1 0-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 0 1-1 2.4 13.5 13.5 0 0 1-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 0 1-.4.7 1 1 0 0 1-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 0 1-1 .7.5.5 0 0 1-.4-.7l2.7-7.4a1 1 0 1 1 2 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" id="shape"/></g></svg>',"icon-underline":'<svg width="24" height="24"><g id="icon-underline" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 0 1-.4 1.8l-1 1.4a5.3 5.3 0 0 1-5.5 1 5 5 0 0 1-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 0 1-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 0 0 2.2.8 3.4 3.4 0 0 0 2.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 0 1 0-2z" id="shape"/></g></svg>',"icon-undo":'<svg width="24" height="24"><g id="icon-undo" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 0 1-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 1 1-1.4 1.4l-5-5a1 1 0 0 1 0-1.4l5-5a1 1 0 0 1 1.4 1.4L6.4 8z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-unlink":'<svg width="24" height="24"><g id="icon-unlink" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M6.2 12.3a1 1 0 0 1 1.4 1.4l-2 2a2 2 0 1 0 2.6 2.8l4.8-4.8a1 1 0 0 0 0-1.4 1 1 0 1 1 1.4-1.3 2.9 2.9 0 0 1 0 4L9.6 20a3.9 3.9 0 0 1-5.5-5.5l2-2zm11.6-.6a1 1 0 0 1-1.4-1.4l2.1-2a2 2 0 1 0-2.7-2.8L11 10.3a1 1 0 0 0 0 1.4A1 1 0 1 1 9.6 13a2.9 2.9 0 0 1 0-4L14.4 4a3.9 3.9 0 0 1 5.5 5.5l-2 2zM7.6 6.3a.8.8 0 0 1-1 1.1L3.3 4.2a.7.7 0 1 1 1-1l3.2 3.1zM5.1 8.6a.8.8 0 0 1 0 1.5H3a.8.8 0 0 1 0-1.5H5zm5-3.5a.8.8 0 0 1-1.5 0V3a.8.8 0 0 1 1.5 0V5zm6 11.8a.8.8 0 0 1 1-1l3.2 3.2a.8.8 0 0 1-1 1L16 17zm-2.2 2a.8.8 0 0 1 1.5 0V21a.8.8 0 0 1-1.5 0V19zm5-3.5a.7.7 0 1 1 0-1.5H21a.8.8 0 0 1 0 1.5H19z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-unlock":'<svg width="24" height="24"><g id="icon-unlock" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 0 0-.3-.7A1 1 0 0 0 16 7h-2a1 1 0 0 0-.7.3 1 1 0 0 0-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 0 1-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" id="shape"/></g></svg>',"icon-unordered-list":'<svg width="24" height="24"><g id="icon-unordered-list" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 0 1 0-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" id="shape"/></g></svg>',"icon-unselected":'<svg width="24" height="24"><g id="icon-unselected" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 21a9 9 0 1 1 0-18 9 9 0 0 1 0 18zm0-1a8 8 0 1 0 0-16 8 8 0 0 0 0 16z" id="Combined-Shape"/></g></svg>',"icon-upload":'<svg width="24" height="24"><g id="icon-upload" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M18 19v-2a1 1 0 0 1 2 0v3c0 .6-.4 1-1 1H5a1 1 0 0 1-1-1v-3a1 1 0 0 1 2 0v2h12zM11 6.4L8.7 8.7a1 1 0 0 1-1.4-1.4l4-4a1 1 0 0 1 1.4 0l4 4a1 1 0 1 1-1.4 1.4L13 6.4V16a1 1 0 0 1-2 0V6.4z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-user":'<svg width="24" height="24"><g id="icon-user" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M12 24a12 12 0 1 1 0-24 12 12 0 0 1 0 24zm-8.7-5.3a11 11 0 0 0 17.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" id="Shape" fill-rule="nonzero"/></g></svg>',"icon-warning":'<svg width="24" height="24"><g id="icon-warning" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 0 0-.3-.7 1 1 0 0 0-.7-.3 1 1 0 0 0-.7.3 1 1 0 0 0-.3.7l.3 4h1.4z" id="shape"/></g></svg>',"icon-zoom-in":'<svg width="24" height="24"><g id="icon-zoom-in" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-1-9a1 1 0 0 1 2 0v6a1 1 0 0 1-2 0V8zm-2 4a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>',"icon-zoom-out":'<svg width="24" height="24"><g id="icon-zoom-out" stroke="none" stroke-width="1" fill-rule="evenodd"><path d="M16 17.3a8 8 0 1 1 1.4-1.4l4.3 4.4a1 1 0 0 1-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 1 0 0-12 6 6 0 0 0 0 12zm-3-5a1 1 0 0 1 0-2h6a1 1 0 0 1 0 2H8z" id="Combined-Shape" fill-rule="nonzero"/></g></svg>'},rh=function(t,e){return j.from(oh[t]).getOrThunk(e)},ih=function(t,e){return j.from(e()[t]).getOrThunk(function(){return rh(t,function(){return"!not found!"})})},ah=function(t,e,n){return j.from(e()[t]).getOrThunk(function(){return rh(t,n)})},uh={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ch=Fl({name:"Notification",factory:function(e){var t,n,o,r=nh({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Fa([Yd.config({})])}),i=function(t){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+t+"%"}}}},a=function(t){return{dom:{tag:"div",classes:["tox-text"],innerHtml:t+"%"}}},u=nh({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},a(0)],behaviours:Fa([Yd.config({})])}),c={updateProgress:function(t,e){t.getSystem().isConnected()&&u.getOpt(t).each(function(t){Yd.set(t,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(e)]},a(e)])})},updateText:function(t,e){if(t.getSystem().isConnected()){var n=r.get(t);Yd.set(n,[aa(e)])}}},s=E(I([e.icon.toArray(),e.level.toArray(),e.level.bind(function(t){return j.from(uh[t])}).toArray()]),function(t){return"icon-"+t});return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(t){return["tox-notification","tox-notification--in","tox-notification--"+t]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:(t=s,n=e.iconProvider,o=function(){return t=function(){return""},Mt(s,function(t){return j.from(oh[t])}).getOrThunk(t);var t},Mt(t,function(t){return j.from(n()[t])}).getOrThunk(o))}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Fa([Yd.config({})])}].concat(e.progress?[u.asSpec()]:[]).concat(th.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:ih("icon-close",e.iconProvider)}}],action:function(t){e.onAction(t)}})),apis:c}},configFields:[nr("level"),Ko("progress"),Ko("icon"),Ko("onAction"),Ko("text"),Ko("iconProvider"),Ko("translationProvider")],apis:{updateProgress:function(t,e,n){t.updateProgress(e,n)},updateText:function(t,e,n){t.updateText(e,n)}}});function sh(r,i,a){var u=i.backstage;return{open:function(t,e){var n=function(){e(),$m.hide(r)},o=sa(ch.sketch({text:t.text,level:M(["success","error","warning","info"],t.type)?t.type:undefined,progress:!0===t.progressBar,icon:j.from(t.icon),onAction:n,iconProvider:u.shared.providers.icons,translationProvider:u.shared.providers.translate})),r=sa($m.sketch({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:i.backstage.shared.getSink,fireDismissalEventInstead:{}}));return a.add(r),t.timeout&&setTimeout(function(){n()},t.timeout),{close:n,moveTo:function(t,e){$m.showAt(r,{anchor:"makeshift",x:t,y:e},la(o))},moveRel:function(t,e){$m.showAt(r,i.backstage.shared.anchors.banner(),la(o))},text:function(t){ch.updateText(o,t)},settings:t,getEl:function(){},progressBar:{value:function(t){ch.updateProgress(o,t)}}}},close:function(t){t.close()},reposition:function(t){T(t,function(t){t.moveTo(0,0)}),function(n){if(0<n.length){var t=n.slice(0,1)[0],e=(o=r).inline?o.getElement():o.getContentAreaContainer();t.moveRel(e,"tc-tc"),T(n,function(t,e){0<e&&t.moveRel(n[e-1].getEl(),"bc-tc")})}var o}(t)},getArgs:function(t){return t.settings}}}var lh,fh,dh=function(n,o){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},throttle:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];null!==r&&clearTimeout(r),r=setTimeout(function(){n.apply(null,t),r=null},o)}}},mh=/[\u00a0 \t\r\n]/,hh=function(n,t,e,o,r){return void 0===r&&(r=0),(i=n).collapsed&&3===i.startContainer.nodeType?function(t,e,n,o){var r;for(r=e-1;0<=r;r--){if(mh.test(t.charAt(r)))return j.none();if(t.charAt(r)===n)break}return-1===r||e-r<o?j.none():j.some(t.substring(r+1,e))}(e,o,t,r).map(function(t){var e=n.cloneRange();return e.setStart(n.startContainer,n.startOffset-t.length-1),e.setEnd(n.startContainer,n.startOffset),{text:t,rng:e}}):j.none();var i},gh=function(n,t){t.on("keypress",n.onKeypressThrottle);var o=function(t,e){br(t,Lt(),{raw:e})};t.on("keydown",function(e){var t=function(){return n.getView().bind(tf.getHighlighted)};n.isActive()&&(8===e.which&&n.onKeypressThrottle(e),27===e.which?n.closeIfNecessary():32===e.which?n.closeIfNecessary():13===e.which?(t().each(yr),e.preventDefault()):40===e.which?(t().fold(function(){n.getView().each(tf.highlightFirst)},function(t){o(t,e)}),e.preventDefault()):37!==e.which&&38!==e.which&&39!==e.which||t().each(function(t){o(t,e),e.preventDefault()}))})},vh=tinymce.util.Tools.resolve("tinymce.util.Promise"),ph=function(t,e){var n,o,r,i=e(),a=t.selection.getRng(),u=a.startContainer.nodeValue;return(n=a,o=u,r=i,Mt(r.triggerChars,function(e){return hh(n,e,o,n.startOffset).map(function(t){return{range:t.rng,text:t.text,triggerChar:e}})})).map(function(n){var t=A(i.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches(n.range,u,n.text)});return{lookupData:vh.all(E(t,function(e){return e.fetch(n.text,e.maxResults).then(function(t){return{items:t,columns:e.columns,onAction:e.onAction}})})),triggerChar:n.triggerChar,range:n.range}})},bh=Co([mr("type",function(){return"autocompleteitem"}),mr("active",function(){return!1}),mr("disabled",function(){return!1}),ar("meta",{}),$o("value"),rr("text"),rr("icon")]),yh=Co([$o("type"),$o("ch"),cr("minChars",0),ar("columns",1),cr("maxResults",10),fr("matches",function(){return!0}),Qo("fetch"),Qo("onAction")]),wh=function(t){var e,n,o=t.ui.registry.getAll().popups,r=et(o,function(t){return(e=t,Lo("Autocompleter",yh,e)).fold(function(t){throw new Error(jo(t))},function(t){return t});var e}),i=(e=ot(r,function(t){return t.ch}),n={},T(e,function(t){n[t]={}}),Q(n)),a=rt(r);return{dataset:r,triggerChars:i,lookupByChar:function(e){return A(a,function(t){return t.ch===e})}}},xh="tox-menu-nav__js",kh="tox-collection__item",zh="tox-swatch",Sh={normal:xh,color:zh},Oh="tox-collection__item--enabled",Ch="tox-collection__item-icon",Mh="tox-collection__item-label",Hh="tox-collection__item--active",Vh=function(t){return wt(Sh,t).getOr(xh)},Eh=undefined&&undefined.__assign||function(){return(Eh=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Th=function(t){var e,n,o,r=Pe.fromHtml(t),i=un(r),a=(n=(e=r).dom().attributes!==undefined?e.dom().attributes:[],_(n,function(t,e){var n;return"class"===e.name?t:Eh({},t,((n={})[e.name]=e.value,n))},{})),u=(o=r,Array.prototype.slice.call(o.dom().classList,0)),c=0===i.length?{}:{innerHtml:vn(r)};return Eh({tag:bn(r),classes:u,attributes:a},c)},Ah=tinymce.util.Tools.resolve("tinymce.Env"),Bh=tinymce.util.Tools.resolve("tinymce.util.I18n"),_h=function(t){return{dom:{tag:"span",classes:[Ch],innerHtml:t}}},Dh=function(t){return{dom:{tag:"span",classes:[Mh]},components:[aa(Bh.translate(t))]}},Fh=function(t){return{dom:{tag:"span",classes:["tox-collection__item-accessory"],innerHtml:(e=t,n=Ah.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},o=e.split("+"),E(o,function(t){var e=t.toLowerCase();return it(n,e)?n[e]:t}).join("+"))}};var e,n,o},Rh=function(t){return{dom:{tag:"span",classes:[Ch,"tox-collection__item-checkmark"],innerHtml:ih("icon-checkmark",t)}}},Lh=function(t,e){var n,o,r,i,a,u,c,s=t.iconContent.map(function(t){return ah("icon-"+t,e.icons,U(t))});return"color"===t.presets?(a=t.value,{dom:(u=zh,c=s.getOr(""),Th("custom"===a?'<button class="'+u+' tox-swatches__picker-btn">'+c+"</button>":"remove"===a?'<div class="'+u+' tox-swatch--remove">'+c+"</div>":'<div class="'+u+'" style="background-color: '+a+'" data-mce-color="'+a+'"></div>')),optComponents:[]}):(o=s,r=(n=t).checkMark.orThunk(function(){return o.or(j.some("")).map(_h)}),i=n.ariaLabel.map(function(t){return{attributes:{title:Bh.translate(t)}}}).getOr({}),{dom:vt({tag:"div",classes:[xh,kh]},i),optComponents:[r,n.textContent.map(Dh),n.shortcutContent.map(Fh),n.caret]})},Ih=["input","button","textarea"],Ph=function(t,e,n){e.disabled&&Xh(t,e,n)},jh=function(t){return M(Ih,bn(t.element()))},Nh=function(t){Sn(t.element(),"disabled","disabled")},Uh=function(t){Hn(t.element(),"disabled")},Wh=function(t){Sn(t.element(),"aria-disabled","true")},Gh=function(t){Sn(t.element(),"aria-disabled","false")},Xh=function(e,t,n){t.disableClass.each(function(t){_i(e.element(),t)}),(jh(e)?Nh:Wh)(e)},Yh=function(t){return jh(t)?Mn(t.element(),"disabled"):"true"===Cn(t.element(),"aria-disabled")},qh=Object.freeze({enable:function(e,t,n){t.disableClass.each(function(t){Di(e.element(),t)}),(jh(e)?Uh:Gh)(e)},disable:Xh,isDisabled:Yh,onLoad:Ph}),Kh=Object.freeze({exhibit:function(t,e,n){return pi({classes:e.disabled?e.disableClass.map(q).getOr([]):[]})},events:function(t,e){return Dr([Fr(ze(),function(t,e){return Yh(t)}),Ta(t,e,Ph)])}}),Jh=[ar("disabled",!1),nr("disableClass")],$h=La({fields:Jh,name:"disabling",active:Kh,apis:qh}),Qh=function(t){return $h.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Zh=function(t){return $h.config({disabled:t})},tg=function(t,e){var n=t.getApi(e);return function(t){t(n)}},eg=function(n,o){return Xr(function(t){tg(n,t)(function(t){var e=n.onSetup(t);null!==e&&e!==undefined&&o.set(e)})})},ng=function(e,n){return Yr(function(t){return tg(e,t)(n.get())})},og={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},rg=function(t){return N(t,function(t){return t.toArray()})},ig=function(t,e,n){var o,r,i=Ot(P);return{type:"item",dom:e.dom,components:rg(e.optComponents),data:t.data,eventOrder:og,itemBehaviours:Fa([Tm("item-events",[(o=t,r=n,Kr(function(t,e){tg(o,t)(o.onAction),o.triggersSubmenu||r!==lh.CLOSE_ON_EXECUTE||(pr(t,He()),e.stop())})),eg(t,i),ng(t,i)]),Qh(t.disabled),Yd.config({})].concat(t.itemBehaviours))}},ag=function(t){return{value:t.value,meta:vt({text:t.text.getOr("")},t.meta)}},ug=U(ml("item-widget",Dm())),cg=Wn("cell-over"),sg=Wn("cell-execute"),lg=function(e,n,t){var o,r=function(t){return br(t,sg,{row:e,col:n})};return sa({dom:{tag:"div",attributes:(o={role:"button"},o["aria-labelledby"]=t,o)},behaviours:Fa([Tm("insert-table-picker-cell",[Lr(Dt(),dm.focus),Lr(ze(),r),Lr(Ce(),r)]),Sm.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),dm.config({onFocus:function(t){return br(t,cg,{row:e,col:n})}})])})},fg={inserttable:function SV(o){var t,e=Wn("size-label"),u=function(t,e,n){for(var o=[],r=0;r<e;r++){for(var i=[],a=0;a<n;a++)i.push(lg(r,a,t));o.push(i)}return o}(e,10,10),c=nh({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:e}},components:[aa("0x0")],behaviours:Fa([Yd.config({})])});return{type:"widget",data:{value:Wn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ug().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:(t=u,N(t,function(t){return E(t,la)})).concat(c.asSpec()),behaviours:Fa([Tm("insert-table-picker",[Nr(cg,function(t,e,n){var o,r,i=n.event().row(),a=n.event().col();!function(t,e,n,o,r){for(var i=0;i<o;i++)for(var a=0;a<r;a++)Sm.set(t[i][a],i<=e&&a<=n)}(u,i,a,10,10),Yd.set(c.get(t),[(o=i,r=a,aa(r+1+"x"+(o+1)))])}),Nr(sg,function(t,e,n){o.onAction({numRows:n.event().row()+1,numColumns:n.event().col()+1}),pr(t,He())})]),Nd.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}}},dg=function(t,a,e){return{dom:{tag:"div",classes:[xh,kh]},optComponents:[j.some(e),t.map(function(t){return e=a.tag,n=a.styleAttr,o="span",r=[Mh],i=[{dom:{tag:e,attributes:{style:n}},components:[aa(t)]}],{dom:{tag:o,classes:r},components:i};var e,n,o,r,i})]}};(fh=lh||(lh={}))[fh.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",fh[fh.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var mg,hg,gg,vg,pg=function(e,t,n,o,r,i,a){var u=Lh({presets:n,textContent:t?e.text:j.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:j.none(),checkMark:j.none(),caret:j.none(),value:e.value},a);return gt(ig({data:ag(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Sm.set(e,t)},isActive:function(){return Sm.isOn(e)},isDisabled:function(){return $h.isDisabled(e)},setDisabled:function(t){return t?$h.disable(e):$h.enable(e)}}},onAction:function(t){return o(e.value)},onSetup:function(t){return t.setActive(r),function(){}},triggersSubmenu:!1,itemBehaviours:[]},u,i),{toggling:{toggleClass:Oh,toggleOnExecute:!1,selected:e.active}})},bg=function(e,t,n,o,r,i){var a=Lh({presets:n,textContent:t?e.text:j.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:j.none(),checkMark:j.none(),caret:j.none(),value:e.value},i);return ig({data:ag(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return o(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:[]},a,r)},yg=function(t){return{type:"separator",dom:{tag:"div",classes:["tox-collection__separator"],innerHtml:t.text.getOr("")},components:[]}},wg=function(t,e,n){var o="togglemenuitem"===t.type&&t.active?Rh(n.icons):_h(""),r=dg(t.text,t.meta,o);return gt(ig({data:ag(t),disabled:t.disabled,getApi:function(){return 10},onAction:t.onAction,onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:[]},r,e),"togglemenuitem"===t.type?{toggling:{toggleClass:Oh,toggleOnExecute:!1,selected:t.active}}:{})},xg=function(t,e,n){var o,r=t.hasSubmenu?j.some((o=n.icons,{dom:{tag:"span",classes:["tox-collection__item-caret"],innerHtml:ih("icon-chevron-right",o)}})):j.none(),i=Lh({presets:"normal",iconContent:t.icon,textContent:t.text,ariaLabel:t.text,caret:r,checkMark:j.none(),shortcutContent:t.shortcut},n);return ig({data:ag(t),getApi:function(e){return{isDisabled:function(){return $h.isDisabled(e)},setDisabled:function(t){return t?$h.disable(e):$h.enable(e)}}},disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:t.hasSubmenu,itemBehaviours:[]},i,e)},kg=function(t,e,n){var o=Lh({iconContent:j.none(),textContent:t.text,ariaLabel:t.text,checkMark:j.some(Rh(n.icons)),caret:j.none(),shortcutContent:t.shortcut,presets:"normal"},n);return gt(ig({data:ag(t),disabled:t.disabled,getApi:function(e){return{setActive:function(t){Sm.set(e,t)},isActive:function(){return Sm.isOn(e)},isDisabled:function(){return $h.isDisabled(e)},setDisabled:function(t){return t?$h.disable(e):$h.enable(e)}}},onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},o,e),{toggling:{toggleClass:Oh,toggleOnExecute:!1,selected:t.active}})},zg=function(e){return(t=fg,n=e.fancytype,Object.prototype.hasOwnProperty.call(t,n)?j.some(t[n]):j.none()).map(function(t){return t(e)});var t,n},Sg=[lr("disabled",!1),rr("text"),rr("shortcut"),Ao("value","value",Jn(function(){return Wn("menuitem-value")}),Uo()),ar("meta",{})],Og=Co([$o("type"),mr("hasSubmenu",function(t){return St(t,"getSubmenuItems")}),fr("onSetup",function(){return P}),fr("onAction",P),rr("icon")].concat(Sg)),Cg=function(t){return Lo("menuitem",Og,t)},Mg=Co([$o("type"),lr("active",!1),fr("onSetup",function(){return P}),Qo("onAction")].concat(Sg)),Hg=function(t){return Lo("togglemenuitem",Mg,t)},Vg=Co([$o("type"),lr("active",!1),rr("icon")].concat(Sg)),Eg=Co([$o("type"),rr("text")]),Tg=Co([$o("type"),(mg="fancytype",hg=["inserttable"],Ao(mg,mg,qn(),Fo(function(t){return M(hg,t)?ft.value(t):ft.error('Value was: "'+t+'". Must be one of ['+E(hg,function(t){return'"'+t+'"'}).join(", ")+"]")}))),fr("onAction",P)]),Ag=function(t,o,e){var r=Oc(t.element(),"."+e);if(0<r.length){var n=F(r,function(t){var e=t.dom().getBoundingClientRect().top,n=r[0].dom().getBoundingClientRect().top;return Math.abs(e-n)>o}).getOr(r.length);return j.some({numColumns:n,numRows:Math.ceil(r.length/n)})}return j.none()},Bg=function(t,e){return Fa([Tm(t,e)])},_g=function(t){return Bg(Wn("unnamed-events"),t)},Dg=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:(e=t,"color"===e?"tox-swatches":"tox-menu"),tieredMenu:"tox-tiered-menu"};var e},Fg=function(t){var e=Dg(t);return{backgroundMenu:e.backgroundMenu,selectedMenu:e.selectedMenu,menu:e.menu,selectedItem:e.selectedItem,item:Vh(t)}},Rg=[Nm.parts().items({})],Lg=function(t,e,n){var o=Dg(n);return{dom:{tag:"div",classes:I([[o.tieredMenu]])},markers:Fg(n)}},Ig=function(t,e){var n=Fg(e);return 1===t?{mode:"menu",moveOnTab:!0}:"auto"===t?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===e?"tox-swatches__row":"tox-collection__group")}},Pg=function(n,o){return function(t){var e=V(t,o);return E(e,function(t){return{dom:n,components:t}})}},jg=function(e,i){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[Nm.parts().items({preprocess:function(t){return"auto"!==e&&1<e?Pg({tag:"div",classes:["tox-collection__group"]},e)(t):(n=function(t,e){return"separator"===i[e].type},o=[],r=[],T(t,function(t,e){n(t,e)?(0<r.length&&o.push(r),r=[]):r.push(t)}),0<r.length&&o.push(r),E(o,function(t){return{dom:{tag:"div",classes:["tox-collection__group"]},components:t}}));var n,o,r}})]}};(vg=gg||(gg={}))[vg.ContentFocus=0]="ContentFocus",vg[vg.UiFocus=1]="UiFocus";var Ng=function(t){return console.error(jo(t)),console.log(t),j.none()},Ug=function(t){return t.icon!==undefined},Wg=function(t){return H(t,Ug)},Gg=function(t,e,n){switch(t.type){case"menuitem":return Cg(t).fold(Ng,function(t){return j.some(xg(t,e,n))});case"styleitem":return"menuitem"===t.item.type?Cg(t.item).fold(Ng,function(t){return j.some(wg(t,e,n))}):"togglemenuitem"===t.item.type?Hg(t.item).fold(Ng,function(t){return j.some(wg(t,e,n))}):(console.error("Unsupported style item delegate",t.item),j.none());case"togglemenuitem":return Hg(t).fold(Ng,function(t){return j.some(kg(t,e,n))});case"separator":return(r=t,Lo("separatormenuitem",Eg,r)).fold(Ng,function(t){return j.some(yg(t))});case"fancymenuitem":return(o=t,Lo("fancymenuitem",Tg,o)).fold(Ng,function(t){return zg(t)});default:return console.error("Unknown item in general menu",t),j.none()}var o,r},Xg=function(t,e,n,o,r){var i,a,u,c,s,l,f;return"color"===r?{value:t,dom:(i=o,f={dom:{tag:"div",classes:["tox-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Nm.parts().items({preprocess:"auto"!==i?Pg({tag:"div",classes:["tox-swatches__row"]},i):d})]}]}).dom,components:f.components,items:n}:"normal"===r&&"auto"===o?{value:t,dom:(f=jg(o,n)).dom,components:f.components,items:n}:"normal"===r&&1===o?{value:t,dom:(f=jg(1,n)).dom,components:f.components,items:n}:"normal"===r?{value:t,dom:(f=jg(o,n)).dom,components:f.components,items:n}:"toolbar"!==r||"auto"===o?{value:t,dom:(u=e,c=o,s=r,l=Dg(s),{tag:"div",classes:I([[l.menu,"tox-menu-"+c+"-column"],u?[l.hasIcons]:[]])}),components:Rg,items:n}:{value:t,dom:(a=o,f={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Nm.parts().items({preprocess:Pg({tag:"div",classes:["tox-collection__group"]},a)})]}).dom,components:f.components,items:n}},Yg=function(t,n,o,r,i,a,u){return Ct(E(t,function(e){return"choiceitem"===e.type?(t=e,Lo("choicemenuitem",Vg,t)).fold(Ng,function(t){return j.some(pg(t,1===o,r,n,a(e.value),i,u))}):j.none();var t}))},qg=function(t,n,o,r,i){return Ct(E(t,function(t){return(e=t,Lo("Autocompleter.Item",bh,e)).fold(Ng,function(t){return j.some(bg(t,1===o,"normal",n,r,i))});var e}))},Kg=function(t,e,n,o,r,i,a,u){var c=Wg(e),s=Yg(e,n,o,"color"!==r?"normal":"color",i,a,u);return Xg(t,c,s,o,r)},Jg=function(t,e,n,o){var r=Wg(e),i=Ct(E(e,function(t){return Gg(t,n,o)}));return Xg(t,r,i,1,"normal")},$g=function(t){return Km.singleData(t.value,t)},Qg=function(h,g){var v=sa($m.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],lazySink:g.getSink})),t=function(){return $m.isOpen(v)},p=function(){t()&&$m.hide(v)},e=Xt(function(){return wh(h)}),n={onKeypressThrottle:dh(function(t){(" "===t.key?j.none():ph(h,e)).fold(p,function(m){m.lookupData.then(function(t){var e,n,o,r,i,a,u,c,s,l,f=(e=m.triggerChar,o=Mt(n=t,function(t){return j.from(t.columns)}).getOr(1),N(n,function(i){var t=i.items;return qg(t,function(o,r){var t=h.selection.getRng();hh(t,e,t.startContainer.data,t.startOffset).fold(function(){return console.error("Lost context. Cursor probably moved")},function(t){var e=t.rng,n={hide:p};i.onAction(n,e,o,r)})},o,lh.BUBBLE_TO_SANDBOX,g.providers)})),d=Mt(t,function(t){return j.from(t.columns)}).getOr(1);$m.showAt(v,{anchor:"selection",root:Pe.fromDom(h.getBody()),getSelection:function(){return j.some({start:function(){return Pe.fromDom(m.range.startContainer)},soffset:function(){return m.range.startOffset},finish:function(){return Pe.fromDom(m.range.endContainer)},foffset:function(){return m.range.endOffset}})}},Nm.sketch((r=Xg("autocompleter-value",!0,f,d,"normal"),i=d,a=gg.ContentFocus,u="normal",c=a===gg.ContentFocus?pf():vf(),s=Ig(i,u),l=Fg(u),{dom:r.dom,components:r.components,items:r.items,value:r.value,markers:{selectedItem:l.selectedItem,item:l.item},movement:s,fakeFocus:a===gg.ContentFocus,focusManager:c,menuBehaviours:_g("auto"!==i?[]:[Xr(function(o,t){Ag(o,4,l.item).each(function(t){var e=t.numColumns,n=t.numRows;Nd.setGridSize(o,n,e)})})])}))),$m.getContent(v).each(tf.highlightFirst)})})},50).throttle,closeIfNecessary:p,isActive:t,getView:function(){return $m.getContent(v)}};gh(n,h)},Zg=function(m,h){return function(t){if(m(t)){var e,n,o,r,i,a,u,c=Pe.fromDom(t.target),s=function(){t.stopPropagation()},l=function(){t.preventDefault()},f=g(l,s),d=(e=c,n=t.clientX,o=t.clientY,r=s,i=l,a=f,u=t,{target:U(e),x:U(n),y:U(o),stop:r,prevent:i,kill:a,raw:U(u)});h(d)}}},tv=function(t,e,n,o,r){var i=Zg(n,o);return t.dom().addEventListener(e,i,r),{unbind:f(ev,t,e,i,r)}},ev=function(t,e,n,o){t.dom().removeEventListener(e,n,o)},nv=U(!0),ov=function(t,e,n){return tv(t,e,nv,n,!1)},rv=function(t,e,n){return tv(t,e,nv,n,!0)},iv=function(t,e,n){return ma(t,e,n).isSome()};function av(n,o){var r=null;return{cancel:function(){null!==r&&(clearTimeout(r),r=null)},schedule:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];r=setTimeout(function(){n.apply(null,t),r=null},o)}}}var uv=function(t){var e=t.raw();return e.touches===undefined||1!==e.touches.length?j.none():j.some(e.touches[0])},cv=function(n){var a=Ot(j.none()),o=av(function(t){a.set(j.none()),n.triggerEvent(Me(),t)},400),r=kt([{key:Ht(),value:function(n){return uv(n).each(function(t){o.cancel();var e={x:U(t.clientX),y:U(t.clientY),target:n.target};o.schedule(n),a.set(j.some(e))}),j.none()}},{key:Vt(),value:function(t){return o.cancel(),uv(t).each(function(i){a.get().each(function(t){var e,n,o,r;e=i,n=t,o=Math.abs(e.clientX-n.x()),r=Math.abs(e.clientY-n.y()),(5<o||5<r)&&a.set(j.none())})}),j.none()}},{key:Et(),value:function(e){return o.cancel(),a.get().filter(function(t){return en(t.target(),e.target())}).map(function(t){return n.triggerEvent(Oe(),e)})}}]);return{fireIfReady:function(e,t){return wt(r,t).bind(function(t){return t(e)})}}},sv=be.detect().browser.isFirefox(),lv=Oo([Qo("triggerEvent"),ar("stopBackspace",!0)]),fv=function(e,t){var n,o,r,i,a=Po("Getting GUI events settings",lv,t),u=be.detect().deviceType.isTouch()?["touchstart","touchmove","touchend","gesturestart"]:["mousedown","mouseup","mouseover","mousemove","mouseout","click"],c=cv(a),s=E(u.concat(["selectstart","input","contextmenu","change","paste","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(t){return ov(e,t,function(e){c.fireIfReady(e,t).each(function(t){t&&e.kill()}),a.triggerEvent(t,e)&&e.kill()})}),l=ov(e,"keydown",function(t){var e;a.triggerEvent("keydown",t)?t.kill():!0!==a.stopBackspace||8!==(e=t).raw().which||M(["input","textarea"],bn(e.target()))||iv(e.target(),'[contenteditable="true"]')||t.prevent()}),f=(n=e,o=function(t){a.triggerEvent("focusin",t)&&t.kill()},sv?rv(n,"focus",o):ov(n,"focusin",o)),d=(r=e,i=function(t){a.triggerEvent("focusout",t)&&t.kill(),setTimeout(function(){a.triggerEvent(xe(),t)},0)},sv?rv(r,"blur",i):ov(r,"focusout",i));return{unbind:function(){T(s,function(t){t.unbind()}),l.unbind(),f.unbind(),d.unbind()}}},dv=function(t,e){var n=wt(t,"target").map(function(t){return t()}).getOr(e);return Ot(n)},mv=dt([{stopped:[]},{resume:["element"]},{complete:[]}]),hv=function(t,o,e,n,r,i){var a,u,c,s,l=t(o,n),f=(a=e,u=r,c=Ot(!1),s=Ot(!1),{stop:function(){c.set(!0)},cut:function(){s.set(!0)},isStopped:c.get,isCut:s.get,event:U(a),setSource:u.set,getSource:u.get});return l.fold(function(){return i.logEventNoHandlers(o,n),mv.complete()},function(e){var n=e.descHandler();return wi(n)(f),f.isStopped()?(i.logEventStopped(o,e.element(),n.purpose()),mv.stopped()):f.isCut()?(i.logEventCut(o,e.element(),n.purpose()),mv.complete()):rn(e.element()).fold(function(){return i.logNoParent(o,e.element(),n.purpose()),mv.complete()},function(t){return i.logEventResponse(o,e.element(),n.purpose()),mv.resume(t)})})},gv=function(e,n,o,t,r,i){return hv(e,n,o,t,r,i).fold(function(){return!0},function(t){return gv(e,n,o,t,r,i)},function(){return!1})},vv=function(t,e,n){var o,r,i=(o=e,r=Ot(!1),{stop:function(){r.set(!0)},cut:P,isStopped:r.get,isCut:U(!1),event:U(o),setSource:a("Cannot set source of a broadcasted event"),getSource:a("Cannot get source of a broadcasted event")});return T(t,function(t){var e=t.descHandler();wi(e)(i)}),i.isStopped()},pv=function(t,e,n,o,r){var i=dv(n,o);return gv(t,e,n,o,i,r)},bv=je("element","descHandler"),yv=function(t,e){return{id:U(t),descHandler:U(e)}};function wv(){var i={};return{registerId:function(o,r,t){tt(t,function(t,e){var n=i[e]!==undefined?i[e]:{};n[r]=yi(t,o),i[e]=n})},unregisterId:function(n){tt(i,function(t,e){t.hasOwnProperty(n)&&delete t[n]})},filterByType:function(t){return wt(i,t).map(function(t){return ot(t,function(t,e){return yv(e,t)})}).getOr([])},find:function(t,e,n){var r=bt(e)(i);return _r(n,function(t){return n=r,oi(o=t).fold(function(){return j.none()},function(t){var e=bt(t);return n.bind(e).map(function(t){return bv(o,t)})});var n,o},t)}}}function xv(){var o=wv(),r={},i=function(o){var t=o.element();return oi(t).fold(function(){return t="uid-",e=o.element(),n=Wn(ti+t),ni(e,n),n;var t,e,n},function(t){return t})},a=function(t){oi(t.element()).each(function(t){r[t]=undefined,o.unregisterId(t)})};return{find:function(t,e,n){return o.find(t,e,n)},filter:function(t){return o.filterByType(t)},register:function(t){var e=i(t);St(r,e)&&function(t,e){var n=r[e];if(n!==t)throw new Error('The tagId "'+e+'" is already used by: '+Tn(n.element())+"\nCannot use it for: "+Tn(t.element())+"\nThe conflicting element is"+(zr(n.element())?" ":" not ")+"already in the DOM");a(t)}(t,e);var n=[t];o.registerId(n,e,t.events()),r[e]=t},unregister:a,getById:function(t){return bt(t)(r)}}}var kv,zv,Sv=undefined&&undefined.__assign||function(){return(Sv=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Ov=undefined&&undefined.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},Cv=Fl({name:"Container",factory:function(t){var e=t.dom,n=e.attributes,o=Ov(e,["attributes"]);return{uid:t.uid,dom:Sv({tag:"div",attributes:Sv({role:"presentation"},n)},o),components:t.components,behaviours:Ts(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},configFields:[ar("components",[]),Es("containerBehaviours",[]),ar("events",{}),ar("domModification",{}),ar("eventOrder",{})]}),Mv=function(n){var o=function(e){return rn(n.element()).fold(function(){return!0},function(t){return en(e,t)})},r=xv(),s=function(t,e){return r.find(o,t,e)},t=fv(n.element(),{triggerEvent:function(a,u){return In(a,u.target(),function(t){return e=s,n=a,r=t,i=(o=u).target(),pv(e,n,o,i,r);var e,n,o,r,i})}}),i={debugInfo:U("real"),triggerEvent:function(e,n,o){In(e,n,function(t){pv(s,e,o,n,t)})},triggerFocus:function(u,c){oi(u).fold(function(){df(u)},function(t){In(we(),u,function(t){var e,n,o,r,i,a;e=s,n=we(),o={originator:U(c),kill:P,prevent:P,target:U(u)},i=t,a=dv(o,r=u),hv(e,n,o,r,a,i)})})},triggerEscape:function(t,e){i.triggerEvent("keydown",t.element(),e.event())},getByUid:function(t){return h(t)},getByDom:function(t){return g(t)},build:sa,addToGui:function(t){u(t)},removeFromGui:function(t){c(t)},addToWorld:function(t){e(t)},removeFromWorld:function(t){a(t)},broadcast:function(t){f(t)},broadcastOn:function(t,e){d(t,e)},broadcastEvent:function(t,e){m(t,e)},isConnected:U(!0)},e=function(t){t.connect(i),xn(t.element())||(r.register(t),T(t.components(),e),i.triggerEvent(Ee(),t.element(),{target:U(t.element())}))},a=function(t){xn(t.element())||(T(t.components(),a),r.unregister(t)),t.disconnect()},u=function(t){us(n,t)},c=function(t){ls(t)},l=function(n){var t=r.filter(ke());T(t,function(t){var e=t.descHandler();wi(e)(n)})},f=function(t){l({universal:U(!0),data:U(t)})},d=function(t,e){l({universal:U(!1),channels:U(t),data:U(e)})},m=function(t,e){var n=r.filter(t);return vv(n,e)},h=function(t){return r.getById(t).fold(function(){return ft.error(new Error('Could not find component with uid: "'+t+'" in system.'))},ft.value)},g=function(t){var e=oi(t).getOr("not found");return h(e)};return e(n),{root:U(n),element:n.element,destroy:function(){t.unbind(),gn(n.element())},add:u,remove:c,getByUid:h,getByDom:g,addToWorld:e,removeFromWorld:a,broadcast:f,broadcastOn:d,broadcastEvent:m}},Hv=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vv=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ev=function(t){return j.from(t.settings.min_width).filter(O)},Tv=function(t){return j.from(t.settings.min_height).filter(O)},Av=Wn("form-component-change"),Bv=Wn("form-close"),_v=Wn("form-cancel"),Dv=Wn("form-action"),Fv=Wn("form-submit"),Rv=Wn("form-block"),Lv=Wn("form-unblock"),Iv=Wn("form-tabchange"),Pv=Wn("form-resize"),jv=U([ar("prefix","form-field"),Es("fieldBehaviours",[jl,um])]),Nv=U([ul({schema:[Ko("dom")],name:"label"}),ul({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ko("text")],name:"aria-descriptor"}),il({factory:{sketch:function(t){var e=pt(t,["factory"]);return t.factory.sketch(e)}},schema:[Ko("factory")],name:"field"})]),Uv=Rl({name:"FormField",configFields:jv(),partFields:Nv(),factory:function(r,t,e,n){var o=As(r.fieldBehaviours,[jl.config({find:function(t){return wl(t,r,"field")}}),um.config({store:{mode:"manual",getValue:function(t){return jl.getCurrent(t).bind(um.getValue)},setValue:function(t,e){jl.getCurrent(t).each(function(t){um.setValue(t,e)})}}})]),i=Dr([Xr(function(t,e){var o=kl(t,r,["label","field","aria-descriptor"]);o.field().each(function(n){var e=Wn(r.prefix);o.label().each(function(t){Sn(t.element(),"for",e),Sn(n.element(),"id",e)}),o["aria-descriptor"]().each(function(t){var e=Wn(r.prefix);Sn(t.element(),"id",e),Sn(n.element(),"aria-labelledby",e)})})})]),a={getField:function(t){return wl(t,r,"field")},getLabel:function(t){return wl(t,r,"label")}};return{uid:r.uid,dom:r.dom,components:t,behaviours:o,events:i,apis:a}},apis:{getField:function(t,e){return t.getField(e)},getLabel:function(t,e){return t.getLabel(e)}}}),Wv=Object.freeze({getCoupled:function(t,e,n,o){return n.getOrCreate(t,e,o)}}),Gv=[Jo("others",Ro(ft.value,Uo()))],Xv=La({fields:Gv,name:"coupling",apis:Wv,state:Object.freeze({init:function(t){var i={},e=U({});return hi({readState:e,getOrCreate:function(n,o,r){var t=Q(o.others);if(t)return wt(i,r).getOrThunk(function(){var t=wt(o.others,r).getOrDie("No information found for coupled component: "+r)(n),e=n.getSystem().build(t);return i[r]=e});throw new Error("Cannot find coupled component: "+r+". Known coupled components: "+po(t,null,2))}})}})}),Yv=Object.freeze({events:function(t,e){var n=t.stream.streams.setup(t,e);return Dr([Lr(t.event,n),Yr(function(){return e.cancel()})].concat(t.cancelEvent.map(function(t){return[Lr(t,function(){return e.cancel()})]}).getOr([])))}}),qv=function(t){var e=Ot(null);return hi({readState:function(){return{timer:null!==e.get()?"set":"unset"}},setTimer:function(t){e.set(t)},cancel:function(){var t=e.get();null!==t&&t.cancel()}})},Kv=Object.freeze({throttle:qv,init:function(t){return t.stream.streams.state(t)}}),Jv=[Jo("stream",No("mode",{throttle:[Ko("delay"),ar("stopEvent",!0),Ma("streams",{setup:function(t,e){var n=t.stream,o=dh(t.onStream,n.delay);return e.setTimer(o),function(t,e){o.throttle(t,e),n.stopEvent&&e.stop()}},state:qv})]})),ar("event","input"),nr("cancelEvent"),Oa("onStream")],$v=La({fields:Jv,name:"streaming",active:Yv,state:Kv}),Qv=function(t){var n=j.none(),e=[],o=function(t){r()?a(t):e.push(t)},r=function(){return n.isSome()},i=function(t){T(t,a)},a=function(e){n.each(function(t){setTimeout(function(){e(t)},0)})};return t(function(t){n=j.some(t),i(e),e=[]}),{get:o,map:function(n){return Qv(function(e){o(function(t){e(n(t))})})},isReady:r}},Zv={nu:Qv,pure:function(e){return Qv(function(t){t(e)})}},tp=function(e){var t=function(t){var o;e((o=t,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this;setTimeout(function(){o.apply(n,t)},0)}))},n=function(){return Zv.nu(t)};return{map:function(o){return tp(function(n){t(function(t){var e=o(t);n(e)})})},bind:function(n){return tp(function(e){t(function(t){n(t).get(e)})})},anonBind:function(n){return tp(function(e){t(function(t){n.get(e)})})},toLazy:n,toCached:function(){var e=null;return tp(function(t){null===e&&(e=n()),e.get(t)})},get:t}},ep={nu:tp,pure:function(e){return tp(function(t){t(e)})}},np=U("sink"),op=U(ul({name:np(),overrides:U({dom:{tag:"div"},behaviours:Fa([rs.config({useFixed:!0})]),events:Dr([Ur(Lt()),Ur(Tt()),Ur(Nt())])})})),rp=undefined&&undefined.__assign||function(){return(rp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};(zv=kv||(kv={}))[zv.HighlightFirst=0]="HighlightFirst",zv[zv.HighlightNone=1]="HighlightNone";var ip=function(t,e){var n=t.getHotspot(e).getOr(e);return t.layouts.fold(function(){return{anchor:"hotspot",hotspot:n}},function(t){return{anchor:"hotspot",hotspot:n,layouts:t}})},ap=function(t,e,n,o,r,i,a){var u,c,s,l,f,d,m,h,g,v,p=ip(t,n);return(c=p,l=o,f=r,d=a,m=e,h=s=n,g=(0,(u=t).fetch)(h).map(m),v=lp(s,u),g.map(function(t){return Km.sketch(rp({},f.menu(),{uid:ri(""),data:t,highlightImmediately:d===kv.HighlightFirst,onOpenMenu:function(t,e){var n=v().getOrDie();rs.position(n,c,e),zs.decloak(l)},onOpenSubmenu:function(t,e,n){var o=v().getOrDie();rs.position(o,{anchor:"submenu",item:e},n),zs.decloak(l)},onEscape:function(){return dm.focus(s),zs.close(l),j.some(!0)}}))})).map(function(t){return zs.cloak(o),zs.open(o,t),i(o),o})},up=function(t,e,n,o,r,i,a){return zs.close(o),ep.pure(o)},cp=function(t,e,n,o,r,i){var a=Xv.getCoupled(n,"sandbox");return(zs.isOpen(a)?up:ap)(t,e,n,a,o,r,i)},sp=function(t,e,n){var o,r,i=jl.getCurrent(e).getOr(e),a=tu(t.element());n?Ui(i.element(),"min-width",a+"px"):(o=i.element(),r=a,Za.set(o,r))},lp=function(e,t){return e.getSystem().getByUid(t.uid+"-"+np()).map(function(t){return function(){return ft.value(t)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return ft.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},fp=function(o,r,i){var e,a=(e=Wn("aria-owns"),{id:U(e),link:function(t){Sn(t,"aria-owns",e)},unlink:function(t){Hn(t,"aria-owns")}}),t=lp(r,o);return{dom:{tag:"div",classes:o.sandboxClasses,attributes:{id:a.id()}},behaviours:_s(o.sandboxBehaviours,[um.config({store:{mode:"memory",initialValue:r}}),zs.config({onOpen:function(t,e){var n=ip(o,r);a.link(r.element()),o.matchWidth&&sp(n.hotspot,e,o.useMinWidth),o.onOpen(n,t,e),i!==undefined&&i.onOpen!==undefined&&i.onOpen(t,e)},onClose:function(t,e){a.unlink(r.element()),i!==undefined&&i.onClose!==undefined&&i.onClose(t,e)},isPartOf:function(t,e,n){return ga(e,n)||ga(r,n)},getAttachPoint:function(){return t().getOrDie()}}),jl.config({find:function(t){return zs.getState(t).bind(function(t){return jl.getCurrent(t)})}}),Ms({isExtraPart:U(!1)})])}},dp=function(t,e,n){var o=um.getValue(n);um.setValue(e,o),hp(e)},mp=function(t,e){var n=t.element(),o=Ji(n),r=n.dom();"number"!==Cn(n,"type")&&e(r,o)},hp=function(t){mp(t,function(t,e){return t.setSelectionRange(e.length,e.length)})},gp=function(t,e,o){if(t.selectsOver){var n=um.getValue(e),r=t.getDisplayText(n),i=um.getValue(o);return 0===t.getDisplayText(i).indexOf(r)?j.some(function(){var t,n;dp(0,e,o),t=e,n=r.length,mp(t,function(t,e){return t.setSelectionRange(n,e.length)})}):j.none()}return j.none()},vp=undefined&&undefined.__assign||function(){return(vp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},pp=U([nr("data"),ar("inputAttributes",{}),ar("inputStyles",{}),ar("tag","input"),ar("inputClasses",[]),za("onSetValue"),ar("styles",{}),ar("eventOrder",{}),Es("inputBehaviours",[um,dm]),ar("selectOnFocus",!0)]),bp=function(t){return Fa([dm.config({onFocus:!1===t.selectOnFocus?P:function(t){var e=t.element(),n=Ji(e);e.dom().setSelectionRange(0,n.length)}})])},yp=function(t){return{tag:t.tag,attributes:vp({type:"input"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},wp=U("alloy.typeahead.itemexecute"),xp=undefined&&undefined.__assign||function(){return(xp=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},kp=function(){return[ar("sandboxClasses",[]),Bs("sandboxBehaviours",[jl,Wa,zs,um])]},zp=U([nr("lazySink"),Ko("fetch"),ar("minChars",5),ar("responseTime",1e3),za("onOpen"),ar("getHotspot",j.some),ar("layouts",j.none()),ar("eventOrder",{}),dr("model",{},[ar("getDisplayText",function(t){return t.meta!==undefined&&t.meta.text!==undefined?t.meta.text:t.value}),ar("selectsOver",!0),ar("populateFromBrowse",!0)]),za("onSetValue"),Sa("onExecute"),za("onItemExecute"),ar("inputClasses",[]),ar("inputAttributes",{}),ar("inputStyles",{}),ar("matchWidth",!0),ar("useMinWidth",!1),ar("dismissOnBlur",!0),xa(["openClass"]),nr("initialData"),Es("typeaheadBehaviours",[dm,um,$v,Nd,Sm,Xv]),mr("previewing",function(){return Ot(!0)})].concat(pp()).concat(kp())),Sp=U([al({schema:[wa()],name:"menu",overrides:function(o){return{fakeFocus:!0,onHighlight:function(e,n){o.previewing.get()?e.getSystem().getByUid(o.uid).each(function(t){gp(o.model,t,n).fold(function(){return tf.dehighlight(e,n)},function(t){return t()})}):e.getSystem().getByUid(o.uid).each(function(t){o.model.populateFromBrowse&&dp(o.model,t,n)}),o.previewing.set(!1)},onExecute:function(t,e){return t.getSystem().getByUid(o.uid).toOption().map(function(t){return br(t,wp(),{item:e}),!0})},onHover:function(t,e){o.previewing.set(!1),t.getSystem().getByUid(o.uid).each(function(t){o.model.populateFromBrowse&&dp(o.model,t,e)})}}}})]),Op=Rl({name:"Typeahead",configFields:zp(),partFields:Sp(),factory:function(r,t,e,i){var n=function(t,e,n){r.previewing.set(!1);var o=Xv.getCoupled(t,"sandbox");zs.isOpen(o)?jl.getCurrent(o).each(function(t){tf.getHighlighted(t).fold(function(){n(t)},function(){kr(o,t.element(),"keydown",e)})}):ap(r,a(t),t,o,i,function(t){jl.getCurrent(t).each(n)},kv.HighlightFirst).get(P)},o=bp(r),a=function(o){return function(t){var e=rt(t.menus),n=N(e,function(t){return A(t.items,function(t){return"item"===t.type})});return um.getState(o).update(E(n,function(t){return t.data})),t}},u=[dm.config({}),um.config({onSetValue:r.onSetValue,store:xp({mode:"dataset",getDataKey:function(t){return Ji(t.element())},getFallbackEntry:function(t){return{value:t,meta:{}}},setValue:function(t,e){$i(t.element(),r.model.getDisplayText(e))}},r.initialData.map(function(t){return xt("initialValue",t)}).getOr({}))}),$v.config({stream:{mode:"throttle",delay:r.responseTime,stopEvent:!1},onStream:function(t,e){var n=Xv.getCoupled(t,"sandbox");if(dm.isFocused(t)&&Ji(t.element()).length>=r.minChars){var o=jl.getCurrent(n).bind(function(t){return tf.getHighlighted(t).map(um.getValue)});r.previewing.set(!0),ap(r,a(t),t,n,i,function(t){jl.getCurrent(n).each(function(t){o.fold(function(){r.model.selectsOver&&tf.highlightFirst(t)},function(e){tf.highlightBy(t,function(t){return um.getValue(t).value===e.value}),tf.getHighlighted(t).orThunk(function(){return tf.highlightFirst(t),j.none()})})})},kv.HighlightFirst).get(P)}},cancelEvent:Ve()}),Nd.config({mode:"special",onDown:function(t,e){return n(t,e,tf.highlightFirst),j.some(!0)},onEscape:function(t){var e=Xv.getCoupled(t,"sandbox");return zs.isOpen(e)?(zs.close(e),j.some(!0)):j.none()},onUp:function(t,e){return n(t,e,tf.highlightLast),j.some(!0)},onEnter:function(e){var t=Xv.getCoupled(e,"sandbox"),n=zs.isOpen(t);if(n&&!r.previewing.get())return jl.getCurrent(t).bind(function(t){return tf.getHighlighted(t)}).map(function(t){return br(e,wp(),{item:t}),!0});var o=um.getValue(e);return pr(e,Ve()),r.onExecute(t,e,o),n&&zs.close(t),j.some(!0)}}),Sm.config({toggleClass:r.markers.openClass,aria:{mode:"pressed",syncWithExpanded:!0}}),Xv.config({others:{sandbox:function(t){return fp(r,t,{onOpen:d,onClose:d})}}}),Tm("typeaheadevents",[Kr(function(t){var e=P;cp(r,a(t),t,i,e,kv.HighlightFirst).get(P)}),Lr(wp(),function(t,e){var n=Xv.getCoupled(t,"sandbox");dp(r.model,t,e.event().item()),pr(t,Ve()),r.onItemExecute(t,n,e.event().item(),um.getValue(t)),zs.close(n),hp(t)})].concat(r.dismissOnBlur?[Lr(xe(),function(t){var e=Xv.getCoupled(t,"sandbox");hf(e.element()).isNone()&&zs.close(e)})]:[]))];return{uid:r.uid,dom:yp(r),behaviours:xp({},o,As(r.typeaheadBehaviours,u)),eventOrder:r.eventOrder}}}),Cp=function(t,e,n){var o=Hp(t,e,n);return Uv.sketch(o)},Mp=function(t,e){return Cp(t,e,[])},Hp=function(t,e,n){return{dom:Vp(n),components:t.toArray().concat([e])}},Vp=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},Ep=function(t,e){return Uv.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:e.translate(t)}})},Tp=function(t){return St(t,"getSubmenuItems")?(n=(e=t).getSubmenuItems(),o=Ap(n),{item:e,menus:gt(o.menus,xt(e.value,o.items)),expansions:gt(o.expansions,xt(e.value,e.value))}):{item:t,menus:{},expansions:{}};var e,n,o},Ap=function(t){return B(t,function(t,e){var n=wt(e,"value").getOrThunk(function(){return Wn("generated-menu-item")}),o=gt({value:n},e),r=Tp(o);return{menus:gt(t.menus,r.menus),items:[r.item].concat(t.items),expansions:gt(t.expansions,r.expansions)}},{menus:{},expansions:{},items:[]})},Bp=function(t,n,o){var e=Wn("primary-menu"),r=Ap(t),i=Jg(e,r.items,n,o),a=et(r.menus,function(t,e){return Jg(e,t,n,o)}),u=gt(a,xt(e,i));return Km.tieredData(e,u,r.expansions)},_p=Fl({name:"Input",configFields:pp(),factory:function(t,e){return{uid:t.uid,dom:yp(t),components:[],behaviours:(n=t,vp({},bp(n),As(n.inputBehaviours,[um.config({store:{mode:"manual",initialValue:n.data.getOr(undefined),getValue:function(t){return Ji(t.element())},setValue:function(t,e){Ji(t.element())!==e&&$i(t.element(),e)}},onSetValue:n.onSetValue})]))),eventOrder:t.eventOrder};var n}}),Dp=be.detect().browser.isFirefox(),Fp={position:"absolute",left:"-9999px"},Rp=function(t,e,n){var o,r,i,a=function(t,e){var n=Pe.fromTag("span",t.dom());Sn(n,"role","presentation");var o=Pe.fromText(e,t.dom());return dn(n,o),n}(nn(e),n);Dp&&(o=e,r=a,i=Wn("ephox-alloy-aria-voice"),Sn(r,"id",i),Sn(o,"aria-describedby",i)),On(a,t(n)),Wi(a,Fp),dn(e,a),setTimeout(function(){Hn(a,"aria-live"),gn(a)},1e3)},Lp=function(t){return{"aria-live":"assertive","aria-atomic":"true",role:"alert"}},Ip=["input","textarea"],Pp=function(t){var e=bn(t);return M(Ip,e)},jp=function(t,e){var n=e.getRoot(t).getOr(t.element());Di(n,e.invalidClass),e.notify.each(function(e){Pp(t.element())&&Hn(n,"title"),e.getContainer(t).each(function(t){pn(t,e.validHtml)}),e.onValid(t)})},Np=function(n,t,e,o){var r=t.getRoot(n).getOr(n.element());_i(r,t.invalidClass),t.notify.each(function(t){var e;Pp(n.element())&&Sn(n.element(),"title",o),e=Sr(),Rp(Lp,e,o),t.getContainer(n).each(function(t){pn(t,o)}),t.onInvalid(n,o)})},Up=function(e,t,n){return t.validator.fold(function(){return ep.pure(ft.value(!0))},function(t){return t.validate(e)})},Wp=function(e,n,t){return n.notify.each(function(t){t.onValidate(e)}),Up(e,n).map(function(t){return e.getSystem().isConnected()?t.fold(function(t){return Np(e,n,0,t),ft.error(t)},function(t){return jp(e,n),ft.value(t)}):ft.error("No longer in system")})},Gp=Object.freeze({markValid:jp,markInvalid:Np,query:Up,run:Wp,isInvalid:function(t,e){var n=e.getRoot(t).getOr(t.element());return Ri(n,e.invalidClass)}}),Xp=Object.freeze({events:function(e,t){return e.validator.map(function(t){return Dr([Lr(t.onEvent,function(t){Wp(t,e).get(d)})].concat(t.validateOnLoad?[Xr(function(t){Wp(t,e).get(P)})]:[]))}).getOr({})}}),Yp=[Ko("invalidClass"),ar("getRoot",j.none),ir("notify",[ar("aria","alert"),ar("getContainer",j.none),ar("validHtml",""),za("onValid"),za("onInvalid"),za("onValidate")]),ir("validator",[Ko("validate"),ar("onEvent","input"),ar("validateOnLoad",!0)])],qp=La({fields:Yp,name:"invalidating",active:Xp,apis:Gp,extra:{validation:function(n){return function(t){var e=um.getValue(t);return ep.pure(n(e))}}}}),Kp=Object.freeze({exhibit:function(t,e){return pi({attributes:kt([{key:e.tabAttr,value:"true"}])})}}),Jp=[ar("tabAttr","data-alloy-tabstop")],$p=La({fields:Jp,name:"tabstopping",active:Kp}),Qp="choiceitem",Zp=Ot([{type:Qp,text:"Turquoise",value:"#18BC9B"},{type:Qp,text:"Green",value:"#2FCC71"},{type:Qp,text:"Blue",value:"#3598DB"},{type:Qp,text:"Purple",value:"#9B59B6"},{type:Qp,text:"Navy Blue",value:"#34495E"},{type:Qp,text:"Dark Turquoise",value:"#18A085"},{type:Qp,text:"Dark Green",value:"#27AE60"},{type:Qp,text:"Medium Blue",value:"#2880B9"},{type:Qp,text:"Medium Purple",value:"#8E44AD"},{type:Qp,text:"Midnight Blue",value:"#2B3E50"},{type:Qp,text:"Yellow",value:"#F1C40F"},{type:Qp,text:"Orange",value:"#E67E23"},{type:Qp,text:"Red",value:"#E74C3C"},{type:Qp,text:"Light Gray",value:"#ECF0F1"},{type:Qp,text:"Gray",value:"#95A5A6"},{type:Qp,text:"Dark Yellow",value:"#F29D12"},{type:Qp,text:"Dark Orange",value:"#D35400"},{type:Qp,text:"Dark Red",value:"#E74C3C"},{type:Qp,text:"Medium Gray",value:"#BDC3C7"},{type:Qp,text:"Dark Gray",value:"#7E8C8D"},{type:Qp,text:"Black",value:"#000000"},{type:Qp,text:"White",value:"#ffffff"}]),tb=function(t){var e,n=[];for(e=0;e<t.length;e+=2)n.push({text:t[e+1],value:"#"+t[e],type:"choiceitem"});return n},eb=function(t){return t.getParam("color_map")},nb=function(t){var e,n;e=rb,(n=eb(t))!==undefined&&e(tb(n))},ob=function(){return Zp.get()},rb=function(t){Zp.set(t)},ib=function(t,e){return t.getParam("color_cols",e,"number")},ab=function(t){return!1!==t.getParam("custom_colors")},ub=function(t){nb(t)},cb=ob,sb=function(t){rb(ob().concat([{type:"choiceitem",text:t,value:t}]))},lb=function(t){return Math.ceil(Math.sqrt(t))},fb=function(t){var e=cb(),n=lb(e.length);return ib(t,n)},db=function(t){return"remove"===t?'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M25 5L5 25" stroke-width="1.5" fill="none"></path></svg>':"custom"===t?"color-picker":'<div style="width: 24px; height: 24px; background-color: '+t+';"></div>'},mb=function(e,n,t,o,r){"custom"===o?vb(e)(function(t){sb(t),e.execCommand("mceApplyTextcolor",n,t),r(t)},"#000000"):"remove"===o?(r(""),e.execCommand("mceRemoveTextcolor",n)):(r(o),e.execCommand("mceApplyTextcolor",n,o))},hb=function(i){return function(t){var e,n,o,r;t(cb().concat((e=i,o={type:n="choiceitem",text:"Remove",icon:db("remove"),value:"remove"},r={type:n,text:"Custom",icon:db("custom"),value:"custom"},e?[o,r]:[o])))}},gb=function(e,r,n,t){var i;e.ui.registry.addSplitButton(r,(i=Ot(null),{type:"splitbutton",tooltip:t,presets:"color",icon:"forecolor"===r?"text-color":"background-color",select:function(){return!1},columns:fb(e),fetch:hb(ab(e)),onAction:function(t){null!==i.get()&&mb(e,n,0,i.get(),function(){})},onItemAction:function(o,t){mb(e,n,0,t,function(t){var e,n;i.set(t),e="forecolor"===r?"color":"Rectangle",n=t,o.setIconFill(e,n),o.setIconStroke(e,n)})}}))},vb=function(r){return function(t,e){var n,o=(n=t,function(t){var e=t.getData();n(e.colorpicker),t.close()});r.windowManager.open({title:"Color",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:e},onAction:function(t,e){"hex-valid"===e.name&&(e.value?t.enable("ok"):t.disable("ok"))},onSubmit:o,onClose:function(){r.focus()}})}},pb={register:function(t){var i;ub(t),(i=t).addCommand("mceApplyTextcolor",function(t,e){var n,o,r;o=t,r=e,(n=i).undoManager.transact(function(){n.focus(),n.formatter.apply(o,{value:r}),n.nodeChanged()})}),i.addCommand("mceRemoveTextcolor",function(t){var e,n;n=t,(e=i).undoManager.transact(function(){e.focus(),e.formatter.remove(n,{value:null},null,!0),e.nodeChanged()})}),gb(t,"forecolor","forecolor","Color"),gb(t,"backcolor","hilitecolor","Background color")},getFetch:hb,colorPickerDialog:vb,getCurrentColor:function(t,n){var o;return t.dom.getParents(t.selection.getStart(),function(t){var e;(e=t.style["forecolor"===n?"color":"background-color"])&&(o=o||e)}),o},getColorCols:fb,calcCols:lb},bb=U([Ko("dom"),Ko("fetch"),za("onOpen"),Sa("onExecute"),ar("getHotspot",j.some),ar("layouts",j.none()),Es("dropdownBehaviours",[Sm,Xv,Nd,dm]),Ko("toggleClass"),ar("eventOrder",{}),nr("lazySink"),ar("matchWidth",!1),ar("useMinWidth",!1),nr("role")].concat(kp())),yb=U([al({schema:[wa()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),op()]),wb=undefined&&undefined.__assign||function(){return(wb=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},xb=Rl({name:"Dropdown",configFields:bb(),partFields:yb(),factory:function(e,t,n,o){var r,i=function(t){zs.getState(t).each(function(t){Km.highlightPrimary(t)})},a={expand:function(t){Sm.isOn(t)||cp(e,function(t){return t},t,o,P,kv.HighlightNone).get(P)},open:function(t){Sm.isOn(t)||cp(e,function(t){return t},t,o,P,kv.HighlightFirst).get(P)},isOpen:Sm.isOn,close:function(t){Sm.isOn(t)&&cp(e,function(t){return t},t,o,P,kv.HighlightFirst).get(P)}},u=function(t,e){return yr(t),j.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:As(e.dropdownBehaviours,[Sm.config({toggleClass:e.toggleClass,aria:{mode:"pressed",syncWithExpanded:!0}}),Xv.config({others:{sandbox:function(t){return fp(e,t,{onOpen:function(){Sm.on(t)},onClose:function(){Sm.off(t)}})}}}),Nd.config({mode:"special",onSpace:u,onEnter:u,onDown:function(t,e){if(xb.isOpen(t)){var n=Xv.getCoupled(t,"sandbox");i(n)}else xb.open(t);return j.some(!0)},onEscape:function(t,e){return xb.isOpen(t)?(xb.close(t),j.some(!0)):j.none()}}),dm.config({})]),events:Qm(j.some(function(t){cp(e,function(t){return t},t,o,i,kv.HighlightFirst).get(P)})),eventOrder:wb({},e.eventOrder,(r={},r[ze()]=["toggling","alloy.base.behaviour"],r)),apis:a,domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":"true"}}}},apis:{open:function(t,e){return t.open(e)},expand:function(t,e){return t.expand(e)},close:function(t,e){return t.close(e)},isOpen:function(t,e){return t.isOpen(e)}}}),kb=La({fields:[],name:"unselecting",active:Object.freeze({events:function(t){return Dr([Fr(Wt(),U(!0))])},exhibit:function(t,e){return pi({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),zb=Wn("color-change"),Sb=Wn("hex-change"),Ob=function(t,e,o){var n,r,i=Uv.parts().field({factory:_p,inputClasses:["tox-textfield"],onSetValue:function(t){return qp.run(t).get(function(){})},inputBehaviours:Fa([$p.config({}),qp.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(t){return rn(t.element())},notify:{onValid:function(t){var e=um.getValue(t);br(t,zb,{color:e})}},validator:{validateOnLoad:!1,validate:function(t){var e=um.getValue(t);if(0===e.length)return ep.pure(ft.value(!0));var n=Pe.fromTag("span");Ui(n,"background-color",e);var o=Yi(n,"background-color").fold(function(){return ft.error("blah")},function(t){return ft.value(e)});return ep.pure(o)}}})]),selectOnFocus:!1}),a=t.label.map(function(t){return Ep(t,e.providers)}),u=function(t,e){br(t,Sb,{value:e})},c=nh((n={dom:{tag:"span"},layouts:j.some({onRtl:function(){return[Ju]},onLtr:function(){return[$u]}}),components:[],fetch:pb.getFetch(o.hasCustomColors()),onItemAction:function(n){e.getSink().each(function(t){c.getOpt(t).each(function(e){"custom"===n?o.colorPicker(function(t){u(e,t),sb(t)},"#ffffff"):u(e,"remove"===n?"":n)})})}},r=e,xb.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:Fa([kb.config({}),$p.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(){return ep.nu(function(t){return n.fetch(t)}).map(function(t){return $g(gt(Kg(Wn("menu-value"),t,function(t){n.onItemAction(t)},5,"color",lh.CLOSE_ON_EXECUTE,function(){return!1},r.providers),{movement:Ig(5,"color")}))})},parts:{menu:Lg(0,0,"color")}})));return Uv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:a.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[i,c.asSpec()]}]),fieldBehaviours:Fa([Tm("form-field-events",[Lr(zb,function(t,e){c.getOpt(t).each(function(t){Ui(t.element(),"background-color",e.event().color())})}),Lr(Sb,function(e,n){Uv.getField(e).each(function(t){um.setValue(t,n.event().value()),jl.getCurrent(e).each(dm.focus)})})])])})},Cb=be.detect().deviceType.isTouch(),Mb=ul({schema:[Ko("dom")],name:"label"}),Hb=function(t){return ul({name:t+"-edge",overrides:function(o){return o.model.manager.edgeActions[t].fold(function(){return{}},function(n){var t=Dr([Ir(Ht(),n,[o])]),e=Dr([Ir(Tt(),n,[o]),Ir(At(),function(t,e){e.mouseIsDown.get()&&n(t,e)},[o])]);return{events:Cb?t:e}})}})},Vb=Hb("top-left"),Eb=Hb("top"),Tb=Hb("top-right"),Ab=Hb("right"),Bb=Hb("bottom-right"),_b=Hb("bottom"),Db=Hb("bottom-left"),Fb=[Mb,Hb("left"),Ab,Eb,_b,Vb,Tb,Db,Bb,il({name:"thumb",defaults:U({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:Dr([jr(Ht(),t,"spectrum"),jr(Vt(),t,"spectrum"),jr(Et(),t,"spectrum"),jr(Tt(),t,"spectrum"),jr(At(),t,"spectrum"),jr(_t(),t,"spectrum")])}}}),il({schema:[mr("mouseIsDown",function(){return Ot(!1)})],name:"spectrum",overrides:function(n){var o=n.model.manager,r=function(e,t){return o.getValueFromEvent(t).map(function(t){return o.setValueFrom(e,n,t)})},t=Dr([Lr(Ht(),r),Lr(Vt(),r)]),e=Dr([Lr(Tt(),r),Lr(At(),function(t,e){n.mouseIsDown.get()&&r(t,e)})]);return{behaviours:Fa(Cb?[]:[Nd.config({mode:"special",onLeft:function(t){return o.onLeft(t,n)},onRight:function(t){return o.onRight(t,n)},onUp:function(t){return o.onUp(t,n)},onDown:function(t){return o.onDown(t,n)}}),dm.config({})]),events:Cb?t:e}}})],Rb=be.detect().deviceType.isTouch(),Lb=U("slider.change.value"),Ib=function(t){var e=t.event().raw();if(Rb){var n=e;return n.touches!==undefined&&1===n.touches.length?j.some(n.touches[0]).map(function(t){return Ya(t.clientX,t.clientY)}):j.none()}var o=e;return o.clientX!==undefined?j.some(o).map(function(t){return Ya(t.clientX,t.clientY)}):j.none()},Pb=function(t,e,n,o){return t<e?t:n<t?n:t===e?e-1:Math.max(e,t-o)},jb=function(t,e,n,o){return n<t?t:t<e?e:t===n?n+1:Math.min(n,t+o)},Nb=function(t,e,n){return Math.max(e,Math.min(n,t))},Ub=function(t){var e=t.min,n=t.max,o=t.range,r=t.value,i=t.step,a=t.snap,u=t.snapStart,c=t.rounded,s=t.hasMinEdge,l=t.hasMaxEdge,f=t.minBound,d=t.maxBound,m=t.screenRange,h=s?e-1:e,g=l?n+1:n;if(r<f)return h;if(d<r)return g;var v,p,b,y,w,x,k,z=(w=r,x=f,k=d,Math.min(k,Math.max(w,x))-x),S=Nb(z/m*o+e,h,g);return a&&e<=S&&S<=n?(v=S,p=e,b=n,y=i,u.fold(function(){var t=v-p,e=Math.round(t/y)*y;return Nb(p+e,p-1,b+1)},function(t){var e=(v-t)%y,n=Math.round(e/y),o=Math.floor((v-t)/y),r=Math.floor((b-t)/y),i=t+Math.min(r,o+n)*y;return Math.max(t,i)})):c?Math.round(S):S},Wb=function(t){var e=t.min,n=t.max,o=t.range,r=t.value,i=t.hasMinEdge,a=t.hasMaxEdge,u=t.maxBound,c=t.maxOffset,s=t.centerMinEdge,l=t.centerMaxEdge;return r<e?i?0:s:n<r?a?u:l:(r-e)/o*c},Gb=function(t){return t.model.minX},Xb=function(t){return t.model.minY},Yb=function(t){return t.model.minX-1},qb=function(t){return t.model.minY-1},Kb=function(t){return t.model.maxX},Jb=function(t){return t.model.maxY},$b=function(t){return t.model.maxX+1},Qb=function(t){return t.model.maxY+1},Zb=function(t,e,n){return e(t)-n(t)},ty=function(t){return Zb(t,Kb,Gb)},ey=function(t){return Zb(t,Jb,Xb)},ny=function(t){return ty(t)/2},oy=function(t){return ey(t)/2},ry=function(t){return t.stepSize},iy=function(t){return t.snapToGrid},ay=function(t){return t.snapStart},uy=function(t){return t.rounded},cy=function(t,e){return t[e+"-edge"]!==undefined},sy=function(t){return cy(t,"left")},ly=function(t){return cy(t,"right")},fy=function(t){return cy(t,"top")},dy=function(t){return cy(t,"bottom")},my=function(t){return t.model.value.get()},hy=function(t){return{x:U(t)}},gy=function(t){return{y:U(t)}},vy=function(t,e){return{x:U(t),y:U(e)}},py=function(t,e){br(t,Lb(),{value:e})},by="left",yy=function(t){return t.element().dom().getBoundingClientRect()},wy=function(t,e){return t[e]},xy=function(t){var e=yy(t);return wy(e,by)},ky=function(t){var e=yy(t);return wy(e,"right")},zy=function(t){var e=yy(t);return wy(e,"top")},Sy=function(t){var e=yy(t);return wy(e,"bottom")},Oy=function(t){var e=yy(t);return wy(e,"width")},Cy=function(t){var e=yy(t);return wy(e,"height")},My=function(t,e,n){return(t+e)/2-n},Hy=function(t,e){var n=yy(t),o=yy(e),r=wy(n,by),i=wy(n,"right"),a=wy(o,by);return My(r,i,a)},Vy=function(t,e){var n=yy(t),o=yy(e),r=wy(n,"top"),i=wy(n,"bottom"),a=wy(o,"top");return My(r,i,a)},Ey=function(t,e){br(t,Lb(),{value:e})},Ty=function(t){return{x:U(t)}},Ay=function(t,e,n){var o={min:Gb(e),max:Kb(e),range:ty(e),value:n,step:ry(e),snap:iy(e),snapStart:ay(e),rounded:uy(e),hasMinEdge:sy(e),hasMaxEdge:ly(e),minBound:xy(t),maxBound:ky(t),screenRange:Oy(t)};return Ub(o)},By=function(a){return function(t,e){return(n=a,o=t,r=e,i=(0<n?jb:Pb)(my(r).x(),Gb(r),Kb(r),ry(r)),Ey(o,Ty(i)),j.some(i)).map(function(){return!0});var n,o,r,i}},_y=function(t,e,n,o,r,i){var a,u,c,s,l,f,d,m,h,g=(u=i,c=n,s=o,l=r,f=Oy(a=e),d=s.bind(function(t){return j.some(Hy(t,a))}).getOr(0),m=l.bind(function(t){return j.some(Hy(t,a))}).getOr(f),h={min:Gb(u),max:Kb(u),range:ty(u),value:c,hasMinEdge:sy(u),hasMaxEdge:ly(u),minBound:xy(a),minOffset:0,maxBound:ky(a),maxOffset:f,centerMinEdge:d,centerMaxEdge:m},Wb(h));return xy(e)-xy(t)+g},Dy=By(-1),Fy=By(1),Ry=j.none,Ly=j.none,Iy={"top-left":j.none(),top:j.none(),"top-right":j.none(),right:j.some(function(t,e){py(t,hy($b(e)))}),"bottom-right":j.none(),bottom:j.none(),"bottom-left":j.none(),left:j.some(function(t,e){py(t,hy(Yb(e)))})},Py=Object.freeze({setValueFrom:function(t,e,n){var o=Ay(t,e,n),r=Ty(o);return Ey(t,r),o},setToMin:function(t,e){var n=Gb(e);Ey(t,Ty(n))},setToMax:function(t,e){var n=Kb(e);Ey(t,Ty(n))},findValueOfOffset:Ay,getValueFromEvent:function(t){return Ib(t).map(function(t){return t.left()})},findPositionOfValue:_y,setPositionFromValue:function(t,e,n,o){var r=my(n),i=_y(t,o.getSpectrum(t),r.x(),o.getLeftEdge(t),o.getRightEdge(t),n),a=tu(e.element())/2;Ui(e.element(),"left",i-a+"px")},onLeft:Dy,onRight:Fy,onUp:Ry,onDown:Ly,edgeActions:Iy}),jy=function(t,e){br(t,Lb(),{value:e})},Ny=function(t){return{y:U(t)}},Uy=function(t,e,n){var o={min:Xb(e),max:Jb(e),range:ey(e),value:n,step:ry(e),snap:iy(e),snapStart:ay(e),rounded:uy(e),hasMinEdge:fy(e),hasMaxEdge:dy(e),minBound:zy(t),maxBound:Sy(t),screenRange:Cy(t)};return Ub(o)},Wy=function(a){return function(t,e){return(n=a,o=t,r=e,i=(0<n?jb:Pb)(my(r).y(),Xb(r),Jb(r),ry(r)),jy(o,Ny(i)),j.some(i)).map(function(){return!0});var n,o,r,i}},Gy=function(t,e,n,o,r,i){var a,u,c,s,l,f,d,m,h,g=(u=i,c=n,s=o,l=r,f=Cy(a=e),d=s.bind(function(t){return j.some(Vy(t,a))}).getOr(0),m=l.bind(function(t){return j.some(Vy(t,a))}).getOr(f),h={min:Xb(u),max:Jb(u),range:ey(u),value:c,hasMinEdge:fy(u),hasMaxEdge:dy(u),minBound:zy(a),minOffset:0,maxBound:Sy(a),maxOffset:f,centerMinEdge:d,centerMaxEdge:m},Wb(h));return zy(e)-zy(t)+g},Xy=j.none,Yy=j.none,qy=Wy(-1),Ky=Wy(1),Jy={"top-left":j.none(),top:j.some(function(t,e){py(t,gy(qb(e)))}),"top-right":j.none(),right:j.none(),"bottom-right":j.none(),bottom:j.some(function(t,e){py(t,gy(Qb(e)))}),"bottom-left":j.none(),left:j.none()},$y=Object.freeze({setValueFrom:function(t,e,n){var o=Uy(t,e,n),r=Ny(o);return jy(t,r),o},setToMin:function(t,e){var n=Xb(e);jy(t,Ny(n))},setToMax:function(t,e){var n=Jb(e);jy(t,Ny(n))},findValueOfOffset:Uy,getValueFromEvent:function(t){return Ib(t).map(function(t){return t.top()})},findPositionOfValue:Gy,setPositionFromValue:function(t,e,n,o){var r=my(n),i=Gy(t,o.getSpectrum(t),r.y(),o.getTopEdge(t),o.getBottomEdge(t),n),a=ou(e.element())/2;Ui(e.element(),"top",i-a+"px")},onLeft:Xy,onRight:Yy,onUp:qy,onDown:Ky,edgeActions:Jy}),Qy=function(t,e){br(t,Lb(),{value:e})},Zy=function(t,e){return{x:U(t),y:U(e)}},tw=function(s,l){return function(t,e){return(n=s,o=l,r=t,i=e,a=0<n?jb:Pb,u=o?my(i).x():a(my(i).x(),Gb(i),Kb(i),ry(i)),c=o?a(my(i).y(),Xb(i),Jb(i),ry(i)):my(i).y(),Qy(r,Zy(u,c)),j.some(u)).map(function(){return!0});var n,o,r,i,a,u,c}},ew=tw(-1,!1),nw=tw(1,!1),ow=tw(-1,!0),rw=tw(1,!0),iw={"top-left":j.some(function(t,e){py(t,vy(Yb(e),qb(e)))}),top:j.some(function(t,e){py(t,vy(ny(e),qb(e)))}),"top-right":j.some(function(t,e){py(t,vy($b(e),qb(e)))}),right:j.some(function(t,e){py(t,vy($b(e),oy(e)))}),"bottom-right":j.some(function(t,e){py(t,vy($b(e),Qb(e)))}),bottom:j.some(function(t,e){py(t,vy(ny(e),Qb(e)))}),"bottom-left":j.some(function(t,e){py(t,vy(Yb(e),Qb(e)))}),left:j.some(function(t,e){py(t,vy(Yb(e),oy(e)))})},aw=Object.freeze({setValueFrom:function(t,e,n){var o=Ay(t,e,n.left()),r=Uy(t,e,n.top()),i=Zy(o,r);return Qy(t,i),i},setToMin:function(t,e){var n=Gb(e),o=Xb(e);Qy(t,Zy(n,o))},setToMax:function(t,e){var n=Kb(e),o=Jb(e);Qy(t,Zy(n,o))},getValueFromEvent:function(t){return Ib(t)},setPositionFromValue:function(t,e,n,o){var r=my(n),i=_y(t,o.getSpectrum(t),r.x(),o.getLeftEdge(t),o.getRightEdge(t),n),a=Gy(t,o.getSpectrum(t),r.y(),o.getTopEdge(t),o.getBottomEdge(t),n),u=tu(e.element())/2,c=ou(e.element())/2;Ui(e.element(),"left",i-u+"px"),Ui(e.element(),"top",a-c+"px")},onLeft:ew,onRight:nw,onUp:ow,onDown:rw,edgeActions:iw}),uw=be.detect().deviceType.isTouch(),cw=[ar("stepSize",1),ar("onChange",P),ar("onChoose",P),ar("onInit",P),ar("onDragStart",P),ar("onDragEnd",P),ar("snapToGrid",!1),ar("rounded",!0),nr("snapStart"),Jo("model",No("mode",{x:[ar("minX",0),ar("maxX",100),mr("value",function(t){return Ot(t.mode.minX)}),Ko("getInitialValue"),Ma("manager",Py)],y:[ar("minY",0),ar("maxY",100),mr("value",function(t){return Ot(t.mode.minY)}),Ko("getInitialValue"),Ma("manager",$y)],xy:[ar("minX",0),ar("maxX",100),ar("minY",0),ar("maxY",100),mr("value",function(t){return Ot({x:U(t.mode.minX),y:U(t.mode.minY)})}),Ko("getInitialValue"),Ma("manager",aw)]})),Es("sliderBehaviours",[Nd,um])].concat(uw?[]:[mr("mouseIsDown",function(){return Ot(!1)})]),sw=be.detect().deviceType.isTouch(),lw=Rl({name:"Slider",configFields:cw,partFields:Fb,factory:function(i,t,e,n){var a=function(t){return xl(t,i,"thumb")},u=function(t){return xl(t,i,"spectrum")},o=function(t){return wl(t,i,"left-edge")},r=function(t){return wl(t,i,"right-edge")},c=function(t){return wl(t,i,"top-edge")},s=function(t){return wl(t,i,"bottom-edge")},l=i.model,f=l.manager,d=function(t,e){f.setPositionFromValue(t,e,i,{getLeftEdge:o,getRightEdge:r,getTopEdge:c,getBottomEdge:s,getSpectrum:u})},m=function(t,e){l.value.set(e);var n=a(t);return d(t,n),i.onChange(t,n,e),j.some(!0)},h=[Lr(Ht(),function(t,e){i.onDragStart(t,a(t))}),Lr(Et(),function(t,e){i.onDragEnd(t,a(t))})],g=[Lr(Tt(),function(t,e){e.stop(),i.onDragStart(t,a(t)),i.mouseIsDown.set(!0)}),Lr(_t(),function(t,e){i.onDragEnd(t,a(t))})],v=sw?h:g;return{uid:i.uid,dom:i.dom,components:t,behaviours:As(i.sliderBehaviours,I([sw?[]:[Nd.config({mode:"special",focusIn:function(t){return wl(t,i,"spectrum").map(Nd.focusIn).map(U(!0))}})],[um.config({store:{mode:"manual",getValue:function(t){return l.value.get()}}}),Wa.config({channels:{"mouse.released":{onReceive:function(n,t){var e=i.mouseIsDown.get();i.mouseIsDown.set(!1),e&&wl(n,i,"thumb").each(function(t){var e=l.value.get();i.onChoose(n,t,e)})}}}})]])),events:Dr([Lr(Lb(),function(t,e){m(t,e.event().value())}),Xr(function(t,e){var n=l.getInitialValue();l.value.set(n);var o=a(t);d(t,o);var r=u(t);i.onInit(t,o,r,l.value.get())})].concat(v)),apis:{resetToMin:function(t){f.setToMin(t,i)},resetToMax:function(t){f.setToMax(t,i)},changeValue:m,refresh:d},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(t,e){t.resetToMin(e)},resetToMax:function(t,e){t.resetToMax(e)},refresh:function(t,e){t.refresh(e)}}}),fw=function(t){return{value:U(t)}},dw=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,mw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,hw=function(t){return dw.test(t)||mw.test(t)},gw=function(t){var e,n=(e=t.value().replace(dw,function(t,e,n,o){return e+e+n+n+o+o}),{value:U(e)});return mw.exec(n.value())},vw=function(t){var e=t.toString(16);return 1==e.length?"0"+e:e},pw=function(t){var e=vw(t.red())+vw(t.green())+vw(t.blue());return fw(e)},bw=Math.min,yw=Math.max,ww=Math.round,xw=function(t,e,n,o){return{red:U(t),green:U(e),blue:U(n),alpha:U(o)}},kw=function(t){var e=parseInt(t,10);return e.toString()===t&&0<=e&&e<=255},zw=function(t){var e,n,o,r,i,a,u,c,s,l;if(i=(t.hue()||0)%360,a=t.saturation()/100,u=t.value()/100,a=yw(0,bw(a,1)),u=yw(0,bw(u,1)),0===a)return c=s=l=ww(255*u),xw(c,s,l,1);switch(e=i/60,o=(n=u*a)*(1-Math.abs(e%2-1)),r=u-n,Math.floor(e)){case 0:c=n,s=o,l=0;break;case 1:c=o,s=n,l=0;break;case 2:c=0,s=n,l=o;break;case 3:c=0,s=o,l=n;break;case 4:c=o,s=0,l=n;break;case 5:c=n,s=0,l=o;break;default:c=s=l=0}return c=ww(255*(c+r)),s=ww(255*(s+r)),l=ww(255*(l+r)),xw(c,s,l,1)},Sw=function(t){var e=gw(t),n=parseInt(e[1],16),o=parseInt(e[2],16),r=parseInt(e[3],16);return xw(n,o,r,1)},Ow=function(t){return"rgba("+t.red()+","+t.green()+","+t.blue()+","+t.alpha()+")"},Cw=U(xw(255,0,0,1)),Mw=U(Wn("rgb-hex-update")),Hw=U(Wn("slider-update")),Vw=U(Wn("palette-update")),Ew=function(t,o){var r=lw.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[o("sv-palette-spectrum")]}}),i=lw.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[o("sv-palette-thumb")],innerHtml:"<div class="+o("sv-palette-inner-thumb")+' role="presentation"></div>'}}),a=function(t,e){var n=t.width,o=t.height,r=t.getContext("2d");r.fillStyle=e,r.fillRect(0,0,n,o);var i=r.createLinearGradient(0,0,n,0);i.addColorStop(0,"rgba(255,255,255,1)"),i.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=i,r.fillRect(0,0,n,o);var a=r.createLinearGradient(0,0,0,o);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,o)};return Fl({factory:function(t){var e=U({x:U(0),y:U(0)}),n=Fa([jl.config({find:j.some}),dm.config({})]);return lw.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[o("sv-palette")]},model:{mode:"xy",getInitialValue:e},rounded:!1,components:[r,i],onChange:function(t,e,n){br(t,Vw(),{value:n})},onInit:function(t,e,n,o){a(n.element().dom(),Ow(Cw()))},sliderBehaviours:n})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(t,e,n){var o,r;o=n,r=e.components()[0].element().dom(),a(r,Ow(o))}},extraApis:{}})},Tw=function(t,e){var n=lw.parts().spectrum({dom:{tag:"div",classes:[e("hue-slider-spectrum")],attributes:{role:"presentation"}}}),o=lw.parts().thumb({dom:{tag:"div",classes:[e("hue-slider-thumb")],attributes:{role:"presentation"}}});return lw.sketch({dom:{tag:"div",classes:[e("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:U({y:U(0)})},components:[n,o],sliderBehaviours:Fa([dm.config({})]),onChange:function(t,e,n){br(t,Hw(),{value:n})}})},Aw=[Es("formBehaviours",[um])],Bw=function(t){return"<alloy.field."+t+">"},_w=function(o,t,e){return{uid:o.uid,dom:o.dom,components:t,behaviours:As(o.formBehaviours,[um.config({store:{mode:"manual",getValue:function(t){var e=zl(t,o);return et(e,function(t,e){return t().bind(function(t){var e,n=jl.getCurrent(t);return e="missing current",n.fold(function(){return ft.error(e)},ft.value)}).map(um.getValue)})},setValue:function(n,t){tt(t,function(e,t){wl(n,o,t).each(function(t){jl.getCurrent(t).each(function(t){um.setValue(t,e)})})})}}})]),apis:{getField:function(t,e){return wl(t,o,e).bind(jl.getCurrent)}}}},Dw={getField:di(function(t,e,n){return t.getField(e,n)}),sketch:function(t){var n,e=(n=[],{field:function(t,e){return n.push(t),gl("form",Bw(t),e)},record:function(){return n}}),o=t(e),r=e.record(),i=E(r,function(t){return il({name:t,pname:Bw(t)})});return Tl("form",Aw,i,_w,o)}},Fw=Wn("valid-input"),Rw=Wn("invalid-input"),Lw=Wn("validating-input"),Iw="colorcustom.rgb.",Pw=function(m,h,g,v){var p=function(t,e,n,o,r){var i,a,u=m(Iw+"range"),c=[Uv.parts().label({dom:{tag:"label",innerHtml:n,attributes:{"aria-label":o}}}),Uv.parts().field({data:r,factory:_p,inputAttributes:{type:"text"},inputClasses:[h("textfield")],inputBehaviours:Fa([(i=e,a=t,qp.config({invalidClass:h("invalid"),notify:{onValidate:function(t){br(t,Lw,{type:i})},onValid:function(t){br(t,Fw,{type:i,value:um.getValue(t)})},onInvalid:function(t){br(t,Rw,{type:i,value:um.getValue(t)})}},validator:{validate:function(t){var e=um.getValue(t),n=a(e)?ft.value(!0):ft.error(m("aria.input.invalid"));return ep.pure(n)},validateOnLoad:!1}})),$p.config({})]),onSetValue:function(t){qp.isInvalid(t)&&qp.run(t).get(P)}})],s="hex"!==e?[Uv.parts()["aria-descriptor"]({text:u})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(s)}},b=function(t,e){var n=e.red(),o=e.green(),r=e.blue();um.setValue(t,{red:n,green:o,blue:r})},y=nh({dom:{tag:"div",classes:[h("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),w=function(t,e){y.getOpt(t).each(function(t){Ui(t.element(),"background-color","#"+e.value())})};return Fl({factory:function(t){var n={red:U(Ot(j.some(255))),green:U(Ot(j.some(255))),blue:U(Ot(j.some(255))),hex:U(Ot(j.some("ffffff")))},o=function(t){return n[t]().get()},i=function(t,e){n[t]().set(e)},r=function(t){var e=t.red(),n=t.green(),o=t.blue();i("red",j.some(e)),i("green",j.some(n)),i("blue",j.some(o))},e=function(t,e){var n=e.event();"hex"!==n.type()?i(n.type(),j.none()):v(t)},a=function(r,t,e){var n=parseInt(e,10);i(t,j.some(n)),o("red").bind(function(n){return o("green").bind(function(e){return o("blue").map(function(t){return xw(n,e,t,1)})})}).each(function(t){var e,n,o=(e=r,n=pw(t),Dw.getField(e,"hex").each(function(t){dm.isFocused(t)||um.setValue(e,{hex:n.value()})}),n);w(r,o)})},u=function(t,e){var n=e.event();"hex"===n.type()?function(t,e){g(t);var n=fw(e);i("hex",j.some(e));var o=Sw(n);b(t,o),r(o),br(t,Mw(),{hex:n}),w(t,n)}(t,n.value()):a(t,n.type(),n.value())},c=function(t){return{label:m(Iw+t+".label"),description:m(Iw+t+".description")}},s=c("red"),l=c("green"),f=c("blue"),d=c("hex");return gt(Dw.sketch(function(t){return{dom:{tag:"form",classes:[h("rgb-form")],attributes:{"aria-label":m("aria.color.picker")}},components:[t.field("red",Uv.sketch(p(kw,"red",s.label,s.description,255))),t.field("green",Uv.sketch(p(kw,"green",l.label,l.description,255))),t.field("blue",Uv.sketch(p(kw,"blue",f.label,f.description,255))),t.field("hex",Uv.sketch(p(hw,"hex",d.label,d.description,"ffffff"))),y.asSpec()],formBehaviours:Fa([qp.config({invalidClass:h("form-invalid")}),Tm("rgb-form-events",[Lr(Fw,u),Lr(Rw,e),Lr(Lw,e)])])}}),{apis:{updateHex:function(t,e){var n,o;um.setValue(t,{hex:e.value()}),n=t,o=Sw(e),b(n,o),r(o),w(t,e)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(t,e,n){t.updateHex(e,n)}},extraApis:{}})},jw=function(t,e,n){return{hue:U(t),saturation:U(e),value:U(n)}},Nw=function(c,s){return Fl({name:"ColourPicker",configFields:[ar("onValidHex",P),ar("onInvalidHex",P),rr("formChangeEvent")],factory:function(t){var u,p,n=Pw(c,s,t.onValidHex,t.onInvalidHex),o=Ew(c,s),b={paletteRgba:U(Ot(Cw()))},e=nh(o.sketch({})),r=nh(n.sketch({})),i=function(t,n){e.getOpt(t).each(function(t){var e=Sw(n);b.paletteRgba().set(e),o.setRgba(t,e)})},a=function(t,e){r.getOpt(t).each(function(t){n.updateHex(t,e)})},y=function(e,n,t){T(t,function(t){t(e,n)})};return{uid:t.uid,dom:t.dom,components:[e.asSpec(),Tw(c,s),r.asSpec()],behaviours:Fa([Tm("colour-picker-events",[Lr(Vw(),(p=[a],function(t,e){var n,o,r,i,a,u,c,s,l,f=e.event().value(),d=b.paletteRgba().get(),m=(c=a=0,o=(n=d).red()/255,r=n.green()/255,i=n.blue()/255,(s=Math.min(o,Math.min(r,i)))===(l=Math.max(o,Math.max(r,i)))?jw(0,0,100*(c=s)):(a=60*((a=o===s?3:i===s?1:5)-(o===s?r-i:i===s?o-r:i-o)/(l-s)),u=(l-s)/l,c=l,jw(Math.round(a),Math.round(100*u),Math.round(100*c)))),h=jw(m.hue(),f.x(),100-f.y()),g=zw(h),v=pw(g);y(t,v,p)})),Lr(Hw(),(u=[i,a],function(t,e){var n,o,r,i=e.event().value(),a=(n=i.y(),o=jw(360*(100-n/100),100,100),r=zw(o),pw(r));y(t,a,u)}))]),jl.config({find:function(t){return r.getOpt(t)}}),Nd.config({mode:"acyclic"})])}}})},Uw=function(){return jl.config({find:j.some})},Ww=function(t){return jl.config({find:t.getOpt})},Gw=function(t){return jl.config({find:function(e){return cn(e.element(),t).bind(function(t){return e.getSystem().getByDom(t).toOption()})}})},Xw={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color","aria.input.invalid":"Invalid input"},Yw=function(t){return Xw[t]},qw=Co([ar("preprocess",d),ar("postprocess",d)]),Kw=function(t,e,n){return um.config(gt({store:{mode:"manual",getValue:e,setValue:n}},t.map(function(t){return{store:{initialValue:t}}}).getOr({})))},Jw=function(t,e,n){return Kw(t,function(t){return e(t.element())},function(t,e){return n(t.element(),e)})},$w=function(r,t){var i=Po("RepresentingConfigs.memento processors",qw,t);return um.config({store:{mode:"manual",getValue:function(t){var e=r.get(t),n=um.getValue(e);return i.postprocess(n)},setValue:function(t,e){var n=i.preprocess(e),o=r.get(t);um.setValue(o,n)}}})},Qw=Kw,Zw=function(t){return Jw(t,vn,pn)},tx=function(t){return um.config({store:{mode:"memory",initialValue:t}})},ex=function(r,e){var n=function(t,e){e.stop()},o=function(t){return function(e,n){T(t,function(t){t(e,n)})}},i=function(t,e){if(!$h.isDisabled(t)){var n=e.event().raw();u(t,n.dataTransfer.files)}},a=function(t,e){var n=e.event().raw().target.files;u(t,n)},u=function(t,e){var n,o;um.setValue(t,(n=e,o=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i"),A($(n),function(t){return o.test(t.name)}))),br(t,Av,{name:r.name})},c=nh({dom:{tag:"input",attributes:{type:"file",multiple:"multiple"},styles:{display:"none"}},behaviours:Fa([Tm("input-file-events",[Ur(Nt())])])}),t=r.label.map(function(t){return Ep(t,e)}),s=Uv.parts().field({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Fa([tx([]),Uw(),$h.config({}),Sm.config({toggleClass:"dragenter",toggleOnExecute:!1}),Tm("dropzone-events",[Lr("dragenter",o([n,Sm.toggle])),Lr("dragleave",o([n,Sm.toggle])),Lr("dragover",n),Lr("drop",o([n,i])),Lr(jt(),a)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:e.translate("Drop an image here")}},th.sketch({dom:{tag:"button",innerHtml:e.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[c.asSpec()],action:function(t){c.get(t).element().dom().click()},buttonBehaviours:Fa([$p.config({})])})]}]}}}}),l=r.flex?["tox-form__group--stretched"]:[];return Cp(t,s,l)},nx=Wn("alloy-fake-before-tabstop"),ox=Wn("alloy-fake-after-tabstop"),rx=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Fa([$p.config({})])}},ix=function(t,e){br(t,Lt(),{raw:{which:9,shiftKey:e}})},ax=function(t){return iv(t,["."+nx,"."+ox].join(","),U(!1))},ux=function(t,e){var n=e.element();Ri(n,nx)?ix(t,!0):Ri(n,ox)&&ix(t,!1)},cx=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[rx([nx]),t,rx([ox])],behaviours:Fa([Gw(1)])}},sx=!be.detect().browser.isIE(),lx=function(t,e){var o,r,n=sx&&t.sandboxed,i=n?{sandbox:"allow-scripts"}:{},a=(o=n,r=Ot(""),{getValue:function(t){return r.get()},setValue:function(t,e){if(o)Sn(t.element(),"src","data:text/html;charset=utf-8,"+encodeURIComponent(e));else{Sn(t.element(),"src","javascript:''");var n=t.element().dom().contentWindow.document;n.open(),n.write(e),n.close()}r.set(e)}}),u=t.label.map(function(t){return Ep(t,e)}),c=Uv.parts().field({factory:{sketch:function(t){return cx({uid:t.uid,dom:{tag:"iframe",attributes:gt(i)},behaviours:Fa([$p.config({}),dm.config({}),Qw(j.none(),a.getValue,a.setValue)])})}}}),s=t.flex?["tox-form__group--stretched"]:[];return Cp(u,c,s)};function fx(t,e){return mx(document.createElement("canvas"),t,e)}function dx(t){return t.getContext("2d")}function mx(t,e,n){return t.width=e,t.height=n,t}var hx={create:fx,clone:function OV(t){var e;return dx(e=fx(t.width,t.height)).drawImage(t,0,0),e},resize:mx,get2dContext:dx,get3dContext:function CV(t){var e=null;try{e=t.getContext("webgl")||t.getContext("experimental-webgl")}catch(n){}return e||(e=null),e}},gx={getWidth:function MV(t){return t.naturalWidth||t.width},getHeight:function HV(t){return t.naturalHeight||t.height}},vx=window.Promise?window.Promise:function(){var t=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(t,o(r,this),o(a,this))},e=t.immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){setTimeout(t,1)};function o(t,e){return function(){t.apply(e,arguments)}}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function i(o){var r=this;null!==this._state?e(function(){var t=r._state?o.onFulfilled:o.onRejected;if(null!==t){var e;try{e=t(r._value)}catch(n){return void o.reject(n)}o.resolve(e)}else(r._state?o.resolve:o.reject)(r._value)}):this._deferreds.push(o)}function r(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if("function"==typeof e)return void s(o(e,t),o(r,this),o(a,this))}this._state=!0,this._value=t,u.call(this)}catch(n){a.call(this,n)}}function a(t){this._state=!1,this._value=t,u.call(this)}function u(){for(var t=0,e=this._deferreds.length;t<e;t++)i.call(this,this._deferreds[t]);this._deferreds=null}function c(t,e,n,o){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=o}function s(t,e,n){var o=!1;try{t(function(t){o||(o=!0,e(t))},function(t){o||(o=!0,n(t))})}catch(r){if(o)return;o=!0,n(r)}}return t.prototype["catch"]=function(t){return this.then(null,t)},t.prototype.then=function(n,o){var r=this;return new t(function(t,e){i.call(r,new c(n,o,t,e))})},t.all=function(){var c=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new t(function(r,i){if(0===c.length)return r([]);var a=c.length;function u(e,t){try{if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if("function"==typeof n)return void n.call(t,function(t){u(e,t)},i)}c[e]=t,0==--a&&r(c)}catch(o){i(o)}}for(var t=0;t<c.length;t++)u(t,c[t])})},t.resolve=function(e){return e&&"object"==typeof e&&e.constructor===t?e:new t(function(t){t(e)})},t.reject=function(n){return new t(function(t,e){e(n)})},t.race=function(r){return new t(function(t,e){for(var n=0,o=r.length;n<o;n++)r[n].then(t,e)})},t}();function px(){return new(Ye.getOrDie("FileReader"))}var bx={atob:function(t){return Ye.getOrDie("atob")(t)},requestAnimationFrame:function(t){Ye.getOrDie("requestAnimationFrame")(t)}};function yx(u){return new vx(function(t,e){var n=URL.createObjectURL(u),o=new Image,r=function(){o.removeEventListener("load",i),o.removeEventListener("error",a)};function i(){r(),t(o)}function a(){r(),e("Unable to load data of type "+u.type+": "+n)}o.addEventListener("load",i),o.addEventListener("error",a),o.src=n,o.complete&&i()})}function wx(o){return new vx(function(t,n){var e=new XMLHttpRequest;e.open("GET",o,!0),e.responseType="blob",e.onload=function(){200==this.status&&t(this.response)},e.onerror=function(){var t,e=this;n(0===this.status?((t=new Error("No access to download image")).code=18,t.name="SecurityError",t):new Error("Error "+e.status+" downloading image"))},e.send()})}function xx(t){var e=t.split(","),n=/data:([^;]+)/.exec(e[0]);if(!n)return j.none();for(var o,r=n[1],i=e[1],a=bx.atob(i),u=a.length,c=Math.ceil(u/1024),s=new Array(c),l=0;l<c;++l){for(var f=1024*l,d=Math.min(f+1024,u),m=new Array(d-f),h=f,g=0;h<d;++g,++h)m[g]=a[h].charCodeAt(0);s[l]=(o=m,new(Ye.getOrDie("Uint8Array"))(o))}return j.some(function v(t,e){return new(Ye.getOrDie("Blob"))(t,e)}(s,{type:r}))}function kx(n){return new vx(function(t,e){xx(n).fold(function(){e("uri is not base64: "+n)},t)})}function zx(n){return new vx(function(t){var e=px();e.onloadend=function(){t(e.result)},e.readAsDataURL(n)})}var Sx={blobToImage:yx,imageToBlob:function VV(t){var e=t.src;return 0===e.indexOf("data:")?kx(e):wx(e)},blobToArrayBuffer:function EV(n){return new vx(function(t){var e=px();e.onloadend=function(){t(e.result)},e.readAsArrayBuffer(n)})},blobToDataUri:zx,blobToBase64:function TV(t){return zx(t).then(function(t){return t.split(",")[1]})},dataUriToBlobSync:xx,canvasToBlob:function AV(t,n,o){return n=n||"image/png",HTMLCanvasElement.prototype.toBlob?new vx(function(e){t.toBlob(function(t){e(t)},n,o)}):kx(t.toDataURL(n,o))},canvasToDataURL:function BV(t,e,n){return e=e||"image/png",t.then(function(t){return t.toDataURL(e,n)})},blobToCanvas:function _V(t){return yx(t).then(function(t){var e;return function n(t){URL.revokeObjectURL(t.src)}(t),e=hx.create(gx.getWidth(t),gx.getHeight(t)),hx.get2dContext(e).drawImage(t,0,0),e})},uriToBlob:function DV(t){return 0===t.indexOf("blob:")?wx(t):0===t.indexOf("data:")?kx(t):null}};function Ox(t,e,n){var o=e.type;function r(e,n){return t.then(function(t){return Sx.canvasToDataURL(t,e,n)})}return{getType:U(o),toBlob:function i(){return vx.resolve(e)},toDataURL:function a(){return n},toBase64:function u(){return n.split(",")[1]},toAdjustedBlob:function c(e,n){return t.then(function(t){return Sx.canvasToBlob(t,e,n)})},toAdjustedDataURL:r,toAdjustedBase64:function s(t,e){return r(t,e).then(function(t){return t.split(",")[1]})},toCanvas:function l(){return t.then(hx.clone)}}}function Cx(e){return Sx.blobToDataUri(e).then(function(t){return Ox(Sx.blobToCanvas(e),e,t)})}var Mx={fromBlob:Cx,fromCanvas:function FV(e,t){return Sx.canvasToBlob(e,t).then(function(t){return Ox(vx.resolve(e),t,e.toDataURL())})},fromImage:function RV(t){return Sx.imageToBlob(t).then(function(t){return Cx(t)})},fromBlobAndUrlSync:function(t,e){return Ox(Sx.blobToCanvas(t),t,e)}},Hx=function(t){return Mx.fromBlob(t)};function Vx(t,e,n){return n<(t=parseFloat(t))?t=n:t<e&&(t=e),t}var Ex=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function Tx(t,e){var n,o,r,i,a=[],u=new Array(10);for(n=0;n<5;n++){for(o=0;o<5;o++)a[o]=e[o+5*n];for(o=0;o<5;o++){for(r=i=0;r<5;r++)i+=t[o+5*r]*a[r];u[o+5*n]=i}}return u}function Ax(t,n){return n=Vx(n,0,1),t.map(function(t,e){return e%6==0?t=1-(1-t)*n:t*=n,Vx(t,0,1)})}var Bx={identity:function LV(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},adjust:Ax,multiply:Tx,adjustContrast:function IV(t,e){var n;return e=Vx(e,-1,1),Tx(t,[(n=(e*=100)<0?127+e/100*127:127*(n=0==(n=e%1)?Ex[e]:Ex[Math.floor(e)]*(1-n)+Ex[Math.floor(e)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])},adjustBrightness:function PV(t,e){return Tx(t,[1,0,0,0,e=Vx(255*e,-255,255),0,1,0,0,e,0,0,1,0,e,0,0,0,1,0,0,0,0,0,1])},adjustSaturation:function jV(t,e){var n;return Tx(t,[.3086*(1-(n=1+(0<(e=Vx(e,-1,1))?3*e:e)))+n,.6094*(1-n),.082*(1-n),0,0,.3086*(1-n),.6094*(1-n)+n,.082*(1-n),0,0,.3086*(1-n),.6094*(1-n),.082*(1-n)+n,0,0,0,0,0,1,0,0,0,0,0,1])},adjustHue:function NV(t,e){var n,o;return e=Vx(e,-180,180)/180*Math.PI,Tx(t,[.213+.787*(n=Math.cos(e))+-.213*(o=Math.sin(e)),.715+-.715*n+-.715*o,.072+-.072*n+.928*o,0,0,.213+-.213*n+.143*o,.715+n*(1-.715)+.14*o,.072+-.072*n+-.283*o,0,0,.213+-.213*n+-.787*o,.715+-.715*n+.715*o,.072+.928*n+.072*o,0,0,0,0,0,1,0,0,0,0,0,1])},adjustColors:function UV(t,e,n,o){return Tx(t,[e=Vx(e,0,2),0,0,0,0,0,n=Vx(n,0,2),0,0,0,0,0,o=Vx(o,0,2),0,0,0,0,0,1,0,0,0,0,0,1])},adjustSepia:function WV(t,e){return Tx(t,Ax([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],e=Vx(e,0,1)))},adjustGrayscale:function GV(t,e){return Tx(t,Ax([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],e=Vx(e,0,1)))}};function _x(e,n){return e.toCanvas().then(function(t){return function i(t,e,n){var o,r=hx.get2dContext(t);return o=function H(t,e){var n,o,r,i,a,u=t.data,c=e[0],s=e[1],l=e[2],f=e[3],d=e[4],m=e[5],h=e[6],g=e[7],v=e[8],p=e[9],b=e[10],y=e[11],w=e[12],x=e[13],k=e[14],z=e[15],S=e[16],O=e[17],C=e[18],M=e[19];for(a=0;a<u.length;a+=4)n=u[a],o=u[a+1],r=u[a+2],i=u[a+3],u[a]=n*c+o*s+r*l+i*f+d,u[a+1]=n*m+o*h+r*g+i*v+p,u[a+2]=n*b+o*y+r*w+i*x+k,u[a+3]=n*z+o*S+r*O+i*C+M;return t}(r.getImageData(0,0,t.width,t.height),n),r.putImageData(o,0,0),Mx.fromCanvas(t,e)}(t,e.getType(),n)})}function Dx(e,n){return e.toCanvas().then(function(t){return function a(t,e,n){var o,r,i=hx.get2dContext(t);return o=i.getImageData(0,0,t.width,t.height),r=i.getImageData(0,0,t.width,t.height),r=function x(t,e,n){var o,r,i,a,u,c,s,l,f,d,m,h,g,v,p,b,y;function w(t,e,n){return n<t?t=n:t<e&&(t=e),t}for(i=Math.round(Math.sqrt(n.length)),a=Math.floor(i/2),o=t.data,r=e.data,b=t.width,y=t.height,c=0;c<y;c++)for(u=0;u<b;u++){for(s=l=f=0,m=0;m<i;m++)for(d=0;d<i;d++)h=w(u+d-a,0,b-1),g=w(c+m-a,0,y-1),v=4*(g*b+h),p=n[m*i+d],s+=o[v]*p,l+=o[v+1]*p,f+=o[v+2]*p;r[v=4*(c*b+u)]=w(s,0,255),r[v+1]=w(l,0,255),r[v+2]=w(f,0,255)}return e}(o,r,n),i.putImageData(r,0,0),Mx.fromCanvas(t,e)}(t,e.getType(),n)})}function Fx(c){return function(e,n){return e.toCanvas().then(function(t){return function(t,e,n){var o,r,i=hx.get2dContext(t),a=new Array(256);for(r=0;r<a.length;r++)a[r]=c(r,n);return o=function u(t,e){var n,o=t.data;for(n=0;n<o.length;n+=4)o[n]=e[o[n]],o[n+1]=e[o[n+1]],o[n+2]=e[o[n+2]];return t}(i.getImageData(0,0,t.width,t.height),a),i.putImageData(o,0,0),Mx.fromCanvas(t,e)}(t,e.getType(),n)})}}function Rx(n){return function(t,e){return _x(t,n(Bx.identity(),e))}}function Lx(e){return function(t){return Dx(t,e)}}var Ix={invert:function XV(e){return function(t){return _x(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0]),brightness:Rx(Bx.adjustBrightness),hue:Rx(Bx.adjustHue),saturate:Rx(Bx.adjustSaturation),contrast:Rx(Bx.adjustContrast),grayscale:Rx(Bx.adjustGrayscale),sepia:Rx(Bx.adjustSepia),colorize:function(t,e,n,o){return _x(t,Bx.adjustColors(Bx.identity(),e,n,o))},sharpen:Lx([0,-1,0,-1,5,-1,0,-1,0]),emboss:Lx([-2,-1,0,-1,1,1,0,1,2]),gamma:Fx(function(t,e){return 255*Math.pow(t/255,1-e)}),exposure:Fx(function(t,e){return 255*(1-Math.exp(-t/255*e))}),colorFilter:_x,convoluteFilter:Dx},Px={scale:function YV(t,e,n){var o=gx.getWidth(t),r=gx.getHeight(t),i=e/o,a=n/r,u=!1;(i<.5||2<i)&&(i=i<.5?.5:2,u=!0),(a<.5||2<a)&&(a=a<.5?.5:2,u=!0);var c=function l(u,c,s){return new vx(function(t){var e=gx.getWidth(u),n=gx.getHeight(u),o=Math.floor(e*c),r=Math.floor(n*s),i=hx.create(o,r),a=hx.get2dContext(i);a.drawImage(u,0,0,e,n,0,0,o,r),t(i)})}(t,i,a);return u?c.then(function(t){return YV(t,e,n)}):c}},jx={rotate:function qV(e,n){return e.toCanvas().then(function(t){return function u(t,e,n){var o=hx.create(t.width,t.height),r=hx.get2dContext(o),i=0,a=0;return 90!=(n=n<0?360+n:n)&&270!=n||hx.resize(o,o.height,o.width),90!=n&&180!=n||(i=o.width),270!=n&&180!=n||(a=o.height),r.translate(i,a),r.rotate(n*Math.PI/180),r.drawImage(t,0,0),Mx.fromCanvas(o,e)}(t,e.getType(),n)})},flip:function KV(e,n){return e.toCanvas().then(function(t){return function i(t,e,n){var o=hx.create(t.width,t.height),r=hx.get2dContext(o);return"v"==n?(r.scale(1,-1),r.drawImage(t,0,-o.height)):(r.scale(-1,1),r.drawImage(t,-o.width,0)),Mx.fromCanvas(o,e)}(t,e.getType(),n)})},crop:function JV(e,n,o,r,i){return e.toCanvas().then(function(t){return function u(t,e,n,o,r,i){var a=hx.create(r,i);return hx.get2dContext(a).drawImage(t,-n,-o),Mx.fromCanvas(a,e)}(t,e.getType(),n,o,r,i)})},resize:function $V(e,n,o){return e.toCanvas().then(function(t){return Px.scale(t,n,o).then(function(t){return Mx.fromCanvas(t,e.getType())})})}},Nx=(function(){function t(t){this.littleEndian=!1,this._dv=new DataView(t)}t.prototype.readByteAt=function(t){return this._dv.getUint8(t)},t.prototype.read=function(t,e){if(t+e>this.length())return null;for(var n=this.littleEndian?0:-8*(e-1),o=0,r=0;o<e;o++)r|=this.readByteAt(t+o)<<Math.abs(n+8*o);return r},t.prototype.BYTE=function(t){return this.read(t,1)},t.prototype.SHORT=function(t){return this.read(t,2)},t.prototype.LONG=function(t){return this.read(t,4)},t.prototype.SLONG=function(t){var e=this.read(t,4);return 2147483647<e?e-4294967296:e},t.prototype.CHAR=function(t){return String.fromCharCode(this.read(t,1))},t.prototype.STRING=function(t,e){return this.asArray("CHAR",t,e).join("")},t.prototype.SEGMENT=function(t,e){var n=this._dv.buffer;switch(arguments.length){case 2:return n.slice(t,t+e);case 1:return n.slice(t);default:return n}},t.prototype.asArray=function(t,e,n){for(var o=[],r=0;r<n;r++)o[r]=this[t](e+r);return o},t.prototype.length=function(){return this._dv?this._dv.byteLength:0}}(),function(t,e){return jx.rotate(t,e)}),Ux=function(t){return Ix.invert(t)},Wx=function(t){return Ix.sharpen(t)},Gx=function(t,e){return Ix.brightness(t,e)},Xx=function(t,e){return Ix.contrast(t,e)},Yx=function(t,e,n,o){return Ix.colorize(t,e,n,o)},qx=function(t,e){return Ix.gamma(t,e)},Kx=function(t,e){return jx.flip(t,e)},Jx=function(t,e,n,o,r){return jx.crop(t,e,n,o,r)},$x=function(t,e,n){return jx.resize(t,e,n)},Qx=Nx,Zx=function(t,e){return{dom:{tag:"span",innerHtml:ah("icon-"+t,e,U(t)),classes:["tox-tbtn__icon-wrap"]}}},tk=function(t,e,n){return{dom:{tag:"span",innerHtml:n.translate(t),classes:[e+"__select-label"]},behaviours:Fa([Yd.config({})])}},ek=function(t,e,n,o,r){void 0===n&&(n=[]);var i={buttonBehaviours:Fa([Zh(t.disabled),$p.config({}),Tm("button press",[Rr("click"),Rr("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]},action:e},a=gt(i,{dom:o}),u=gt(a,{components:r});return th.sketch(u)},nk=function(t,e,n,o){void 0===o&&(o=[]);var r={tag:"button",classes:["tox-tbtn"],attributes:t.tooltip.map(function(t){return{"aria-label":n.translate(t),title:n.translate(t)}}).getOr({})},i=t.icon.map(function(t){return Zx(t,n.icons)}),a=rg([i]);return ek(t,e,o,r,a)},ok=function(t,e,n,o){void 0===o&&(o=[]);var r=n.translate(t.text),i={tag:"button",classes:t.primary?["tox-button"]:["tox-button","tox-button--secondary"],innerHtml:r,attributes:{title:r}};return ek(t,e,o,i,[])},rk=function(e,n){return function(t){"custom"===n?br(t,Dv,{name:e,value:{}}):"submit"===n?pr(t,Fv):"cancel"===n?pr(t,_v):console.error("Unknown button type: ",n)}},ik=function(t,e,n){var o=rk(t.name,e);return ok(t,o,n,[])},ak=U([ar("field1Name","field1"),ar("field2Name","field2"),Oa("onLockedChange"),xa(["lockClass"]),ar("locked",!1),Bs("coupledFieldBehaviours",[jl,um])]),uk=function(t,i){return il({factory:Uv,name:t,overrides:function(r){return{fieldBehaviours:Fa([Tm("coupled-input-behaviour",[Lr(Pt(),function(n){var t,e,o;(t=n,e=r,o=i,wl(t,e,o).bind(jl.getCurrent)).each(function(e){wl(n,r,"lock").each(function(t){Sm.isOn(t)&&r.onLockedChange(n,e,t)})})})])])}}})},ck=U([uk("field1","field2"),uk("field2","field1"),il({factory:th,schema:[Ko("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Fa([Sm.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),sk=Rl({name:"FormCoupledInputs",configFields:ak(),partFields:ck(),factory:function(o,t,e,n){return{uid:o.uid,dom:o.dom,components:t,behaviours:_s(o.coupledFieldBehaviours,[jl.config({find:j.some}),um.config({store:{mode:"manual",getValue:function(t){var e,n=Ol(t,o,["field1","field2"]);return(e={})[o.field1Name]=um.getValue(n.field1()),e[o.field2Name]=um.getValue(n.field2()),e},setValue:function(t,e){var n=Ol(t,o,["field1","field2"]);St(e,o.field1Name)&&um.setValue(n.field1(),e[o.field1Name]),St(e,o.field2Name)&&um.setValue(n.field2(),e[o.field2Name])}}})]),apis:{getField1:function(t){return wl(t,o,"field1")},getField2:function(t){return wl(t,o,"field2")},getLock:function(t){return wl(t,o,"lock")}}}},apis:{getField1:function(t,e){return t.getField1(e)},getField2:function(t,e){return t.getField2(e)},getLock:function(t,e){return t.getLock(e)}}}),lk=function(t){var e=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(t);if(null===e)return ft.error(t);var n=parseFloat(e[1]),o=e[2];return ft.value({value:n,unit:o})},fk=function(t,e){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,"in":1},o=function(t){return Object.prototype.hasOwnProperty.call(n,t)};return t.unit===e?j.some(t.value):o(t.unit)&&o(e)?n[t.unit]===n[e]?j.some(t.value):j.some(t.value/n[t.unit]*n[e]):j.none()},dk=function(t){return j.none()},mk=function(t,e){return function(t,e){for(var n=[],o=0;o<t.length;o++){var r=t[o];if(!r.isSome())return j.none();n.push(r.getOrDie())}return j.some(e.apply(null,n))}([lk(t).toOption(),lk(e).toOption()],function(t,o){return fk(t,o.unit).map(function(t){return o.value/t}).map(function(t){return e=t,n=o.unit,function(t){return fk(t,n).map(function(t){return{value:t*e,unit:n}})};var e,n}).getOr(dk)}).getOr(dk)},hk=function(o,r){var u=dk,i=Wn("ratio-event"),t=function(n){var t=Uv.parts().field({factory:_p,inputClasses:["tox-textfield"],inputBehaviours:Fa([$p.config({}),Tm("size-input-events",[Lr(Ft(),function(t,e){br(t,i,{isField1:n.isField1})}),Lr(jt(),function(t,e){br(t,Av,{name:o.name})})])]),inputAttributes:{placeholder:r.translate(n.placeholderText)},selectOnFocus:!1}),e=Uv.parts()["aria-descriptor"]({text:n.label});return{dom:{tag:"div"},components:[e,t]}},e=sk.parts().field1(t({label:"Width",isField1:!0,placeholderText:"Width"})),n=sk.parts().field2(t({label:"Height",isField1:!1,placeholderText:"Height"})),a=sk.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(o.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:ih("icon-lock",r.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:ih("icon-unlock",r.icons)}}],buttonBehaviours:Fa([$p.config({})])});return sk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate("Dimensions")}},{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[e,{dom:{tag:"span",innerHtml:"\xd7"}},n,a]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(t,i,e){lk(um.getValue(t)).each(function(t){u(t).each(function(t){var e,n,o,r;um.setValue(i,(o={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,"in":4,"%":4},-1!==(r=(e=t).value.toFixed((n=e.unit)in o?o[n]:1)).indexOf(".")&&(r=r.replace(/\.?0*$/,"")),r+e.unit))})})},coupledFieldBehaviours:Fa([Tm("size-input-events2",[Lr(i,function(t,e){var n=e.event().isField1(),o=n?sk.getField1(t):sk.getField2(t),r=n?sk.getField2(t):sk.getField1(t),i=o.map(um.getValue).getOr(""),a=r.map(um.getValue).getOr("");u=mk(i,a)})])])})},gk={undo:U(Wn("undo")),redo:U(Wn("redo")),zoom:U(Wn("zoom")),back:U(Wn("back")),apply:U(Wn("apply")),swap:U(Wn("swap")),transform:U(Wn("transform")),tempTransform:U(Wn("temp-transform")),transformApply:U(Wn("transform-apply"))},vk=U("save-state"),pk=U("disable"),bk=U("enable"),yk={formActionEvent:Dv,saveState:vk,disable:pk,enable:bk},wk=function(r,c){var t=function(t,e,n,o){return ok({name:t,text:t,disabled:n,primary:o},e,c)},e=function(t,e,n,o){return nk({name:t,icon:j.some(t),tooltip:j.some(e),disabled:o},n,c)},l={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},n=j.none(),o=P,i=function(t,e,n){br(t,e,n)},f=function(t,e){i(t,gk.transform(),{transform:e})},a=function(t,e){i(t,gk.tempTransform(),{transform:e})},u=function(t){return function(){I.getOpt(t).each(function(t){Yd.set(t,[R])})}},s=function(t,e){i(t,gk.transformApply(),{transform:e,swap:u(t)})},d=function(){return t("Back",function(t){return i(t,gk.back(),{swap:u(t)})},!1,!1)},m=function(){return t("Apply",function(t){return i(t,gk.apply(),{swap:u(t)})},!0,!0)},h=Cv.sketch({dom:l,components:[d(),{dom:{tag:"div",classes:["tox-spacer"]}},t("Apply",function(t){s(t,function(t){var e=r.getRect();return Jx(t,e.x,e.y,e.w,e.h)}),r.hideCrop()},!1,!0)]}),g=nh(hk({name:"size",label:n,colspan:n,type:"sizeinput",constrain:!0},c)),v=Cv.sketch({dom:l,components:[d(),{dom:{tag:"div",classes:["tox-spacer"]}},g.asSpec(),{dom:{tag:"div",classes:["tox-spacer"]}},t("Apply",function(u){g.getOpt(u).each(function(t){var e,n,o=um.getValue(t),r=parseInt(o.width,10),i=parseInt(o.height,10),a=(e=r,n=i,function(t){return $x(t,e,n)});s(u,a)})},!1,!0)]}),p=function(e,n){return function(t){return e(t,n)}},b=p(Kx,"h"),y=p(Kx,"v"),w=p(Qx,-90),x=p(Qx,90),k=Cv.sketch({dom:l,components:[d(),{dom:{tag:"div",classes:["tox-spacer"]}},e("flip-horizontally","Flip horizontally",function(t){a(t,b)},!1),e("flip-vertically","Flip vertically",function(t){a(t,y)},!1),e("rotate-left","Rotate counterclockwise",function(t){a(t,w)},!1),e("rotate-right","Rotate clockwise",function(t){a(t,x)},!1),{dom:{tag:"div",classes:["tox-spacer"]}},m()]}),z=function(t,e,n,o,r){var i=lw.parts().label({dom:{tag:"label",innerHtml:c.translate(t)}}),a=lw.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),u=lw.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return lw.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:n,maxX:r,getInitialValue:U({x:U(o)})},components:[i,a,u],sliderBehaviours:Fa([dm.config({})]),onChoose:e})},S=function(t,e,n,o,r){return Cv.sketch({dom:l,components:[d(),(i=t,a=e,u=n,c=o,s=r,z(i,function(t,e,n){var o=p(a,n.x()/100);f(t,o)},u,c,s)),m()]});var i,a,u,c,s},O=Cv.sketch({dom:l,components:[d(),{dom:{tag:"div",classes:["tox-spacer"]}},m()]}),C=S("Brightness",Gx,-100,0,100),M=S("Contrast",Xx,-100,0,100),H=S("Gamma",qx,-100,0,100),V=function(t){return z(t,function(l,t,e){var n=E.getOpt(l),o=A.getOpt(l),r=T.getOpt(l);n.each(function(s){o.each(function(c){r.each(function(t){var e,n,o,r=um.getValue(s).x()/100,i=um.getValue(t).x()/100,a=um.getValue(c).x()/100,u=(e=r,n=i,o=a,function(t){return Yx(t,e,n,o)});f(l,u)})})})},0,100,200)},E=nh(V("R")),T=nh(V("G")),A=nh(V("B")),B=Cv.sketch({dom:l,components:[d(),E.asSpec(),T.asSpec(),A.asSpec(),m()]}),_=function(e,n,o){return function(t){i(t,gk.swap(),{transform:n,swap:function(){I.getOpt(t).each(function(t){Yd.set(t,[e]),o(t)})}})}},D=j.some(Wx),F=j.some(Ux),R=Cv.sketch({dom:l,components:[e("crop","Crop",_(h,n,function(t){r.showCrop()}),!1),e("resize","Resize",_(v,n,function(t){g.getOpt(t).each(function(t){var e=r.getMeasurements(),n=e.width,o=e.height;um.setValue(t,{width:n,height:o})})}),!1),e("orientation","Orientation",_(k,n,o),!1),e("brightness","Brightness",_(C,n,o),!1),e("sharpen","Sharpen",_(O,D,o),!1),e("contrast","Contrast",_(M,n,o),!1),e("color-levels","Color levels",_(B,n,o),!1),e("gamma","Gamma",_(H,n,o),!1),e("invert","Invert",_(O,F,o),!1)]}),L=Cv.sketch({dom:{tag:"div"},components:[R],containerBehaviours:Fa([Yd.config({})])}),I=nh(L);return{memContainer:I,getApplyButton:function(t){return I.getOpt(t).map(function(t){var e=t.components()[0];return e.components()[e.components().length-1]})}}},xk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),kk=tinymce.util.Tools.resolve("tinymce.geom.Rect"),zk=tinymce.util.Tools.resolve("tinymce.util.Observable"),Sk=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ok=tinymce.util.Tools.resolve("tinymce.util.VK");function Ck(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function Mk(t,r){var i,a,e,u,c,l,f,d=r.document||document;r=r||{};var m=d.getElementById(r.handle||t);e=function(t){var e,n,o=function s(t){var e,n,o,r,i,a,u,c=Math.max;return e=t.documentElement,n=t.body,o=c(e.scrollWidth,n.scrollWidth),r=c(e.clientWidth,n.clientWidth),i=c(e.offsetWidth,n.offsetWidth),a=c(e.scrollHeight,n.scrollHeight),u=c(e.clientHeight,n.clientHeight),{width:o<i?r:o,height:a<c(e.offsetHeight,n.offsetHeight)?u:a}}(d);Ck(t),t.preventDefault(),a=t.button,e=m,l=t.screenX,f=t.screenY,n=window.getComputedStyle?window.getComputedStyle(e,null).getPropertyValue("cursor"):e.runtimeStyle.cursor,i=xk("<div></div>").css({position:"absolute",top:0,left:0,width:o.width,height:o.height,zIndex:2147483647,opacity:1e-4,cursor:n}).appendTo(d.body),xk(d).on("mousemove touchmove",c).on("mouseup touchend",u),r.start(t)},c=function(t){if(Ck(t),t.button!==a)return u(t);t.deltaX=t.screenX-l,t.deltaY=t.screenY-f,t.preventDefault(),r.drag(t)},u=function(t){Ck(t),xk(d).off("mousemove touchmove",c).off("mouseup touchend",u),i.remove(),r.stop&&r.stop(t)},this.destroy=function(){xk(m).off()},xk(m).on("mousedown touchstart",e)}var Hk,Vk,Ek,Tk,Ak,Bk,_k,Dk=0,Fk=function(e){var l=nh({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),f=Ot(1),d=Ot(j.none()),m=Ot({x:0,y:0,w:1,h:1}),c=Ot({x:0,y:0,w:1,h:1}),s=function(t,s){h.getOpt(t).each(function(t){var n=f.get(),o=tu(t.element()),r=ou(t.element()),i=s.dom().naturalWidth*n,a=s.dom().naturalHeight*n,u=Math.max(0,o/2-i/2),c=Math.max(0,r/2-a/2),e={left:u.toString()+"px",top:c.toString()+"px",width:i.toString()+"px",height:a.toString()+"px",position:"absolute"};Wi(s,e),l.getOpt(t).each(function(t){Wi(t.element(),e)}),d.get().each(function(t){var e=m.get();t.setRect({x:e.x*n+u,y:e.y*n+c,w:e.w*n,h:e.h*n}),t.setClampRect({x:u,y:c,w:i,h:a}),t.setViewPortRect({x:0,y:0,w:o,h:r})})})},n=function(t,e){var n,u=Pe.fromTag("img");return Sn(u,"src",e),(n=u.dom(),new vh(function(t){var e=function(){n.removeEventListener("load",e),t(n)};n.complete?t(n):n.addEventListener("load",e)})).then(function(){return h.getOpt(t).map(function(t){var e=ua({element:u});Yd.replaceAt(t,1,j.some(e));var n=c.get(),o={x:0,y:0,w:u.dom().naturalWidth,h:u.dom().naturalHeight};c.set(o);var r,a,i=kk.inflate(o,-20,-20);return m.set(i),n.w===o.w&&n.h===o.h||(r=t,a=u,h.getOpt(r).each(function(t){var e=tu(t.element()),n=ou(t.element()),o=a.dom().naturalWidth,r=a.dom().naturalHeight,i=Math.min(e/o,n/r);1<=i?f.set(1):f.set(i)})),s(t,u),u})})},t=Cv.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[l.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Fa([Tm("image-panel-crop-events",[Xr(function(t){h.getOpt(t).each(function(t){var e=function k(s,n,l,o,r){var f,a,e,i,u="tox-",c="tox-crid-"+Dk++;function d(t,e){return{x:e.x-t.x,y:e.y-t.y,w:e.w,h:e.h}}function m(t,e,n,o){var r,i,a,u,c;r=e.x,i=e.y,a=e.w,u=e.h,r+=n*t.deltaX,i+=o*t.deltaY,(a+=n*t.deltaW)<20&&(a=20),(u+=o*t.deltaH)<20&&(u=20),c=s=kk.clamp({x:r,y:i,w:a,h:u},l,"move"===t.name),c=d(l,c),f.fire("updateRect",{rect:c}),v(c)}function h(e){function t(t,e){e.h<0&&(e.h=0),e.w<0&&(e.w=0),xk("#"+c+"-"+t,o).css({left:e.x,top:e.y,width:e.w,height:e.h})}Sk.each(a,function(t){xk("#"+c+"-"+t.name,o).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),t("top",{x:n.x,y:n.y,w:n.w,h:e.y-n.y}),t("right",{x:e.x+e.w,y:e.y,w:n.w-e.x-e.w+n.x,h:e.h}),t("bottom",{x:n.x,y:e.y+e.h,w:n.w,h:n.h-e.y-e.h+n.y}),t("left",{x:n.x,y:e.y,w:e.x-n.x,h:e.h}),t("move",e)}function g(t){h(s=t)}function v(t){g(function n(t,e){return{x:e.x+t.x,y:e.y+t.y,w:e.w,h:e.h}}(l,t))}return a=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],i=["top","right","bottom","left"],function p(){xk('<div id="'+c+'" class="'+u+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(o),Sk.each(i,function(t){xk("#"+c,o).append('<div id="'+c+"-"+t+'"class="'+u+'croprect-block" style="display: none" data-mce-bogus="all">')}),Sk.each(a,function(t){xk("#"+c,o).append('<div id="'+c+"-"+t.name+'" class="'+u+"croprect-handle "+u+"croprect-handle-"+t.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+t.label+'" aria-grabbed="false" title="'+t.label+'">')}),e=Sk.map(a,function t(e){var n;return new Mk(c,{document:o.ownerDocument,handle:c+"-"+e.name,start:function(){n=s},drag:function(t){m(e,n,t.deltaX,t.deltaY)}})}),h(s),xk(o).on("focusin focusout",function(t){xk(t.target).attr("aria-grabbed","focus"===t.type)}),xk(o).on("keydown",function(e){var i;function t(t,e,n,o,r){t.stopPropagation(),t.preventDefault(),m(i,n,o,r)}switch(Sk.each(a,function(t){if(e.target.id===c+"-"+t.name)return i=t,!1}),e.keyCode){case Ok.LEFT:t(e,0,s,-10,0);break;case Ok.RIGHT:t(e,0,s,10,0);break;case Ok.UP:t(e,0,s,0,-10);break;case Ok.DOWN:t(e,0,s,0,10);break;case Ok.ENTER:case Ok.SPACEBAR:e.preventDefault(),r()}})}(),f=Sk.extend({toggleVisibility:function b(t){var e;e=Sk.map(a,function(t){return"#"+c+"-"+t.name}).concat(Sk.map(i,function(t){return"#"+c+"-"+t})).join(","),t?xk(e,o).show():xk(e,o).hide()},setClampRect:function y(t){l=t,h(s)},setRect:g,getInnerRect:function t(){return d(l,s)},setInnerRect:v,setViewPortRect:function w(t){n=t,h(s)},destroy:function x(){Sk.each(e,function(t){t.destroy()}),e=[]}},zk)}({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t.element().dom(),function(){});e.toggleVisibility(!1),e.on("updateRect",function(t){var e=t.rect,n=f.get(),o={x:Math.round(e.x/n),y:Math.round(e.y/n),w:Math.round(e.w/n),h:Math.round(e.h/n)};m.set(o)}),d.set(j.some(e))})})])])}],containerBehaviours:Fa([Yd.config({}),Tm("image-panel-events",[Xr(function(t){n(t,e)})])])}),h=nh(t);return{memContainer:h,updateSrc:n,zoom:function(t,e){var n=f.get(),o=0<e?Math.min(2,n+.1):Math.max(.1,n-.1);f.set(o),h.getOpt(t).each(function(t){var e=t.components()[1].element();s(t,e)})},showCrop:function(){d.get().each(function(t){t.toggleVisibility(!0)})},hideCrop:function(){d.get().each(function(t){t.toggleVisibility(!1)})},getRect:function(){return m.get()},getMeasurements:function(){var t=c.get();return{width:t.w,height:t.h}}}},Rk=function(t,e,n,o,r){return nk({name:t,icon:j.some(e),disabled:n,tooltip:j.some(t)},o,r)},Lk=function(t,e){e?$h.enable(t):$h.disable(t)},Ik=function(){return Ye.getOrDie("URL")},Pk=function(t){return Ik().createObjectURL(t)},jk=function(t){Ik().revokeObjectURL(t)},Nk=function(t){var e=Ot(t),n=Ot(j.none()),r=function s(){var n=[],o=-1;function t(){return 0<o}function e(){return-1!==o&&o<n.length-1}return{data:n,add:function r(t){var e;return e=n.splice(++o),n.push(t),{state:t,removed:e}},undo:function i(){if(t())return n[--o]},redo:function a(){if(e())return n[++o]},canUndo:t,canRedo:e}}();r.add(t);var i=function(t){e.set(t)},a=function(t){return{blob:t,url:Pk(t)}},u=function(t){jk(t.url)},o=function(){n.get().each(u),n.set(j.none())},c=function(t){var e=a(t);i(e);var n,o=r.add(e).removed;return n=o,Sk.each(n,u),e.url};return{getBlobState:function(){return e.get()},setBlobState:i,addBlobState:c,getTempState:function(){return n.get().fold(function(){return e.get()},function(t){return t})},updateTempState:function(t){var e=a(t);return o(),n.set(j.some(e)),e.url},addTempState:function(t){var e=a(t);return n.set(j.some(e)),e.url},applyTempState:function(e){return n.get().fold(function(){},function(t){c(t.blob),e()})},destroyTempState:o,undo:function(){var t=r.undo();return i(t),t.url},redo:function(){var t=r.redo();return i(t),t.url},getHistoryStates:function(){return{undoEnabled:r.canUndo(),redoEnabled:r.canRedo()}}}},Uk=function(t,e){var n,o,r,a=Nk(t.currentState),i=function(t){var e=a.getHistoryStates();g.updateButtonUndoStates(t,e.undoEnabled,e.redoEnabled),br(t,yk.formActionEvent,{name:yk.saveState(),value:e.undoEnabled})},u=function(t){return t.toBlob()},c=function(t){br(t,yk.formActionEvent,{name:yk.disable(),value:{}})},s=function(t){v.getApplyButton(t).each(function(t){$h.enable(t)}),br(t,yk.formActionEvent,{name:yk.enable(),value:{}})},l=function(t,e){return c(t),h.updateSrc(t,e)},f=function(e,t,n,o,r){return c(e),Hx(t).then(n).then(u).then(o).then(function(t){return l(e,t).then(function(t){return i(e),r(),s(e),t})})["catch"](function(t){console.log(t),s(e)})},d=function(t,e,n){var o=a.getBlobState().blob;f(t,o,e,function(t){return a.updateTempState(t)},n)},m=function(t){var e=a.getBlobState().url;return a.destroyTempState(),i(t),e},h=Fk(t.currentState.url),g=(o=nh(Rk("Undo","undo",!0,function(t){br(t,gk.undo(),{direction:1})},n=e)),r=nh(Rk("Redo","redo",!0,function(t){br(t,gk.redo(),{direction:1})},n)),{container:Cv.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),r.asSpec(),Rk("Zoom in","zoom-in",!1,function(t){br(t,gk.zoom(),{direction:1})},n),Rk("Zoom out","zoom-out",!1,function(t){br(t,gk.zoom(),{direction:-1})},n)]}),updateButtonUndoStates:function(t,e,n){o.getOpt(t).each(function(t){Lk(t,e)}),r.getOpt(t).each(function(t){Lk(t,n)})}}),v=wk(h,e);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[v.memContainer.asSpec(),h.memContainer.asSpec(),g.container],behaviours:Fa([um.config({store:{mode:"manual",getValue:function(){return a.getBlobState()}}}),Tm("image-tools-events",[Lr(gk.undo(),function(e,t){var n=a.undo();l(e,n).then(function(t){s(e),i(e)})}),Lr(gk.redo(),function(e,t){var n=a.redo();l(e,n).then(function(t){s(e),i(e)})}),Lr(gk.zoom(),function(t,e){var n=e.event().direction();h.zoom(t,n)}),Lr(gk.back(),function(t,e){var n,o;o=m(n=t),l(n,o).then(function(t){s(n)}),e.event().swap()(),h.hideCrop()}),Lr(gk.apply(),function(t,e){a.applyTempState(function(){m(t),e.event().swap()()})}),Lr(gk.transform(),function(t,e){return d(t,e.event().transform(),P)}),Lr(gk.tempTransform(),function(t,e){return n=t,o=e.event().transform(),r=a.getTempState().blob,void f(n,r,o,function(t){return a.addTempState(t)},P);var n,o,r}),Lr(gk.transformApply(),function(t,e){return n=t,o=e.event().transform(),r=e.event().swap(),i=a.getBlobState().blob,void f(n,i,o,function(t){var e=a.addBlobState(t);return m(n),e},r);var n,o,r,i}),Lr(gk.swap(),function(e,t){var n;n=e,g.updateButtonUndoStates(n,!1,!1);var o=t.event().transform(),r=t.event().swap();o.fold(function(){r()},function(t){d(e,t,r)})})]),Uw()])}},Wk=undefined&&undefined.__assign||function(){return(Wk=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},Gk=Fl({name:"HtmlSelect",configFields:[Ko("options"),Es("selectBehaviours",[dm,um]),ar("selectClasses",[]),ar("selectAttributes",{}),nr("data")],factory:function(n,t){var e=E(n.options,function(t){return{dom:{tag:"option",value:t.value,innerHtml:t.text}}}),o=n.data.map(function(t){return xt("initialValue",t)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:e,behaviours:As(n.selectBehaviours,[dm.config({}),um.config({store:Wk({mode:"manual",getValue:function(t){return Ji(t.element())},setValue:function(t,e){D(n.options,function(t){return t.value===e}).isSome()&&$i(t.element(),e)}},o)})])}}}),Xk=function(n,e){var t=n.label.map(function(t){return Ep(t,e)}),o=[Nd.config({mode:"execution",useEnter:!0!==n.multiline,useControlEnter:!0===n.multiline,execute:function(t){return pr(t,Fv),j.some(!0)}}),Tm("textfield-change",[Lr(Pt(),function(t,e){br(t,Av,{name:n.name})}),Lr(Gt(),function(t,e){br(t,Av,{name:n.name})})]),$p.config({})],r=n.validation.map(function(o){return qp.config({getRoot:function(t){return rn(t.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var e=um.getValue(t),n=o.validator(e);return ep.pure(!0===n?ft.value(e):ft.error(n))},validateOnLoad:o.validateOnLoad}})}).toArray(),i=Uv.parts().field({tag:!0===n.multiline?"textarea":"input",inputAttributes:n.placeholder.fold(function(){},function(t){return{placeholder:e.translate(t)}}),inputClasses:[n.classname],inputBehaviours:Fa(I([o,r])),selectOnFocus:!1,factory:_p}),a=n.flex?["tox-form__group--stretched"]:[];return Cp(t,i,a)},Yk=undefined&&undefined.__assign||function(){return(Yk=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},qk=function(i){return Yk({},i,{toCached:function(){return qk(i.toCached())},bindFuture:function(e){return qk(i.bind(function(t){return t.fold(function(t){return ep.pure(ft.error(t))},function(t){return e(t)})}))},bindResult:function(e){return qk(i.map(function(t){return t.bind(e)}))},mapResult:function(e){return qk(i.map(function(t){return t.map(e)}))},foldResult:function(e,n){return i.map(function(t){return t.fold(e,n)})},withTimeout:function(t,r){return qk(ep.nu(function(e){var n=!1,o=window.setTimeout(function(){n=!0,e(ft.error(r()))},t);i.get(function(t){n||(window.clearTimeout(o),e(t))})}))}})},Kk=function(t){return qk(ep.nu(t))},Jk=Kk,$k={type:"separator"},Qk=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:function(){}}},Zk=function(t,e){return{type:"menuitem",value:e,text:t,meta:{attach:P},onAction:function(){}}},tz=function(t,e){return o=t,n=A(e,function(t){return t.type===o}),E(n,Qk);var n,o},ez=function(t,e){var n=t.toLowerCase();return A(e,function(t){var e=t.meta!==undefined&&t.meta.text!==undefined?t.meta.text:t.text;return fe(e.toLowerCase(),n)||fe(t.value.toLowerCase(),n)})},nz=function(c,t,s){var e=um.getValue(t),l=e.meta.text!==undefined?e.meta.text:e.value;return s.getLinkInformation().fold(function(){return[]},function(t){var e,n,o,r,i,a,u=ez(l,(e=s.getHistory(c),E(e,function(t){return Zk(t,t)})));return"file"===c?(n=[u,ez(l,(a=t,tz("header",a.targets))),ez(l,I([(i=t,i.anchorTop.map(function(t){return Zk("<top>",t)}).toArray()),(r=t,tz("anchor",r.targets)),(o=t,o.anchorBottom.map(function(t){return Zk("<bottom>",t)}).toArray())]))],_(n,function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat($k,e)},[])):u})},oz=function(i,a,o){var t,r=function(t){var e=um.getValue(t);o.addToHistory(e.value,i.filetype)},e=Uv.parts().field({factory:Op,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],minChars:0,responseTime:0,fetch:function(t){var e=nz(i.filetype,t,o),n=Bp(e,lh.BUBBLE_TO_SANDBOX,a.providers);return ep.pure(n)},getHotspot:function(t){return f.getOpt(t)},onSetValue:function(t,e){t.hasConfigured(qp)&&qp.run(t).get(P)},typeaheadBehaviours:Fa(I([o.getValidationHandler().map(function(o){return qp.config({getRoot:function(t){return rn(t.element())},invalidClass:"tox-status-invalid",notify:{},validator:{validate:function(e){var n=um.getValue(e);return Jk(function(t){o({type:i.filetype,url:n.value},function(n){f.getOpt(e).each(function(t){var e=function(t,e,n){(n?_i:Di)(t.element(),e)};e(t,"tox-status-valid","valid"===n.status),e(t,"tox-status-unknown","unknown"===n.status)}),t(("invalid"===n.status?ft.error:ft.value)(n.message))})})},validateOnLoad:!1}})}).toArray(),[$p.config({}),Tm("urlinput-events",I(["file"===i.filetype?[Lr(Pt(),function(t){br(t,Av,{name:i.name})})]:[],[Lr(jt(),function(t){br(t,Av,{name:i.name}),r(t)})]]))]])),eventOrder:(t={},t[Pt()]=["streaming","urlinput-events","invalidating"],t),model:{getDisplayText:function(t){return t.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"dog"},lazySink:a.getSink,parts:{menu:Lg(0,0,"normal")},onExecute:function(t,e,n){br(e,Fv,{})},onItemExecute:function(t,e,n,o){r(t),br(t,Av,{name:i.name})}}),n=i.label.map(function(t){return Ep(t,a.providers)}),u=function(t,e,n){return void 0===e&&(e=t),void 0===n&&(n=t),{dom:{tag:"span",classes:["tox-icon","tox-status-icon__"+t],innerHtml:ih("icon-"+e,a.providers.icons),attributes:{title:a.providers.translate(n)}}}},c=nh({dom:{tag:"span",classes:["tox-status"]},components:[u("checkmark","checkmark","valid"),u("warning"),u("error","warning")]}),s=o.getUrlPicker(i.filetype),l=Wn("browser.url.event"),f=nh({dom:{tag:"div",classes:["tox-input-wrap"]},components:[e,c.asSpec()]});return Uv.sketch({dom:Vp([]),components:n.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:I([[f.asSpec()],s.map(function(){return t=i.label,e=l,n="tox-browse-url",o="icon-browse",r=a.providers,th.sketch({dom:{tag:"button",classes:["tox-tbtn",n],innerHtml:ih(o,r.icons),attributes:{title:r.translate(t.getOr(""))}},action:function(t){pr(t,e)}});var t,e,n,o,r}).toArray()])}]),fieldBehaviours:Fa([Tm("url-input-events",[Lr(l,function(o){jl.getCurrent(o).each(function(e){var n=um.getValue(e);s.each(function(t){t(n).get(function(t){um.setValue(e,t),br(o,Av,{name:i.name})})})})})])])})},rz=function(a,e){var t,n,o=a.label.map(function(t){return Ep(t,e)}),r=function(n){return function(e,t){ma(t.event().target(),"[data-collection-item-value]").each(function(t){n(e,t,Cn(t,"data-collection-item-value"))})}},i=[Lr(Dt(),r(function(t,e){df(e)})),Lr(Nt(),r(function(t,e,n){br(t,Dv,{name:a.name,value:n})})),Lr(Ft(),r(function(t,e,n){da(t.element(),"."+Hh).each(function(t){Di(t,Hh)}),_i(e,Hh)})),Lr(Rt(),r(function(t,e,n){da(t.element(),"."+Hh).each(function(t){Di(t,Hh)})})),Kr(r(function(t,e,n){br(t,Dv,{name:a.name,value:n})}))],u=Uv.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==a.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:d},behaviours:Fa([Yd.config({}),um.config({store:{mode:"memory",initialValue:[]},onSetValue:function(o,t){var e,n,r,i;e=o,n=E(t,function(t){var e,n=1===a.columns?t.text.map(function(t){return'<span class="tox-collection__item-label">'+t+"</span>"}).getOr(""):"",o=t.icon.map(function(t){return'<span class="tox-collection__item-icon">'+t+"</span>"}).getOr("");return'<div class="tox-collection__item" tabindex="-1" data-collection-item-value="'+('"'===(e=t.value)?"&quot;":e)+'">'+o+n+"</div>"}),r=1<a.columns&&"auto"!==a.columns?V(n,a.columns):[n],i=E(r,function(t){return'<div class="tox-collection__group">'+t.join("")+"</div>"}),pn(e.element(),i.join("")),"auto"===a.columns&&Ag(o,5,"tox-collection__item").each(function(t){var e=t.numRows,n=t.numColumns;Nd.setGridSize(o,e,n)}),pr(o,Pv)}}),$p.config({}),Nd.config((t=a.columns,n="normal",1===t?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===t?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===n?".tox-swatches__row":".tox-collection__group",cell:"color"===n?"."+zh:"."+kh}})),Tm("collection-events",i)])});return Cp(o,u,["tox-form__group--collection"])},iz=function(r){return function(e,n,o){return wt(n,"name").fold(function(){return r(n,o)},function(t){return e.field(t,r(n,o))})}},az={collection:iz(function(t,e){return rz(t,e.shared.providers)}),alloy:iz(d),alertbanner:iz(function(t,e){return n=t,o=e.shared.providers,Cv.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:ih("icon-"+n.icon,o.icons)}},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:o.translate(n.text)}},th.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"],innerHtml:ih("icon-close",o.icons)},action:function(t){br(t,Dv,{name:"alert-banner",value:n.url})}})]});var n,o}),input:iz(function(t,e){return n=t,o=e.shared.providers,Xk({name:n.name,multiline:!1,label:n.label,placeholder:n.placeholder,flex:!1,classname:"tox-textfield",validation:j.none()},o);var n,o}),textarea:iz(function(t,e){return n=t,o=e.shared.providers,Xk({name:n.name,multiline:!0,label:n.label,placeholder:n.placeholder,flex:n.flex,classname:"tox-textarea",validation:j.none()},o);var n,o}),listbox:iz(function(t,e){return n=t,o=e.shared.providers,r=Ep(n.label,o),i=Uv.parts().field({factory:Gk,dom:{classes:["mce-select-field"]},selectBehaviours:Fa([$p.config({})]),options:n.values,data:n.initialValue.getOr(undefined)}),Mp(j.some(r),i);var n,o,r,i}),label:iz(function(t,e){return n=t,{dom:{tag:"label",innerHtml:(o=e.shared).providers.translate(n.label),classes:["tox-label"]},components:E(n.items,o.interpreter),behaviours:Fa([Uw(),Yd.config({}),Zw(j.none()),Nd.config({mode:"acyclic"})])};var n,o}),iframe:(Hk=function(t,e){return lx(t,e.shared.providers)},function(t,e,n){var o=gt(e,{source:"dynamic"});return iz(Hk)(t,o,n)}),autocomplete:iz(function(t,e){return r=t,i=e.shared,n=Ep(r.label.getOr("?"),i.providers),o=Uv.parts().field({factory:Op,dismissOnBlur:!1,inputClasses:["tox-textfield"],minChars:1,fetch:function(t){var e=um.getValue(t),n=r.getItems(e),o=Bp(n,lh.BUBBLE_TO_SANDBOX,i.providers);return ep.pure(o)},markers:{openClass:"dog"},lazySink:i.getSink,parts:{menu:Lg(0,0,"normal")}}),Mp(j.some(n),o);var r,i,n,o}),button:iz(function(t,e){return n=t,o=e.shared.providers,r=rk(n.name,"custom"),ok(n,r,o,[tx(""),Uw()]);var n,o,r}),checkbox:iz(function(t,e){return n=t,o=e.shared.providers,r=um.config({store:{mode:"manual",getValue:function(t){var e=t.element().dom();return e.indeterminate?"indeterminate":e.checked?"checked":"unchecked"},setValue:function(t,e){var n=t.element().dom();switch(e){case"indeterminate":n.indeterminate=!0;break;case"checked":n.checked=!0,n.indeterminate=!1;break;default:n.checked=!1,n.indeterminate=!1}}}}),i=function(t){return t.element().dom().click(),j.some(!0)},a=Uv.parts().field({factory:{sketch:d},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Fa([Uw(),$p.config({}),dm.config({}),r,Nd.config({mode:"special",onEnter:i,onSpace:i}),Tm("checkbox-events",[Lr(jt(),function(t,e){br(t,Av,{name:n.name})})])])}),u=Uv.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:o.translate(n.label)},behaviours:Fa([kb.config({})])}),s=nh({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[(c=function(t){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+t],innerHtml:ih("icon-"+("checked"===t?"selected":"unchecked"===t?"unselected":"indeterminate"),o.icons)}}})("checked"),c("unchecked"),c("indeterminate")]}),Uv.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[a,s.asSpec(),u]});var n,o,r,i,a,u,c,s}),colorinput:iz(function(t,e){return Ob(t,e.shared,e.colorinput)}),colorpicker:iz(function(t){var e=function(t){return"tox-"+t},n=Nw(Yw,e),r=nh(n.sketch({dom:{tag:"div",classes:[e("color-picker-container")],attributes:{role:"presentation"}},onValidHex:function(t){br(t,Dv,{name:"hex-valid",value:!0})},onInvalidHex:function(t){br(t,Dv,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:Fa([um.config({store:{mode:"manual",getValue:function(t){var e=r.get(t);return jl.getCurrent(e).bind(function(t){return um.getValue(t).hex}).map(function(t){return"#"+t}).getOr("")},setValue:function(t,e){var n=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(e),o=r.get(t);jl.getCurrent(o).fold(function(){console.log("Can not find form")},function(t){um.setValue(t,{hex:j.from(n[1]).getOr("")}),Dw.getField(t,"hex").each(function(t){pr(t,Pt())})})}}}),Uw()])}}),dropzone:iz(function(t,e){return ex(t,e.shared.providers)}),grid:iz(function(t,e){return n=t,o=e.shared,{dom:{tag:"div",classes:["tox-form","tox-form--"+n.columns+"col"]},components:E(n.items,o.interpreter)};var n,o}),selectbox:iz(function(t,e){return n=t,o=e.shared.providers,r=n.label.map(function(t){return Ep(t,o)}),i=Uv.parts().field({dom:{},selectAttributes:{size:n.size},options:n.items,factory:Gk,selectBehaviours:Fa([$p.config({}),Tm("selectbox-change",[Lr(jt(),function(t,e){br(t,Av,{name:n.name})})])])}),a=1<n.size?j.none():j.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:ih("icon-chevron-down",o.icons)}}),u={dom:{tag:"div",classes:["tox-selectfield"]},components:I([[i],a.toArray()])},Uv.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:I([r.toArray(),[u]])});var n,o,r,i,a,u}),sizeinput:iz(function(t,e){return hk(t,e.shared.providers)}),urlinput:iz(function(t,e){return oz(t,e.shared,e.urlinput)}),customeditor:iz(function(e){var n=Ot(j.none()),o=nh({dom:{tag:e.tag}}),r=Ot(j.none());return{dom:{tag:"div"},behaviours:Fa([Tm("editor-foo-events",[Xr(function(t){o.getOpt(t).each(function(t){e.init(t.element().dom()).then(function(e){r.get().each(function(t){e.setValue(t)}),r.set(j.none()),n.set(j.some(e))})})})]),um.config({store:{mode:"manual",getValue:function(){return n.get().fold(function(){return r.get().getOr("")},function(t){return t.getValue()})},setValue:function(t,e){n.get().fold(function(){r.set(j.some(e))},function(t){return t.setValue(e)})}}}),Uw()]),components:[o.asSpec()]}}),htmlpanel:iz(function(t){return Cv.sketch({dom:{tag:"div",innerHtml:t.html}})}),imagetools:iz(function(t,e){return Uk(t,e.shared.providers)}),table:iz(function(t,e){return n=t,o=e.shared.providers,a=function(t){return{dom:{tag:"th",innerHtml:o.translate(t)}}},u=function(t){return{dom:{tag:"td",innerHtml:o.translate(t)}}},c=function(t){return{dom:{tag:"tr"},components:E(t,u)}},{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(i=n.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:E(i,a)}]}),(r=n.cells,{dom:{tag:"tbody"},components:E(r,c)})]};var n,o,r,i,a,u,c})},uz={field:function(t,e){return e}},cz=function(e,t,n){var o=gt(n,{shared:{interpreter:function(t){return sz(e,t,o)}}});return sz(e,t,o)},sz=function(e,n,o){return wt(az,n.type).fold(function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(t){return t(e,n,o)})},lz=function(t){return{colorPicker:(n=t,function(t,e){pb.colorPickerDialog(n)(t,e)}),hasCustomColors:(e=t,function(){return ab(e)})};var e,n},fz=undefined&&undefined.__assign||function(){return(fz=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},dz=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strike-through",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}]}],mz=function(t){return _(t,function(t,e){if(it(e,"items")){var n=mz(e.items);return{customFormats:t.customFormats.concat(n.customFormats),formats:t.formats.concat([{title:e.title,items:n.formats}])}}if(it(e,"inline")||it(e,"block")||it(e,"selector")){var o="custom-"+e.title.toLowerCase();return{customFormats:t.customFormats.concat([{name:o,format:e}]),formats:t.formats.concat([{title:e.title,format:o,icon:e.icon}])}}return fz({},t,{formats:t.formats.concat(e)})},{customFormats:[],formats:[]})},hz=function(i){return(t=i,j.from(t.getParam("style_formats")).filter(k)).map(function(t){var e,n,o,r=(e=i,n=mz(t),o=function(t){T(t,function(t){e.formatter.has(t.name)||e.formatter.register(t.name,t.format)})},e.formatter?o(n.customFormats):e.on("init",function(){o(n.customFormats)}),n.formats);return i.getParam("style_formats_merge",!1,"boolean")?dz.concat(r):r}).getOr(dz);var t},gz=function(t,e,n){var o={type:"formatter",isSelected:e(t.format),getStylePreview:n(t.format)};return gt(t,o)},vz=function(s,t,l,f){var d=function(t){return E(t,function(t){var e,n,o,r,i,a,u=Q(t);if(St(t,"items")){var c=d(t.items);return gt((i=t,a={type:"submenu",isSelected:U(!1),getStylePreview:function(){return j.none()}},gt(i,a)),{getStyleItems:function(){return c}})}return St(t,"format")?gz(t,l,f):1===u.length&&M(u,"title")?gt(t,{type:"separator"}):(n=Wn((e=t).title),o={type:"formatter",format:n,isSelected:l(n),getStylePreview:f(n)},r=gt(e,o),s.formatter.register(n,r),r)})};return d(t)},pz=navigator,bz=pz.userAgent,yz=function(t){return"matchMedia"in window&&matchMedia(t).matches};/Android/.test(bz),Ek=(Ek=!(Vk=/WebKit/.test(bz))&&/MSIE/gi.test(bz)&&/Explorer/gi.test(pz.appName))&&/MSIE (\w+)\./.exec(bz)[1],Tk=-1!==bz.indexOf("Trident/")&&(-1!==bz.indexOf("rv:")||-1!==pz.appName.indexOf("Netscape"))&&11,Ak=-1!==bz.indexOf("Edge/")&&!Ek&&!Tk&&12,Ek=Ek||Tk||Ak,!Vk&&!Tk&&/Gecko/.test(bz),bz.indexOf("Mac"),Bk=/(iPad|iPhone)/.test(bz),_k="FormData"in window&&"FileReader"in window&&"URL"in window&&!!Pk,yz("only screen and (max-device-width: 480px)"),yz("only screen and (min-width: 800px)"),bz.indexOf("Windows Phone"),Ak&&(Vk=!1),!Bk||_k||parseInt(bz.match(/AppleWebKit\/(\d*)/)[1],10),window.getSelection&&window,Ek&&!Ak&&document.documentMode;var wz,xz,kz,zz=Array.isArray,Sz=function(t,e,n){var o,r;if(!t)return 0;if(n=n||t,t.length!==undefined){for(o=0,r=t.length;o<r;o++)if(!1===e.call(n,t[o],o,t))return 0}else for(o in t)if(t.hasOwnProperty(o)&&!1===e.call(n,t[o],o,t))return 0;return 1},Oz=function(t,e,n){var o,r;for(o=0,r=t.length;o<r;o++)if(e.call(n,t[o],o,t))return o;return-1},Cz={isArray:zz,toArray:function(t){var e,n,o=t;if(!zz(t))for(o=[],e=0,n=t.length;e<n;e++)o[e]=t[e];return o},each:Sz,map:function(n,o){var r=[];return Sz(n,function(t,e){r.push(o(t,e,n))}),r},filter:function(n,o){var r=[];return Sz(n,function(t,e){o&&!o(t,e,n)||r.push(t)}),r},indexOf:function(t,e){var n,o;if(t)for(n=0,o=t.length;n<o;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,o){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(o,n,t[r],r);return n},findIndex:Oz,find:function(t,e,n){var o=Oz(t,e,n);return-1!==o?t[o]:undefined},last:function(t){return t[t.length-1]}},Mz=(Cz.isArray,Cz.toArray,function(t,e,n){var o;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},o=t.length;o--;)n[t[o]]={};return n}),Hz=(Cz.each,Cz.map,Cz.filter,Cz.indexOf,function(t,e){for(var n,o,r,i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var u,c=arguments;for(n=1,o=c.length;n<o;n++)for(r in e=c[n])e.hasOwnProperty(r)&&(u=e[r])!==undefined&&(t[r]=u);return t}),Vz=Sk.trim,Ez=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Tz=Ez("true"),Az=Ez("false"),Bz=function(t,e,n,o,r){return{type:t,title:e,url:n,level:o,attach:r}},_z=function(t){return t.innerText||t.textContent},Dz=function(t){return(e=t)&&"A"===e.nodeName&&(e.id||e.name)!==undefined&&Rz(t);var e},Fz=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},Rz=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return Tz(t)}return!1}(t)&&!Az(t)},Lz=function(t){return Fz(t)&&Rz(t)},Iz=function(t){var e,n,o=(e=t).id?e.id:Wn("h");return Bz("header",_z(t),"#"+o,Fz(n=t)?parseInt(n.nodeName.substr(1),10):0,function(){t.id=o})},Pz=function(t){var e=t.id||t.name,n=_z(t);return Bz("anchor",n||"#"+e,"#"+e,0,P)},jz=function(t){var e,n;return e="h1,h2,h3,h4,h5,h6,a:not([href])",n=t,E(Oc(Pe.fromDom(n),e),function(t){return t.dom()})},Nz=function(t){return 0<Vz(t.title).length},Uz=function(t){var e,n=jz(t);return A((e=n,E(A(e,Lz),Iz)).concat(E(A(n,Dz),Pz)),Nz)},Wz="tinymce-url-history",Gz=function(t){return w(t)&&/^https?/.test(t)},Xz=function(t){return x(t)&&function(t,e){for(var n=Q(t),o=0,r=n.length;o<r;o++){var i=n[o],a=t[i];if(e(a,i,t))return j.some(a)}return j.none()}(t,function(t){return!(k(e=t)&&e.length<=5&&W(e,Gz));var e}).isNone()},Yz=function(){var t,e=localStorage.getItem(Wz);if(null===e)return{};try{t=JSON.parse(e)}catch(n){if(n instanceof SyntaxError)return console.log("Local storage "+Wz+" was not valid JSON",n),{};throw n}return Xz(t)?t:(console.log("Local storage "+Wz+" was not valid format",t),{})},qz=function(t){var e=Yz();return Object.prototype.hasOwnProperty.call(e,t)?e[t]:[]},Kz=function(e,t){if(Gz(e)){var n=Yz(),o=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],r=A(o,function(t){return t!==e});n[t]=[e].concat(r).slice(0,5),function(t){if(!Xz(t))throw new Error("Bad format for history:\n"+JSON.stringify(t));localStorage.setItem(Wz,JSON.stringify(t))}(n)}},Jz=Object.prototype.hasOwnProperty,$z=function(t){return!!t},Qz=function(t){return et(Mz(t,/[, ]/),$z)},Zz=function(t,e){return Jz.call(t,e)?j.some(t[e]):j.none()},tS=function(t,e,n){var o=Zz(t,e).getOr(n);return w(o)?j.some(o):j.none()},eS=function(u){return function(r){return(t=u.settings,e=r,n=j.some(t.file_picker_types).filter($z),o=j.some(t.file_browser_callback_types).filter($z),i=n.or(o).map(Qz).fold(function(){return!0},function(t){return Zz(t,e).getOr(!1)}),a=j.some(t.file_picker_callback).filter(S),i?a:j.none()).map(function(o){return function(e){return ep.nu(function(n){var t=Hz({filetype:r},j.from(e.meta).getOr({}));o.call(u,function(t,e){if(!w(t))throw new Error("Expected value to be string");if(e!==undefined&&!x(e))throw new Error("Expected meta to be a object");n({value:t,meta:e})},e.value,t)})}});var t,e,n,o,i,a}},nS=function(t){return{getHistory:qz,addToHistory:Kz,getLinkInformation:(n=t,function(){return!1===n.settings.typeahead_urls?j.none():j.some({targets:Uz(n.getBody()),anchorTop:tS(n.settings,"anchor_top","#top"),anchorBottom:tS(n.settings,"anchor_bottom","#bottom")})}),getValidationHandler:(e=t,function(){var t=e.settings.filepicker_validator_handler;return S(t)?j.some(t):j.none()}),getUrlPicker:eS(t)};var e,n},oS=function(t,e,n){var o,r,i,a,u,c,s,l,f,d={shared:{providers:{icons:function(){return e.ui.registry.getAll().icons},translate:Bh.translate},interpreter:function(t){return sz(uz,t,d)},anchors:{toolbar:function(){return{anchor:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[Ju]},onLtr:function(){return[$u]}}}},banner:function(){return{anchor:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[ec]},onLtr:function(){return[ec]}}}},cursor:function(){return{anchor:"selection",root:Pe.fromDom(e.getBody()),getSelection:function(){var t=e.selection.getRng();return j.some(hc(Pe.fromDom(t.startContainer),t.startOffset,Pe.fromDom(t.endContainer),t.endOffset))}}},node:function(t){return{anchor:"node",root:Pe.fromDom(e.getBody()),node:t}}},getSink:function(){return ft.value(t)}},urlinput:nS(e),styleselect:(o=e,r=function(t){return function(){return o.formatter.match(t)}},i=function(e){return function(){var t=o.formatter.get(e);return t!==undefined?j.some({tag:0<t.length&&(t[0].inline||t[0].block)||"div",styleAttr:o.formatter.getCssText(e)}):j.none()}},a=function(t){var e=t.items;return e!==undefined&&0<e.length?N(e,a):[t.format]},u=Ot([]),c=Ot([]),s=Ot([]),l=Ot([]),f=Ot(!1),o.on("init",function(){var t=hz(o),e=vz(o,t,r,i);u.set(e),c.set(N(e,a))}),o.on("addStyleModifications",function(t){var e=vz(o,t.items,r,i);s.set(e),f.set(t.replace),l.set(N(e,a))}),{getData:function(){var t=f.get()?[]:u.get(),e=s.get();return t.concat(e)},getFlattenedKeys:function(){var t=f.get()?[]:c.get(),e=l.get();return t.concat(e)}}),colorinput:lz(e)};return d},rS=tinymce.util.Tools.resolve("tinymce.util.Delay"),iS=U([ar("shell",!0),Es("toolbarBehaviours",[Yd])]),aS=U([ul({name:"groups",overrides:function(t){return{behaviours:Fa([Yd.config({})])}}})]),uS=Rl({name:"Toolbar",configFields:iS(),partFields:aS(),factory:function(e,t,n,o){var r=function(t){return e.shell?j.some(t):wl(t,e,"groups")},i=e.shell?{behaviours:[Yd.config({})],components:[]}:{behaviours:[],components:t};return{uid:e.uid,dom:e.dom,components:i.components,behaviours:As(e.toolbarBehaviours,i.behaviours),apis:{setGroups:function(t,e){r(t).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(t){Yd.set(t,e)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(t,e,n){t.setGroups(e,n)}}}),cS=U([Ko("items"),xa(["itemSelector"]),Es("tgroupBehaviours",[Nd])]),sS=U([cl({name:"items",unit:"item"})]),lS=Rl({name:"ToolbarGroup",configFields:cS(),partFields:sS(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,behaviours:As(t.tgroupBehaviours,[Nd.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),fS=function(t){return lS.sketch({dom:{tag:"div",classes:["tox-toolbar__group"]},components:[lS.parts().items({})],items:t.items,markers:{itemSelector:".tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Fa([$p.config({}),dm.config({})])})},dS=function(n){var t=n.cyclicKeying?"cyclic":"acyclic";return uS.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"]},components:[uS.parts().groups({})],toolbarBehaviours:Fa([Nd.config({mode:t,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Tm("toolbar-events",[Xr(function(t){var e=E(n.initGroups,fS);uS.setGroups(t,e)})])])})},mS=[lr("disabled",!1),rr("tooltip"),rr("icon"),rr("text"),fr("onSetup",function(){return P})],hS=Co([$o("type"),Qo("onAction")].concat(mS)),gS=function(t){return Lo("toolbarbutton",hS,t)},vS=Co([$o("type"),rr("tooltip"),rr("icon"),rr("text"),Qo("fetch"),fr("onSetup",function(){return P})]),pS=Co([$o("type"),rr("tooltip"),rr("icon"),rr("text"),(wz="select",or(wz,qo)),Qo("fetch"),fr("onSetup",function(){return P}),sr("presets","normal"),ar("columns",1),Qo("onAction"),Qo("onItemAction")]),bS=[lr("active",!1)].concat(mS),yS=Co(bS.concat([$o("type"),Qo("onAction")])),wS=function(t){return Lo("ToggleButton",yS,t)},xS=[fr("predicate",function(){return!1}),ar("scope","node"),ar("position","selection")],kS=mS.concat([ar("type","contextformbutton"),ar("primary",!1),Qo("onAction"),mr("original",d)]),zS=bS.concat([ar("type","contextformbutton"),ar("primary",!1),Qo("onAction"),mr("original",d)]),SS=mS.concat([ar("type","contextformbutton")]),OS=bS.concat([ar("type","contextformtogglebutton")]),CS=No("type",{contextformbutton:kS,contextformtogglebutton:zS}),MS=Co([ar("type","contextform"),fr("initValue",function(){return""}),rr("label"),er("commands",CS),or("launch",No("type",{contextformbutton:SS,contextformtogglebutton:OS}))].concat(xS)),HS=Co([ar("type","contexttoolbar"),$o("items")].concat(xS)),VS=Wn("toolbar.button.execute"),ES={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},TS=Object.freeze({getState:function(t,e,n){return n}}),AS=Object.freeze({events:function(r,i){var o=function(n,o){r.updateState.each(function(t){var e=t(n,o);i.set(e)}),r.renderComponents.each(function(t){var e=t(o,i.get());fs(n),T(e,function(t){us(n,n.getSystem().build(t))})})};return Dr([Lr(ke(),function(t,e){var n=r.channel;M(e.channels(),n)&&o(t,e.data())}),Xr(function(e,t){r.initialData.each(function(t){o(e,t)})})])}}),BS=Object.freeze({init:function(t){var e=Ot(j.none());return{readState:function(){return e.get().getOr("none")},get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(j.none())}}}}),_S=[Ko("channel"),nr("renderComponents"),nr("updateState"),nr("initialData")],DS=La({fields:_S,name:"reflecting",active:AS,apis:TS,state:BS}),FS=U([Ko("toggleClass"),Ko("fetch"),Oa("onExecute"),ar("getHotspot",j.some),ar("layouts",j.none()),Oa("onItemExecute"),nr("lazySink"),Ko("dom"),za("onOpen"),Es("splitDropdownBehaviours",[Xv,Nd,dm]),ar("matchWidth",!1),ar("useMinWidth",!1)].concat(kp())),RS=il({factory:th,schema:[Ko("dom")],name:"arrow",defaults:function(t){return{dom:{attributes:{role:"button","aria-haspopup":!0}},buttonBehaviours:Fa([dm.revoke()])}},overrides:function(e){return{action:function(t){t.getSystem().getByUid(e.uid).each(yr)},buttonBehaviours:Fa([Sm.config({toggleOnExecute:!1,toggleClass:e.toggleClass,aria:{mode:"pressed"}})])}}}),LS=il({factory:th,schema:[Ko("dom")],name:"button",defaults:function(t){return{dom:{attributes:{role:"button"}},buttonBehaviours:Fa([dm.revoke()])}},overrides:function(n){return{action:function(e){e.getSystem().getByUid(n.uid).each(function(t){n.onExecute(t,e)})}}}}),IS=U([RS,LS,al({schema:[wa()],name:"menu",defaults:function(o){return{onExecute:function(e,n){e.getSystem().getByUid(o.uid).each(function(t){o.onItemExecute(t,e,n)})}}}}),op()]),PS=Rl({name:"SplitDropdown",configFields:FS(),partFields:IS(),factory:function(n,t,e,o){var r=function(t){jl.getCurrent(t).each(function(t){tf.highlightFirst(t),Nd.focusIn(t)})},i=function(t){cp(n,function(t){return t},t,o,r,kv.HighlightFirst).get(P)},a=function(t){var e=xl(t,n,"button");return yr(e),j.some(!0)},u=Qm(j.some(i));return{uid:n.uid,dom:n.dom,components:t,eventOrder:{"alloy.execute":["toggling","alloy.base.behaviour"]},events:u,behaviours:As(n.splitDropdownBehaviours,[Xv.config({others:{sandbox:function(t){var e=xl(t,n,"arrow");return fp(n,t,{onOpen:function(){Sm.on(e)},onClose:function(){Sm.off(e)}})}}}),Nd.config({mode:"special",onSpace:a,onEnter:a,onDown:function(t){return i(t),j.some(!0)}}),dm.config({})]),domModification:{attributes:{role:"presentation"}}}}}),jS=function(e){return{isDisabled:function(){return $h.isDisabled(e)},setDisabled:function(t){return t?$h.disable(e):$h.enable(e)}}},NS=function(e){return{setActive:function(t){Sm.set(e,t)},isActive:function(){return Sm.isOn(e)},isDisabled:function(){return $h.isDisabled(e)},setDisabled:function(t){return t?$h.disable(e):$h.enable(e)}}},US=Wn("focus-button"),WS=function(e,n,t,o,r){var i,a=t.map(function(t){return{"aria-label":r.translate(t),title:r.translate(t)}}).getOr({});return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:a},components:rg([e.map(function(t){return Zx(t,r.icons)}),n.map(function(t){return tk(t,"tox-tbtn",r)})]),eventOrder:(i={},i[Tt()]=["focusing","alloy.base.behaviour","common-button-display-events"],i),buttonBehaviours:Fa([Tm("common-button-display-events",[Lr(Tt(),function(t,e){e.event().prevent(),pr(t,US)})])].concat(o.map(function(t){return DS.config({channel:t,initialData:{icon:e,text:n},renderComponents:function(t,e){return rg([t.icon.map(function(t){return Zx(t,r.icons)}),t.text.map(function(t){return tk(t,"tox-tbtn",r)})])}})}).toArray()))}},GS=function(t,e,n){var o,r=Ot(P),i=WS(t.icon,t.text,t.tooltip,j.none(),n);return th.sketch({dom:i.dom,components:i.components,eventOrder:ES,buttonBehaviours:Fa([Tm("toolbar-button-events",[(o={onAction:t.onAction,getApi:e.getApi},Kr(function(e,t){tg(o,e)(function(t){br(e,VS,{buttonApi:t}),o.onAction(t)})})),eg(e,r),ng(e,r)]),Zh(t.disabled)].concat(e.toolbarButtonBehaviours))})},XS=function(t,e,n){return GS(t,{toolbarButtonBehaviours:[].concat(0<n.length?[Tm("toolbarButtonWith",n)]:[]),getApi:jS,onSetup:t.onSetup},e)},YS=function(t,e,n){return gt(GS(t,{toolbarButtonBehaviours:[Yd.config({}),Sm.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<n.length?[Tm("toolbarToggleButtonWith",n)]:[]),getApi:NS,onSetup:t.onSetup},e))},qS=function(e,t){var n,r,o,i=Wn("channel-update-split-dropdown-display"),a=function(n){return{isDisabled:function(){return!0},setDisabled:function(){},setIconFill:function(t,e){da(n.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(t){Sn(t,"fill",e)})},setIconStroke:function(t,e){da(n.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(t){Sn(t,"stroke",e)})},setActive:function(t){Sm.set(n,t)},isActive:function(){return Sm.isOn(n)}}},u=Ot(P),c={getApi:a,onSetup:e.onSetup};return PS.sketch({dom:{tag:"div",classes:["tox-split-button"]},onExecute:function(t){e.onAction(a(t))},onItemExecute:function(t,e,n){},splitDropdownBehaviours:Fa([Sm.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1}),Tm("split-dropdown-events",[Lr(US,dm.focus),eg(c,u),ng(c,u)])]),toggleClass:"mce-active",lazySink:t.getSink,fetch:(n=a,r=e,o=t.providers,function(e){return ep.nu(function(t){return r.fetch(t)}).map(function(t){return $g(gt(Kg(Wn("menu-value"),t,function(t){r.onItemAction(n(e),t)},r.columns,r.presets,lh.CLOSE_ON_EXECUTE,r.select.getOr(function(){return!1}),o),{movement:Ig(r.columns,r.presets),menuBehaviours:_g("auto"!==r.columns?[]:[Xr(function(o,t){Ag(o,4,Vh(r.presets)).each(function(t){var e=t.numRows,n=t.numColumns;Nd.setGridSize(o,e,n)})})])}))})}),parts:{menu:Lg(0,e.columns,e.presets)},components:[PS.parts().button(WS(e.icon,e.text,e.tooltip,j.some(i),t.providers)),PS.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:ah("icon-chevron-down",t.providers.icons,U(""))}})]})},KS=undefined&&undefined.__assign||function(){return(KS=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},JS=undefined&&undefined.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&(n[o[r]]=t[o[r]])}return n},$S=function(i,a){return Lr(VS,function(t,e){var n,o=i.get(t),r=(n=o,{hide:function(){return pr(n,He())},getValue:function(){return um.getValue(n)}});a.onAction(r,e.event().buttonApi())})},QS=function(t,e,n){var o,r,i,a,u,c,s,l,f,d,m,h,g={backstage:{shared:{providers:n}}};return"contextformtogglebutton"===e.type?(s=t,f=g,(d=(l=e).original).primary,m=JS(d,["primary"]),h=Io(wS(KS({},m,{type:"togglebutton",onAction:function(){}}))),YS(h,f.backstage.shared.providers,[$S(s,l)])):(o=t,i=g,(a=(r=e).original).primary,u=JS(a,["primary"]),c=Io(gS(KS({},u,{type:"button",onAction:function(){}}))),XS(c,i.backstage.shared.providers,[$S(o,r)]))},ZS=function(t,e){var n,o,r,i,a=Wn("context-form-field"),u=t.label.map(function(t){return{dom:{tag:"label",classes:["tox-toolbar-label"],attributes:{"for":a},innerHtml:e.translate(t)}}}),c=t.label.fold(function(){return{}},function(t){return{id:a}}),s=nh(_p.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:c,selectOnFocus:!0,inputBehaviours:Fa([Nd.config({mode:"special",onEnter:function(t){return l.findPrimary(t).map(function(t){return yr(t),!0})},onLeft:function(t,e){return e.cut(),j.none()},onRight:function(t,e){return e.cut(),j.none()}})])})),l=(n=s,o=t.commands,r=e,i=E(o,function(t){return nh(QS(n,t,r))}),{asSpecs:function(){return E(i,function(t){return t.asSpec()})},findPrimary:function(n){return Mt(o,function(t,e){return t.primary?j.from(i[e]).bind(function(t){return t.getOpt(n)}).filter(m($h.isDisabled)):j.none()})}});return dS({uid:Wn("context-toolbar"),initGroups:[{items:u.toArray().concat([s.asSpec()])},{items:l.asSpecs()}],onEscape:j.none,cyclicKeying:!0})},tO=Wn("forward-slide"),eO=Wn("backward-slide"),nO=Wn("change-slide-event"),oO="tox-pop--resizing",rO=function(e,t){return Mt(t,function(t){return t.predicate(e.dom())?j.some({toolbarApi:t,elem:e}):j.none()})},iO=function(e,n){var t=function(t){return t.dom()===n.getBody()},o=Pe.fromDom(n.selection.getNode());return rO(o,e.inNodeScope).orThunk(function(){return rO(o,e.inEditorScope).orThunk(function(){return function(t,e,n){for(var o=t.dom(),r=S(n)?n:U(!1);o.parentNode;){o=o.parentNode;var i=Pe.fromDom(o),a=e(i);if(a.isSome())return a;if(r(i))break}return j.none()}(o,function(t){return rO(t,e.inNodeScope)},t)})})},aO=undefined&&undefined.__assign||function(){return(aO=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},uO=function(n,r){var t={},i=[],a=[],u={},c={},o=function(e,n){var o=Io(Lo("ContextForm",MS,n));(t[e]=o).launch.map(function(t){u["form:"+e]=aO({},n.launch,{type:"contextformtogglebutton"===t.type?"togglebutton":"button",onAction:function(){r(o)}})}),"editor"===o.scope?a.push(o):i.push(o),c[e]=o},s=function(e,n){var t;(t=n,Lo("ContextToolbar",HS,t)).each(function(t){"editor"===n.scope?a.push(t):i.push(t),c[e]=t})},e=Q(n);return T(e,function(t){var e=n[t];"contextform"===e.type?o(t,e):"contexttoolbar"===e.type&&s(t,e)}),{forms:t,inNodeScope:i,inEditorScope:a,lookupTable:c,formNavigators:u}},cO=Wn("update-menu-text"),sO=function(t,e,o){var r=t.text.map(function(t){return nh(tk(t,e,o.providers))}),n=function(t,e){var n=um.getValue(t);return dm.focus(n),br(n,"keydown",{raw:e.event().raw()}),j.some(!0)};return nh(xb.sketch({role:t.role,dom:{tag:"button",classes:[e,e+"--select"].concat(E(t.classes,function(t){return e+"--"+t}))},components:rg([t.icon.map(function(t){return Zx(t,o.providers.icons)}),r.map(function(t){return t.asSpec()}),j.some({dom:{tag:"div",classes:[e+"__select-chevron"],innerHtml:ih("icon-chevron-down",o.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Fa([kb.config({}),Yd.config({}),Tm("menubutton-update-display-text",[Xr(t.onAttach),Yr(t.onDetach),Lr(cO,function(e,n){r.bind(function(t){return t.getOpt(e)}).each(function(t){Yd.set(t,[aa(o.providers.translate(n.event().text()))])})})])]),eventOrder:gt(ES,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Fa([Nd.config({mode:"special",onLeft:n,onRight:n})]),lazySink:o.getSink,toggleClass:e+"--active",parts:{menu:Lg(0,t.columns,t.presets)},fetch:function(){return ep.nu(t.fetch)}})).asSpec()},lO=function(t,e,n,o){var r,i,a,u,c,s,l="basic"===n.type?function(){return E(n.data,function(t){return gz(t,o.isSelectedFor,o.getPreviewFor)})}:n.getData;return{items:(r=t,i=e,a=o,u=function(e,n,t){var o=i.shared.providers.translate(e.title);return"separator"===e.type?{type:"separator",text:o}:"submenu"===e.type?{type:"menuitem",text:o,disabled:t,getSubmenuItems:function(){return N(e.getStyleItems(),function(t){return c(t,n)})}}:e.getStylePreview().fold(function(){return{type:"togglemenuitem",text:o,active:e.isSelected(),disabled:!1,onAction:a.onAction(e)}},function(t){return{type:"styleitem",item:{type:"togglemenuitem",text:o,disabled:!1,active:e.isSelected(),onAction:a.onAction(e),meta:t}}})},c=function(t,e){var n="formatter"===t.type&&!r.formatter.canApply(t.format);return 0===e?n?[]:[u(t,e,!1)]:[u(t,e,n)]},s=function(t){return N(t,function(t){return c(t,1)})},{validateItems:s,getFetch:function(o,r){return function(t){var e=r(),n=s(e);t(Bp(n,lh.CLOSE_ON_EXECUTE,o.shared.providers))}}}),getStyleItems:l}},fO=function(n,t,e,o){var r=lO(n,t,e,o),i=r.items,a=r.getStyleItems;return sO({text:j.some(""),icon:j.none(),role:"button",fetch:i.getFetch(t,a),onAttach:o.nodeChangeHandler.map(function(e){return function(t){return n.on("nodeChange",e(t))}}).getOr(function(){}),onDetach:o.nodeChangeHandler.map(function(e){return function(t){return n.off("nodeChange",e(t))}}).getOr(function(){}),columns:1,presets:"normal",classes:["bespoke"]},"tox-tbtn",t.shared)};(kz=xz||(xz={}))[kz.SemiColon=0]="SemiColon",kz[kz.Space=1]="Space";var dO,mO,hO=function(t,e,n,o){var r,i,a=wt(t.settings,e).getOr(n);return{type:"basic",data:(i=a,r=o===xz.SemiColon?i.replace(/;$/,"").split(";"):i.split(" "),E(r,function(t){var e=t,n=t,o=t.split("=");return 1<o.length&&(e=o[0],n=o[1]),{title:e,format:n}}))}},gO=[{title:"Left",icon:"align-left",format:"alignleft"},{title:"Center",icon:"align-center",format:"aligncenter"},{title:"Right",icon:"align-right",format:"alignright"},{title:"Justify",icon:"align-justify",format:"alignjustify"}],vO=function(n,o){var t=j.some(function(e){return function(){var t=D(gO,function(t){return n.formatter.match(t.format)}).fold(function(){return"Align"},function(t){return t.title});br(e,cO,{text:o.shared.providers.translate(t)})}}),e={type:"basic",data:gO};return fO(n,o,e,{isSelectedFor:function(t){return function(){return n.formatter.match(t)}},getPreviewFor:function(t){return function(){return j.none()}},onAction:function(t){return function(){n.undoManager.transact(function(){n.focus(),n.formatter.match(t.format)?n.formatter.remove(t.format):n.formatter.apply(t.format)})}},nodeChangeHandler:t})},pO=function(r){var o=function(){var n=function(t){return t?t.split(",")[0]:""},t=r.queryCommandValue("FontName"),e=i.data,o=t?t.toLowerCase():"";return D(e,function(t){var e=t.format;return e.toLowerCase()===o||n(e).toLowerCase()===n(o).toLowerCase()})},t=j.some(function(n){return function(){var t=r.queryCommandValue("FontName"),e=o().fold(function(){return t},function(t){return t.title});br(n,cO,{text:e})}}),i=hO(r,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",xz.SemiColon);return{isSelectedFor:function(e){return function(){return o().exists(function(t){return t.format===e})}},getPreviewFor:function(t){return function(){return j.some({tag:"div",styleAttr:-1===t.indexOf("dings")?"font-family:"+t:""})}},onAction:function(t){return function(){r.undoManager.transact(function(){r.focus(),r.execCommand("FontName",!1,t.format)})}},nodeChangeHandler:t,dataset:i}},bO=function(t,e){return/[0-9.]+px$/.test(t)?(n=72*parseInt(t,10)/96,o=e||0,r=Math.pow(10,o),Math.round(n*r)/r+"pt"):t;var n,o,r},yO=function(i){var a=function(){var n=j.none(),o=u.data,r=i.queryCommandValue("FontSize");if(r)for(var t=function(t){var e=bO(r,t);n=D(o,function(t){return t.format===r||t.format===e})},e=3;n.isNone()&&0<=e;e--)t(e);return{matchOpt:n,px:r}},t=j.some(function(r){return function(){var t=a(),e=t.matchOpt,n=t.px,o=e.fold(function(){return n},function(t){return t.title});br(r,cO,{text:o})}}),u=hO(i,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",xz.Space);return{isSelectedFor:function(e){return function(){return a().matchOpt.exists(function(t){return t.format===e})}},getPreviewFor:function(){return function(){return j.none()}},onAction:function(t){return function(){i.undoManager.transact(function(){i.focus(),i.execCommand("FontSize",!1,t.format)})}},nodeChangeHandler:t,dataset:u}},wO=function(n,t,e){var o=e.parents,r=t();return Mt(o,function(e){return D(r,function(t){return n.formatter.matchNode(e,t.format)})}).orThunk(function(){return n.formatter.match("p")?j.some({title:"Paragraph",format:"p"}):j.none()})},xO=function(o){var t=j.some(function(n){return function(t){var e=wO(o,function(){return r.data},t).fold(function(){return"Paragraph"},function(t){return t.title});br(n,cO,{text:e})}}),r=hO(o,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",xz.SemiColon);return{isSelectedFor:function(t){return function(){return o.formatter.match(t)}},getPreviewFor:function(e){return function(){var t=o.formatter.get(e);return j.some({tag:0<t.length&&(t[0].inline||t[0].block)||"div",styleAttr:o.formatter.getCssText(e)})}},onAction:function(t){return function(){o.undoManager.transact(function(){o.focus(),o.formatter.match(t.format)?o.formatter.remove(t.format):o.formatter.apply(t.format)})}},nodeChangeHandler:t,dataset:r}},kO=function(i){return{isSelectedFor:function(t){return function(){return i.formatter.match(t)}},getPreviewFor:function(e){return function(){var t=i.formatter.get(e);return t!==undefined?j.some({tag:0<t.length&&(t[0].inline||t[0].block)||"div",styleAttr:i.formatter.getCssText(e)}):j.none()}},onAction:function(t){return function(){i.undoManager.transact(function(){i.focus(),i.formatter.match(t.format)?i.formatter.remove(t.format):i.formatter.apply(t.format)})}},nodeChangeHandler:j.some(function(n){var o=function(t){var e=t.items;return e!==undefined&&0<e.length?N(e,o):[{title:t.title,format:t.format}]},r=N(hz(i),o);return function(t){var e=wO(i,function(){return r},t).fold(function(){return"Paragraph"},function(t){return t.title});br(n,cO,{text:e})}})}},zO={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table",items:"inserttable tableprops deletetable row column cell"},help:{title:"Help",items:"help"}},SO=function(t,e,n,o){return sO({text:t.text,icon:t.icon,role:o,fetch:function(e){t.fetch(function(t){e(Bp(t,lh.CLOSE_ON_EXECUTE,n.providers))})},onAttach:function(){},onDetach:function(){},columns:1,presets:"normal",classes:[]},e,n)},OO={formats:function(t,e){var n=e.styleselect,o=lO(t,e,n,kO(t));return{type:"menuitem",text:"Formats",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}}},blockformats:function(t,e){var n=xO(t),o=lO(t,e,n.dataset,n);return{type:"menuitem",text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}}},fontformats:function(t,e){var n=pO(t),o=lO(t,e,n.dataset,n);return{type:"menuitem",text:e.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}}},fontsizes:function(t,e){var n=yO(t),o=lO(t,e,n.dataset,n);return{type:"menuitem",text:"Font Sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}}}},CO=function(t){return"string"==typeof t?t.split(" "):t},MO=function(a,u,c){var s=vt(zO,u.menus),e=0<Q(u.menus).length,t=u.menubar===undefined||!0===u.menubar?CO("file edit view insert format tools table"):CO(!1===u.menubar?"":u.menubar),n=A(t,function(t){return e&&u.menus.hasOwnProperty(t)&&u.menus[t].hasOwnProperty("items")||zO.hasOwnProperty(t)}),o=E(n,function(t){var e,n,o,r,i=s[t];return e={title:i.title,items:CO(i.items)},n=u,o=a,r=c,{text:e.title,getItems:function(){return N(e.items,function(t){return 0===t.trim().length?[]:"separator"===t||"|"===t?[{type:"separator"}]:n.menuItems[t]?[n.menuItems[t]]:OO[t]?[OO[t](o,r)]:[]})}}});return A(o,function(t){return 0<t.getItems().length})},HO=function(o,r){return function(t,e){var n=o(t).fold(g(ft.error,jo),ft.value).getOrDie();return r(n,e)}},VO={button:HO(gS,function(t,e){return n=t,o=e.backstage.shared.providers,XS(n,o,[]);var n,o}),togglebutton:HO(wS,function(t,e){return n=t,o=e.backstage.shared.providers,YS(n,o,[]);var n,o}),menubutton:HO(function(t){return Lo("menubutton",vS,t)},function(t,e){return SO(t,"tox-tbtn",e.backstage.shared,"button")}),splitbutton:HO(function(t){return Lo("SplitButton",pS,t)},function(t,e){return qS(t,e.backstage.shared)}),styleSelectButton:function(t,e){return n=t,o=e.backstage,r=o.styleselect,fO(n,o,r,kO(n));var n,o,r},fontsizeSelectButton:function(t,e){return n=t,o=e.backstage,r=yO(n),fO(n,o,r.dataset,r);var n,o,r},fontSelectButton:function(t,e){return n=t,o=e.backstage,r=pO(n),fO(n,o,r.dataset,r);var n,o,r},formatButton:function(t,e){return n=t,o=e.backstage,r=xO(n),fO(n,o,r.dataset,r);var n,o,r},alignMenuButton:function(t,e){return vO(t,e.backstage)}},EO={styleselect:VO.styleSelectButton,fontsizeselect:VO.fontsizeSelectButton,fontselect:VO.fontSelectButton,formatselect:VO.formatButton,align:VO.alignMenuButton},TO=function(e,n,o){var t=(!1===n.toolbar?"":n.toolbar===undefined||!0===n.toolbar?"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image":n.toolbar).split("|"),r=E(t,function(t){return t.trim().split(" ")}),i=E(r,function(t){return N(t,function(t){return 0===t.trim().length?[]:wt(n.buttons,t.toLowerCase()).fold(function(){return wt(EO,t.toLowerCase()).map(function(t){return t(e,o)}).orThunk(function(){return console.error("No representation for toolbarItem: "+t),j.none()})},function(t){return n=o,wt(VO,(e=t).type).fold(function(){return console.error("skipping button defined by",e),j.none()},function(t){return j.some(t(e,n))});var e,n}).toArray()})});return A(i,function(t){return 0<t.length})},AO=function(i,t,a,c){var n,o,s=sa((n={sink:a,onEscape:function(){return i.focus(),j.some(!0)}},o=Ot([]),$m.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(t){o.set([]),$m.getContent(t).each(function(t){qi(t.element(),"visibility")}),Di(t.element(),oO),qi(t.element(),"width")},inlineBehaviours:Fa([Tm("context-toolbar-events",[Gr(Ut(),function(t,e){$m.getContent(t).each(function(t){}),Di(t.element(),oO),qi(t.element(),"width")}),Lr(nO,function(e,n){qi(e.element(),"width");var t=tu(e.element());$m.setContent(e,n.event().contents()),_i(e.element(),oO);var o=tu(e.element());Ui(e.element(),"width",t+"px"),$m.getContent(e).each(function(t){n.event().focus().bind(function(t){return df(t),hf(e.element())}).orThunk(function(){return Nd.focusIn(t),mf()})}),setTimeout(function(){Ui(e.element(),"width",o+"px")},0)}),Lr(tO,function(t,e){$m.getContent(t).each(function(t){o.set(o.get().concat([{bar:t,focus:mf()}]))}),br(t,nO,{contents:e.event().forwardContents(),focus:j.none()})}),Lr(eO,function(e,t){J(o.get()).each(function(t){o.set(o.get().slice(0,o.get().length-1)),br(e,nO,{contents:la(t.bar),focus:t.focus})})})]),Nd.config({mode:"special",onEscape:function(e){return J(o.get()).fold(function(){return n.onEscape()},function(t){return pr(e,eO),j.some(!0)})}})]),lazySink:function(){return ft.value(n.sink)}}))),l=function(){return j.some(Pe.fromDom(i.contentAreaContainer))};i.on("init",function(){var t=i.getBody().ownerDocument.defaultView;ov(Pe.fromDom(t),"scroll",function(){f.get().each(function(t){var e=d.get().getOr(i.selection.getNode()).getBoundingClientRect(),n=i.contentAreaContainer.getBoundingClientRect(),o=e.bottom<0,r=e.top>n.height;o||r?Ui(s.element(),"display","none"):(qi(s.element(),"display"),rs.positionWithin(a,t,s,l()))})})});var f=Ot(j.none()),d=Ot(j.none()),r=Ot(null),m=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Fa([Nd.config({mode:"acyclic"}),Tm("pop-dialog-wrap-events",[Xr(function(t){i.shortcuts.add("ctrl+F9","focus statusbar",function(){return Nd.focusIn(t)})}),Yr(function(t){i.shortcuts.remove("ctrl+F9")})])])}},u=Xt(function(){return uO(t,function(t){var e=h(t);br(s,tO,{forwardContents:m(e)})})}),h=function(t){var e,n,o=i.ui.registry.getAll().buttons,r=u();return"contexttoolbar"===t.type?(e=vt(o,r.formNavigators),n=TO(i,{buttons:e,toolbar:t.items},c),dS({uid:Wn("context-toolbar"),initGroups:E(n,function(t){return{items:t}}),onEscape:j.none,cyclicKeying:!0})):ZS(t,c.backstage.shared.providers)};i.on("contexttoolbar-show",function(e){var t=u();wt(t.lookupTable,e.toolbarKey).each(function(t){b(t,e.target===i?j.none():j.some(e)),$m.getContent(s).each(Nd.focusIn)})});var e={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},g={maxHeightFunction:Fu()},v={bubble:ju(12,0,e),layouts:{onLtr:function(){return[nc]},onRtl:function(){return[oc]}},overrides:g},p={bubble:ju(0,12,e),layouts:{onLtr:function(){return[tc,ec,Qu,Ju,Zu,$u]},onRtl:function(){return[tc,ec,Zu,$u,Qu,Ju]}},overrides:g},b=function(t,e){w();var n,o,r,i=h(t),a=e.map(Pe.fromDom),u=(n=t.position,o=a,r="node"===n?c.backstage.shared.anchors.node(o):c.backstage.shared.anchors.cursor(),gt(r,"line"===n?v:p));f.set(j.some(u)),d.set(e),$m.showWithin(s,u,m(i),l()),qi(s.element(),"display")},y=function(){var t=u();iO(t,i).fold(function(){f.set(j.none()),$m.hide(s)},function(t){b(t.toolbarApi,j.some(t.elem.dom()))})},w=function(){var t=r.get();null!==t&&(clearTimeout(t),r.set(null))};i.on("click keyup setContent ObjectResized nodeChange ResizeEditor",function(t){var e;e=rS.setEditorTimeout(i,y,0),w(),r.set(e)})},BO=function(t,n,o){var e=ov(Pe.fromDom(document),"mousedown",function(e){T([n,o],function(t){t.broadcastOn([Ss()],{target:e.target()})})}),r=ov(Pe.fromDom(document),"touchstart",function(e){T([n,o],function(t){t.broadcastOn([Ss()],{target:e.target()})})}),i=ov(Pe.fromDom(document),"mouseup",function(e){0===e.raw().button&&T([n,o],function(t){t.broadcastOn([Os()],{target:e.target()})})}),a=function(e){T([n,o],function(t){t.broadcastOn([Ss()],{target:Pe.fromDom(e.target)})})};t.on("mousedown",a),t.on("touchstart",a);var u=function(e){0===e.button&&T([n,o],function(t){t.broadcastOn([Os()],{target:Pe.fromDom(e.target)})})};t.on("mouseup",u);var c=ov(Pe.fromDom(window),"scroll",function(e){T([n,o],function(t){t.broadcastEvent(Te(),e)})});t.on("remove",function(){t.off("mousedown",a),t.off("touchstart",a),t.off("mouseup",u),hs(n),hs(o),n.destroy(),o.destroy(),e.unbind(),r.unbind(),i.unbind(),c.unbind()})},_O=Hl,DO=ll,FO=Fl({factory:function(o,t){var e={focus:Nd.focusIn,setMenus:function(t,e){var n=E(e,function(e){var t={text:j.some(e.text),icon:j.none(),fetch:function(t){t(e.getItems())}};return SO(t,"tox-mbtn",{getSink:o.getSink,providers:o.providers},"menuitem")});Yd.set(t,n)}};return{uid:o.uid,dom:o.dom,components:[],behaviours:Fa([Yd.config({}),Tm("menubar-events",[Xr(function(t){o.onSetup(t)}),Lr(Dt(),function(n,t){da(n.element(),".tox-mbtn--active").each(function(e){ma(t.event().target(),".tox-mbtn").each(function(t){en(e,t)||n.getSystem().getByDom(e).each(function(e){n.getSystem().getByDom(t).each(function(t){xb.expand(t),xb.close(e),dm.focus(t)})})})})}),Lr(De(),function(n,t){t.event().prevFocus().bind(function(t){return n.getSystem().getByDom(t).toOption()}).each(function(e){t.event().newFocus().bind(function(t){return n.getSystem().getByDom(t).toOption()}).each(function(t){xb.isOpen(e)&&(xb.expand(t),xb.close(e))})})})]),Nd.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return o.onEscape(t),j.some(!0)}}),$p.config({})]),apis:e,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Ko("dom"),Ko("uid"),Ko("onEscape"),Ko("getSink"),Ko("providers"),ar("onSetup",P)],apis:{focus:function(t,e){t.focus(e)},setMenus:function(t,e,n){t.setMenus(e,n)}}}),RO=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},LO=function(t){return t.dimension.property},IO=function(t,e){return t.dimension.getDimension(e)},PO=function(t,e){var n=RO(t,e);Ii(n,[e.shrinkingClass,e.growingClass])},jO=function(t,e){Di(t.element(),e.openClass),_i(t.element(),e.closedClass),Ui(t.element(),LO(e),"0px"),Ki(t.element())},NO=function(t,e){Di(t.element(),e.closedClass),_i(t.element(),e.openClass),qi(t.element(),LO(e))},UO=function(t,e,n,o){n.setCollapsed(),Ui(t.element(),LO(e),IO(e,t.element())),Ki(t.element()),PO(t,e),jO(t,e),e.onStartShrink(t),e.onShrunk(t)},WO=function(t,e,n,o){var r=o.getOrThunk(function(){return IO(e,t.element())});n.setCollapsed(),Ui(t.element(),LO(e),r),Ki(t.element());var i=RO(t,e);_i(i,e.shrinkingClass),jO(t,e),e.onStartShrink(t)},GO=function(t,e,n){var o=IO(e,t.element());("0px"===o?UO:WO)(t,e,n,j.some(o))},XO=function(t,e,n){NO(t,e);var o=IO(e,t.element());jO(t,e);var r=RO(t,e);_i(r,e.growingClass),NO(t,e),Ui(t.element(),LO(e),o),n.setExpanded(),e.onStartGrow(t)},YO=function(t,e,n){var o=RO(t,e);return!0===Ri(o,e.growingClass)},qO=function(t,e,n){var o=RO(t,e);return!0===Ri(o,e.shrinkingClass)},KO=Object.freeze({grow:function(t,e,n){n.isExpanded()||XO(t,e,n)},shrink:function(t,e,n){n.isExpanded()&&GO(t,e,n)},immediateShrink:function(t,e,n){n.isExpanded()&&UO(t,e,n,j.none())},hasGrown:function(t,e,n){return n.isExpanded()},hasShrunk:function(t,e,n){return n.isCollapsed()},isGrowing:YO,isShrinking:qO,isTransitioning:function(t,e,n){return!0===YO(t,e)||!0===qO(t,e)},toggleGrow:function(t,e,n){(n.isExpanded()?GO:XO)(t,e,n)},disableTransitions:PO}),JO=Object.freeze({exhibit:function(t,e){var n=e.expanded;return pi(n?{classes:[e.openClass],styles:{}}:{classes:[e.closedClass],styles:xt(e.dimension.property,"0px")})},events:function(n,o){return Dr([Gr(Ut(),function(t,e){e.event().raw().propertyName===n.dimension.property&&(PO(t,n),o.isExpanded()&&qi(t.element(),n.dimension.property),(o.isExpanded()?n.onGrown:n.onShrunk)(t))})])}}),$O=[Ko("closedClass"),Ko("openClass"),Ko("shrinkingClass"),Ko("growingClass"),nr("getAnimationRoot"),za("onShrunk"),za("onStartShrink"),za("onGrown"),za("onStartGrow"),ar("expanded",!1),Jo("dimension",No("property",{width:[Ma("property","width"),Ma("getDimension",function(t){return tu(t)+"px"})],height:[Ma("property","height"),Ma("getDimension",function(t){return ou(t)+"px"})]}))],QO=La({fields:$O,name:"sliding",active:JO,apis:KO,state:Object.freeze({init:function(t){var e=Ot(t.expanded);return hi({isExpanded:function(){return!0===e.get()},isCollapsed:function(){return!1===e.get()},setCollapsed:f(e.set,!1),setExpanded:f(e.set,!0),readState:function(){return"expanded: "+e.get()}})}})}),ZO=undefined&&undefined.__assign||function(){return(ZO=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},tC="container",eC=[Es("slotBehaviours",[])],nC=function(t){return"<alloy.field."+t+">"},oC=function(r,t,e){var n,o=function(t){return Sl(r)},i=function(n,o){return void 0===o&&(o=undefined),function(t,e){return wl(t,r,e).map(function(t){return n(t,e)}).getOr(o)}},a=function(t,e){return"true"!==Cn(t.element(),"aria-hidden")},u=i(a,!1),c=i(function(t,e){if(a(t)){var n=t.element();Ui(n,"display","none"),Sn(n,"aria-hidden","true"),br(t,Fe(),{name:e,visible:!1})}}),s=(n=c,function(e,t){T(t,function(t){return n(e,t)})}),l=i(function(t,e){if(!a(t)){var n=t.element();qi(n,"display"),Hn(n,"aria-hidden"),br(t,Fe(),{name:e,visible:!0})}}),f={getSlotNames:o,getSlot:function(t,e){return wl(t,r,e)},isShowing:u,hideSlot:c,hideAllSlots:function(t){return s(t,o())},showSlot:l};return{uid:r.uid,dom:r.dom,components:t,behaviours:Ts(r.slotBehaviours),apis:f}},rC=et({getSlotNames:function(t,e){return t.getSlotNames(e)},getSlot:function(t,e,n){return t.getSlot(e,n)},isShowing:function(t,e,n){return t.isShowing(e,n)},hideSlot:function(t,e,n){return t.hideSlot(e,n)},hideAllSlots:function(t,e){return t.hideAllSlots(e)},showSlot:function(t,e,n){return t.showSlot(e,n)}},di),iC=ZO({},rC,{sketch:function(t){var n,e=(n=[],{slot:function(t,e){return n.push(t),gl(tC,nC(t),e)},record:function(){return n}}),o=t(e),r=e.record(),i=E(r,function(t){return il({name:t,pname:nC(t)})});return Tl(tC,eC,i,oC,o)}}),aC=function(t){return{element:function(){return t.element().dom()}}},uC=function(e){return iC.sketch(function(t){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:(o=t,i=e,E(i,function(t){var e=t.name,n=t.settings;return o.slot(e,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:_g([Xr(function(t){n.onrender&&n.onrender(aC(t))}),Lr(Fe(),function(o,t){var r=t.event();D(i,function(t){return t.name===r.name()}).each(function(t){var e=t.settings,n=r.visible()?e.onshow:e.onhide;n&&n(aC(o))})})])})})),slotBehaviours:_g([Xr(function(t){return iC.hideAllSlots(t)})])};var o,i})},cC=Wn("FixSizeEvent"),sC=Wn("AutoSizeEvent"),lC={setSidebar:function(t,e){jl.getCurrent(t).each(function(t){return Yd.set(t,[uC(e)])})},toggleSidebar:function(t,n){jl.getCurrent(t).each(function(e){jl.getCurrent(e).each(function(t){QO.hasGrown(e)?iC.isShowing(t,n)?QO.shrink(e):(iC.hideAllSlots(t),iC.showSlot(t,n)):(iC.hideAllSlots(t),iC.showSlot(t,n),QO.grow(e))})})},whichSidebar:function(t){return jl.getCurrent(t).bind(function(t){return QO.isGrowing(t)||QO.hasGrown(t)?jl.getCurrent(t).bind(function(e){return D(iC.getSlotNames(e),function(t){return iC.isShowing(e,t)})}):j.none()})},renderSidebar:function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"]},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Fa([$p.config({}),dm.config({}),QO.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(t){jl.getCurrent(t).each(iC.hideAllSlots),pr(t,sC)},onGrown:function(t){pr(t,sC)},onStartGrow:function(t){br(t,cC,{width:Yi(t.element(),"width").getOr("")})},onStartShrink:function(t){br(t,cC,{width:tu(t.element())+"px"})}}),Yd.config({}),jl.config({find:function(t){var e=Yd.contents(t);return K(e)}})])}],behaviours:Fa([Gw(0),Tm("sidebar-sliding-events",[Lr(cC,function(t,e){Ui(t.element(),"width",e.event().width())}),Lr(sC,function(t,e){qi(t.element(),"width")})])])}}},fC=DO.optional({factory:FO,name:"menubar",schema:[Ko("dom"),Ko("getSink")]}),dC=DO.optional({factory:{sketch:function(t){return dS({uid:t.uid,onEscape:function(){return t.onEscape(),j.some(!0)},cyclicKeying:!1,initGroups:[]})}},name:"toolbar",schema:[Ko("dom"),Ko("onEscape")]}),mC=DO.optional({name:"socket",schema:[Ko("dom")]}),hC=DO.optional({factory:{sketch:lC.renderSidebar},name:"sidebar",schema:[Ko("dom")]}),gC=Rl({name:"OuterContainer",factory:function(n,t,e){var o={getSocket:function(t){return _O.getPart(t,n,"socket")},setSidebar:function(t,e){_O.getPart(t,n,"sidebar").each(function(t){return lC.setSidebar(t,e)})},toggleSidebar:function(t,e){_O.getPart(t,n,"sidebar").each(function(t){return lC.toggleSidebar(t,e)})},whichSidebar:function(t){return _O.getPart(t,n,"sidebar").bind(lC.whichSidebar).getOrNull()},getToolbar:function(t){return _O.getPart(t,n,"toolbar")},setToolbar:function(t,e){_O.getPart(t,n,"toolbar").each(function(t){uS.setGroups(t,e)})},focusToolbar:function(t){_O.getPart(t,n,"toolbar").each(function(t){Nd.focusIn(t)})},setMenubar:function(t,e){_O.getPart(t,n,"menubar").each(function(t){FO.setMenus(t,e)})},focusMenubar:function(t){_O.getPart(t,n,"menubar").each(function(t){FO.focus(t)})}};return{uid:n.uid,dom:n.dom,components:t,apis:o,behaviours:n.behaviours}},configFields:[Ko("dom"),Ko("behaviours")],partFields:[fC,dC,mC,hC],apis:{getSocket:function(t,e){return t.getSocket(e)},setSidebar:function(t,e,n){t.setSidebar(e,n)},toggleSidebar:function(t,e,n){t.toggleSidebar(e,n)},whichSidebar:function(t,e){return t.whichSidebar(e)},getToolbar:function(t,e){return t.getToolbar(e)},setToolbar:function(t,e,n){var o=E(n,function(t){return fS({items:t})});t.setToolbar(e,o)},setMenubar:function(t,e,n){t.setMenubar(e,n)},focusMenubar:function(t,e){t.focusMenubar(e)},focusToolbar:function(t,e){t.focusToolbar(e)}}}),vC=function(t){return t.fire("SkinLoaded")},pC=function(t){return t.fire("ResizeEditor")},bC=function(t){var e=function(){t._skinLoaded=!0,vC(t)};return function(){t.initialized?e():t.on("init",e)}},yC=function(t,e){var n,o=function(t){var e=t.settings,n=e.skin,o=e.skin_url;if(!1!==n){var r=n||"oxide";o=o?t.documentBaseURI.toAbsolute(o):Vv.baseURL+"/skins/"+r}return o}(e);o&&(n=o+"/skin.min.css",e.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css")),0==(!1===e.settings.skin)&&n?Hv.DOM.styleSheetLoader.load(n,bC(e)):bC(e)()},wC=f(yC,!1),xC=f(yC,!0),kC={render:function(n,o,t,e,r){var i,a;wC(n),i=Pe.fromDom(r.targetNode),a=o.mothership,ms(i,a,ln),ds(Sr(),o.uiMothership),n.on("init",function(){gC.setToolbar(o.outerContainer,TO(n,t,{backstage:e})),gC.setMenubar(o.outerContainer,MO(n,t,e)),gC.setSidebar(o.outerContainer,n.sidebars||[])});var u=gC.getSocket(o.outerContainer).getOrDie("Could not find expected socket element");return n.addCommand("ToggleSidebar",function(t,e){gC.toggleSidebar(o.outerContainer,e),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return gC.whichSidebar(o.outerContainer)}),{iframeContainer:u.element().dom(),editorContainer:o.outerContainer.element().dom()}},getBehaviours:function(t){return[]}},zC=function(n,e){return an(n).orThunk(function(){var t=Pe.fromTag("span");sn(n,t);var e=an(t);return gn(t),e}).map(function(t){return Ka(t).translate(-e.left(),-e.top())}).getOrThunk(function(){return Ya(0,0)})},SC=dt([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),OC=function(e){return function(t){return t.translate(-e.left(),-e.top())}},CC=function(e){return function(t){return t.translate(e.left(),e.top())}},MC=function(n){return function(t,e){return _(n,function(t,e){return e(t)},Ya(t,e))}},HC=function(t,e,n){return t.fold(MC([CC(n),OC(e)]),MC([OC(e)]),MC([]))},VC=function(t,e,n){return t.fold(MC([CC(n)]),MC([]),MC([CC(e)]))},EC=function(t,e,n){return t.fold(MC([]),MC([OC(n)]),MC([CC(e),OC(n)]))},TC=function(t,e,n){return t.fold(function(t,e){return{position:"absolute",left:t+"px",top:e+"px"}},function(t,e){return{position:"absolute",left:t-n.left()+"px",top:e-n.top()+"px"}},function(t,e){return{position:"fixed",left:t+"px",top:e+"px"}})},AC=SC.offset,BC=SC.absolute,_C=SC.fixed,DC=function(t,e){_i(t.element(),e.transitionClass),Di(t.element(),e.fadeOutClass),_i(t.element(),e.fadeInClass)},FC=function(t,e){_i(t.element(),e.transitionClass),Di(t.element(),e.fadeInClass),_i(t.element(),e.fadeOutClass)},RC=function(t,e){return t.y()>=e.y()&&t.bottom()<=e.bottom()},LC=function(t,e){return Mn(t,e)?j.some(parseInt(Cn(t,e),10)):j.none()},IC=function(o,r,i){return(a=o,t=r,e=a.element(),LC(e,t.leftAttr).bind(function(o){return LC(e,t.topAttr).map(function(t){var e=tu(a.element()),n=ou(a.element());return bu(o,t,e,n)})})).bind(function(t){return RC(t,i)?(e=r,n=o.element(),Hn(n,e.leftAttr),Hn(n,e.topAttr),j.some(BC(t.x(),t.y()))):j.none();var e,n});var a,t,e},PC=function(t,e,n,o,r){var i=Ka(t.element()),a=bu(i.left(),i.top(),tu(t.element()),ou(t.element()));if(RC(a,n))return j.none();u=t,c=e,s=i.left(),l=i.top(),f=u.element(),Sn(f,c.leftAttr,s),Sn(f,c.topAttr,l);var u,c,s,l,f,d=BC(i.left(),i.top()),m=HC(d,o,r),h=BC(n.x(),n.y()),g=HC(h,o,r),v=a.y()<=n.y()?g.top():g.top()+n.height()-a.height();return j.some(_C(m.left(),v))},jC=function(i,t,e){var a=t.lazyViewport(i);t.contextual.each(function(r){r.lazyContext(i).each(function(t){var e,n,o=yu(t);n=a,((e=o).y()<n.bottom()&&e.bottom()>n.y()?DC:FC)(i,r)})});var n,o,r,u,c,s=nn(i.element()),l=$a(s),f=zC(i.element(),l);(n=i,o=t,r=a,u=l,c=f,Yi(n.element(),"position").is("fixed")?IC(n,o,r):PC(n,o,r,u,c)).each(function(t){var e=TC(t,0,f);Wi(i.element(),e)})},NC=Object.freeze({refresh:jC}),UC=Object.freeze({events:function(o,t){return Dr([Lr(Ut(),function(e,n){o.contextual.each(function(t){en(e.element(),n.event().target())&&(Di(e.element(),t.transitionClass),n.stop())})}),Lr(Te(),function(t,e){jC(t,o)})])}}),WC=[ir("contextual",[Ko("fadeInClass"),Ko("fadeOutClass"),Ko("transitionClass"),Ko("lazyContext")]),ar("lazyViewport",function(t){var e=$a();return bu(e.left(),e.top(),window.innerWidth,window.innerHeight)}),Ko("leftAttr"),Ko("topAttr")],GC=La({fields:WC,name:"docking",active:UC,apis:NC}),XC={render:function(t,e,n,o,r){var i,a=Hv.DOM;xC(t);var u=function(){Wi(i.element(),{position:"absolute",top:Ka(Pe.fromDom(t.getBody())).top()-ou(i.element())+"px",left:Ka(Pe.fromDom(t.getBody())).left()+"px"})},c=function(){Ui(e.outerContainer.element(),"display","flex"),a.addClass(t.getBody(),"mce-edit-focus"),u(),GC.refresh(i)},s=function(){e.outerContainer&&(Ui(e.outerContainer.element(),"display","none"),a.removeClass(t.getBody(),"mce-edit-focus"))};return t.on("focus",function(){i?c():(i=e.outerContainer,ds(Sr(),e.mothership),ds(Sr(),e.uiMothership),gC.setToolbar(e.outerContainer,TO(t,n,{backstage:o})),gC.setMenubar(e.outerContainer,MO(t,n,o)),u(),c(),t.on("nodeChange ResizeWindow",u),t.on("activate",c),t.on("deactivate",s),t.nodeChanged())}),t.on("blur hide",s),{editorContainer:e.outerContainer.element().dom()}},getBehaviours:function(e){return[GC.config({leftAttr:"data-dock-left",topAttr:"data-dock-top",contextual:{lazyContext:function(t){return j.from(e).map(function(t){return Pe.fromDom(t.getBody())})},fadeInClass:"tox-toolbar-dock-fadein",fadeOutClass:"tox-toolbar-dock-fadeout",transitionClass:"tox-toolbar-dock-transition"}}),dm.config({})]}},YC=function(t,e){return{anchor:"makeshift",x:t,y:e}},qC=function(t,e){var n,o,r,i=Hv.DOM.getPos(t);return n=e,o=i.x,r=i.y,YC(n.x+o,n.y+r)},KC=function(t,e){return"contextmenu"===e.type?t.inline?YC((o=e).pageX,o.pageY):qC(t.getContentAreaContainer(),YC((n=e).clientX,n.clientY)):JC(t);var n,o},JC=function(t){return{anchor:"selection",root:Pe.fromDom(t.selection.getNode())}},$C=function(t){return t.settings.contextmenu_never_use_native||!1},QC=function(t){var e,n=t.getParam("contextmenu","link image imagetools table spellchecker");return"string"==typeof(e=n)?e.split(/[ ,]/):e},ZC={type:"separator"},tM=function(t){switch(t.type){case"separator":return ZC;case"submenu":return{type:"menuitem",text:t.text,icon:t.icon,getSubmenuItems:function(){return E(t.getSubmenuItems(),tM)}};default:return{type:"menuitem",text:t.text,icon:t.icon,onAction:(n=t.onAction,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n()})}}var n},eM=function(l,t,f){var d=sa($m.sketch({dom:{tag:"div"},lazySink:t}));l.on("contextmenu",function(t){if(e=l,!t.ctrlKey||$C(e)){var e,n,o=2!==t.button||t.target===l.getBody(),r=o?(n=l,{anchor:"node",node:j.some(Pe.fromDom(n.selection.getNode())),root:Pe.fromDom(n.getBody())}):KC(l,t),i=l.ui.registry.getAll(),a=QC(l),u=o?l.selection.getStart(!0):t.target,c=function s(r,n,t,i){var e=N(t,function(t){if(r.hasOwnProperty(t)){var e=r[t].update(i);if(0<e.length){var n=E(e,function(t){return w(t)?t:tM(t)}),o=["|"];return o.concat(n).concat(o)}return[]}return[t]}),o=_(e,function(t,e){return w(e)?n.hasOwnProperty(e)?t.concat([n[e]]):"|"===e&&0<t.length&&"separator"!==t[t.length-1].type?t.concat([ZC]):t:t.concat([e])},[]);return 0<o.length&&"separator"===o[o.length-1].type&&o.pop(),o}(i.contextMenus,i.menuItems,a,u);0<c.length&&(t.preventDefault(),$m.showMenuAt(d,r,{menu:{markers:Fg("normal")},data:Bp(c,lh.CLOSE_ON_EXECUTE,f.providers)}))}})},nM=function(t){return/^[0-9\.]+(|px)$/i.test(""+t)?j.some(parseInt(t,10)):j.none()},oM=function(t){return O(t)?t+"px":t},rM="data-initial-z-index",iM=function(t,e){var n;t.getSystem().addToGui(e),rn((n=e).element()).each(function(e){Yi(e,"z-index").each(function(t){Sn(e,rM,t)}),Ui(e,"z-index",Gi(n.element(),"z-index"))})},aM=function(t){rn(t.element()).each(function(t){var e=Cn(t,rM);Mn(t,rM)?Ui(t,"z-index",e):qi(t,"z-index"),Hn(t,rM)}),t.getSystem().removeFromGui(t)},uM=function(t,e,n,o){return(r=t,i=e,a=r.element(),u=parseInt(Cn(a,i.leftAttr),10),c=parseInt(Cn(a,i.topAttr),10),isNaN(u)||isNaN(c)?j.none():j.some(Ya(u,c))).fold(function(){return n},function(t){return _C(t.left()+o.left(),t.top()+o.top())});var r,i,a,u,c},cM=function(t,e,n,o,r,i){var a,u,c,s=uM(t,e,n,o),l=lM(t,e,s,r,i),f=HC(s,r,i);return a=e,u=f,c=t.element(),Sn(c,a.leftAttr,u.left()+"px"),Sn(c,a.topAttr,u.top()+"px"),l.fold(function(){return{coord:_C(f.left(),f.top()),extra:j.none()}},function(t){return{coord:t.output(),extra:t.extra()}})},sM=function(t,e){var n,o;n=e,o=t.element(),Hn(o,n.leftAttr),Hn(o,n.topAttr)},lM=function(t,e,g,v,p){var n=e.getSnapPoints(t);return Mt(n,function(t){var e,n,o,r,i,a,u,c,s,l,f,d,m,h=t.sensor();return e=g,n=h,o=t.range().left(),r=t.range().top(),u=VC(e,i=v,a=p),c=VC(n,i,a),Math.abs(u.left()-c.left())<=o&&Math.abs(u.top()-c.top())<=r?j.some({output:U((s=t.output(),l=g,f=v,d=p,m=function(o,r){return function(t,e){var n=o(l,f,d);return r(t.getOr(n.left()),e.getOr(n.top()))}},s.fold(m(EC,SC.offset),m(VC,SC.absolute),m(HC,SC.fixed)))),extra:t.extra}):j.none()})},fM=function(n,t,i,a,u,c){return t.fold(function(){var t,n,o,e=(t=i,n=c.left(),o=c.top(),t.fold(function(t,e){return SC.offset(t+n,e+o)},function(t,e){return SC.absolute(t+n,e+o)},function(t,e){return SC.fixed(t+n,e+o)})),r=HC(e,a,u);return _C(r.left(),r.top())},function(e){var t=cM(n,e,i,c,a,u);return t.extra.each(function(t){e.onSensor(n,t)}),t.coord})},dM=function(t,e,n){var o,r=e.getTarget(t.element());if(e.repositionTarget){var i=nn(t.element()),a=$a(i),u=zC(r,a),c=Yi(o=r,"left").bind(function(n){return Yi(o,"top").bind(function(e){return Yi(o,"position").map(function(t){return("fixed"===t?_C:AC)(parseInt(n,10),parseInt(e,10))})})}).getOrThunk(function(){var t=Ka(o);return BC(t.left(),t.top())}),s=fM(t,e.snaps,c,a,u,n),l=TC(s,0,u);Wi(r,l)}e.onDrag(t,r,n)},mM=ir("snaps",[Ko("getSnapPoints"),za("onSensor"),Ko("leftAttr"),Ko("topAttr"),ar("lazyViewport",function(){var t=$a();return{x:t.left,y:t.top,width:U(window.innerWidth),height:U(window.innerHeight),bottom:U(t.top()+window.innerHeight),right:U(t.left()+window.innerWidth)}})]),hM=Object.freeze({getData:function(t){return j.from(Ya(t.x(),t.y()))},getDelta:function(t,e){return Ya(e.left()-t.left(),e.top()-t.top())}}),gM=[ar("useFixed",!1),Ko("blockerClass"),ar("getTarget",d),ar("onDrag",P),ar("repositionTarget",!0),za("onDrop"),mM,Ma("dragger",{handlers:function(u,c){return Dr([Lr(Tt(),function(e,t){if(0===t.event().raw().button){t.stop();var n,o={drop:function(){i()},delayDrop:function(){a.schedule()},forceDrop:function(){i()},move:function(t){a.cancel(),c.update(hM,t).each(function(t){dM(e,u,t)})}},r=e.getSystem().build(Cv.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[u.blockerClass]},events:(n=o,Dr([Lr(Tt(),n.forceDrop),Lr(_t(),n.drop),Lr(At(),function(t,e){n.move(e.event())}),Lr(Bt(),n.delayDrop)]))})),i=function(){aM(r),u.snaps.each(function(t){sM(e,t)});var t=u.getTarget(e.element());u.onDrop(e,t)},a=av(i,200);c.reset(),iM(e,r)}})])}})],vM=Object.freeze({getData:function(t){var e,n=t.raw().touches;return 1===n.length?(e=n[0],j.some(Ya(e.clientX,e.clientY))):j.none()},getDelta:function(t,e){return Ya(e.left()-t.left(),e.top()-t.top())}}),pM=gM,bM=[ar("useFixed",!1),ar("getTarget",d),ar("onDrag",P),ar("repositionTarget",!0),ar("onDrop",P),mM,Ma("dragger",{handlers:function(o,r){return Dr([Wr(Ht()),Lr(Vt(),function(e,t){t.stop(),r.update(vM,t.event()).each(function(t){dM(e,o,t)})}),Lr(Et(),function(e,t){o.snaps.each(function(t){sM(e,t)});var n=o.getTarget(e.element());r.reset(),o.onDrop(e,n)})])}})],yM=Object.freeze({mouse:pM,touch:bM}),wM=Object.freeze({init:function(){var i=j.none(),t=U({});return hi({readState:t,reset:function(){i=j.none()},update:function(r,t){return r.getData(t).bind(function(t){return e=r,n=t,o=i.map(function(t){return e.getDelta(t,n)}),i=j.some(n),o;var e,n,o})}})}}),xM=Pa({branchKey:"mode",branches:yM,name:"dragging",active:{events:function(t,e){return t.dragger.handlers(t,e)}},extra:{snap:We(["sensor","range","output"],["extra"])},state:wM});(mO=dO||(dO={}))[mO.None=0]="None",mO[mO.Both=1]="Both",mO[mO.Vertical=2]="Vertical";var kM,zM,SM=function(t,e,n,o){var r=t+e,i=n.filter(function(t){return r<t}),a=o.filter(function(t){return t<r});return i.or(a).getOr(r)},OM=function(t,e,n,o,r){var i,a,u={};return u.height=SM(o,e.top(),Tv(t),(i=t,j.from(i.getParam("max_height")).filter(O))),n===dO.Both&&(u.width=SM(r,e.left(),Ev(t),(a=t,j.from(a.getParam("max_width")).filter(O)))),u},CM=function(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1},MM=function(i,a){return a.delimiter||(a.delimiter="\xbb"),{dom:{tag:"div",classes:["tox-statusbar__path"]},behaviours:Fa([Nd.config({mode:"flow",selector:"div[role=button]"}),$p.config({}),Yd.config({}),Tm("elementPathEvents",[Xr(function(r,t){i.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Nd.focusIn(r)}),i.on("nodeChange",function(t){var e,o,n=function(t){for(var e=[],n=t.length;0<n--;){var o=t[n];if(1===o.nodeType&&!CM(o)){var r=i.fire("ResolveName",{name:o.nodeName.toLowerCase(),target:o});if(r.isDefaultPrevented()||e.push({name:r.name,element:o}),r.isPropagationStopped())break}}return e}(t.parents);0<n.length&&Yd.set(r,(e=E(n||[],function(e,t){return th.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":t,"tab-index":-1,"aria-level":t+1},innerHtml:e.name},action:function(t){i.focus(),i.selection.select(e.element),i.nodeChanged()}})}),o={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+a.delimiter+" "}},_(e.slice(1),function(t,e){var n=t;return n.push(o),n.push(e),n},[e[0]])))})})])]),components:[]}},HM=function(s,t){var e,n,o,r,i,a,u,c,l,f=function(c){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize")},innerHtml:rh("icon-resize-handle",function(){return""})},behaviours:Fa([xM.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,e,n){var o,r,i,a,u;o=s,r=n,i=c,a=Pe.fromDom(o.getContainer()),u=OM(o,r,i,o.getContainer().scrollHeight,tu(a)),tt(u,function(t,e){return Ui(a,e,t+"px")}),pC(o)},blockerClass:"tox-blocker"})])}};return{dom:{tag:"div",classes:["tox-statusbar"]},components:(l=[],s.getParam("elementpath",!0,"boolean")&&l.push(MM(s,{})),fe(s.settings.plugins,"wordcount")&&l.push((a=s,u=t,c=function(t,e,n){return Yd.set(t,[aa(u.translate(["{0} "+n,e[n]]))])},{dom:{tag:"span",classes:["tox-statusbar__wordcount"]},components:[],behaviours:Fa([Yd.config({}),um.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Tm("wordcount-events",[Lr(Nt(),function(t){var e=um.getValue(t),n="words"===e.mode?"characters":"words";um.setValue(t,{mode:n,count:e.count}),c(t,e.count,n)}),Xr(function(n){a.on("wordCountUpdate",function(t){var e=um.getValue(n).mode;um.setValue(n,{mode:e,count:t.wordCount}),c(n,t.wordCount,e)})})])])})),s.getParam("branding",!0,"boolean")&&l.push({dom:{tag:"span",classes:["tox-statusbar__branding"],styles:{"float":"right"},innerHtml:Bh.translate(["Powered by {0}",'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>'])}}),r=0<l.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:l}]:[],n=!fe((e=s).settings.plugins,"autoresize"),i=!1===(o=e.getParam("resize",n))?dO.None:"both"===o?dO.Both:dO.Vertical,i!==dO.None&&r.push(f(i)),r)}},VM=undefined&&undefined.__assign||function(){return(VM=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},EM=function(m){var t=m.getParam("inline",!1,"boolean"),s=t?XC:kC,e=j.none(),n=Bh.isRtl()?{attributes:{dir:"rtl"}}:{},l=sa({dom:VM({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"]},n),behaviours:Fa([rs.config({useFixed:!1})])}),f=oS(l,m,function(){return e.bind(function(t){return gC.getToolbar(t)}).getOrDie("Could not find a toolbar element")}),d=function(){return ft.value(l)},o=gC.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},getSink:d,providers:{icons:function(){return m.ui.registry.getAll().icons},translate:Bh.translate},onEscape:function(){m.focus()}}),r=gC.parts().toolbar({dom:{tag:"div",classes:["tox-toolbar"]},onEscape:function(){m.focus()}}),i=gC.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),a=gC.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),u=m.getParam("statusbar",!0,"boolean")&&!t?j.some(HM(m,f.shared.providers)):j.none(),c={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[i,a]},h=!1!==m.getParam("toolbar",!0,"boolean"),g=!1!==m.getParam("menubar",!0,"boolean"),v=I([g?[o]:[],h?[r]:[],t?[]:[c]]),p=I([[{dom:{tag:"div",classes:["tox-editor-container"]},components:v}],t?[]:u.toArray()]),b=sa(gC.sketch({dom:VM({tag:"div",classes:["tox","tox-tinymce"].concat(t?["tox-tinymce-inline"]:[]),styles:{visibility:"hidden"}},n),components:p,behaviours:Fa(s.getBehaviours(m).concat([Nd.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-sidebar--sliding-open, .tox-statusbar__path"})]))}));e=j.some(b),m.shortcuts.add("alt+F9","focus menubar",function(){gC.focusMenubar(b)}),m.shortcuts.add("alt+F10","focus toolbar",function(){gC.focusToolbar(b)});var y=Mv(b),w=Mv(l);BO(m,y,w);var x=function(t){var e,n,o,r=m.settings,i=Hv.DOM;e=r.width||i.getStyle(t,"width")||"100%",n=(o=m).getParam("height",Math.max(o.getElement().offsetHeight,200));var a,u,c,s,l=Tv(m),f=Ev(m);if(e=nM(e).bind(function(e){return f.map(function(t){return Math.max(e,t)})}).getOr(e),n=nM(n).bind(function(e){return l.map(function(t){return Math.max(e,t)})}).getOr(n),e&&Ui(b.element(),"width",oM(e)),!m.inline){var d=oM(n);a="div",u="height",c=d,s=Pe.fromTag(a),Ui(s,u,c),Yi(s,u).isSome()?Ui(b.element(),"height",d):Ui(b.element(),"height","200px")}return n};return{mothership:y,uiMothership:w,backstage:f,renderUI:function(){eM(m,d,f.shared);var t=m.ui.registry.getAll(),e=t.buttons,n=t.menuItems,o=t.contextToolbars,r={menuItems:n,buttons:e,menus:m.settings.menu?et(m.settings.menu,function(t){return vt(t,{items:t.items})}):{},menubar:m.settings.menubar,toolbar:m.settings.toolbar,sidebar:m.sidebars?m.sidebars:[]};AO(m,o,l,{backstage:f});var i=m.getElement(),a=x(i),u={mothership:y,uiMothership:w,outerContainer:b},c={targetNode:i,height:a};return s.render(m,u,r,f,c)},getUi:function(){return{channels:{broadcastAll:w.broadcast,broadcastOn:w.broadcastOn,register:function(){}}}}}},TM=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},AM=function(n){var t=[{type:"menuitem",text:"Left",icon:"align-left",onAction:TM(n,"alignleft")},{type:"menuitem",text:"Center",icon:"align-center",onAction:TM(n,"aligncenter")},{type:"menuitem",text:"Right",icon:"align-right",onAction:TM(n,"alignright")},{type:"menuitem",text:"Justify",icon:"align-justify",onAction:TM(n,"alignjustify")}];n.ui.registry.addMenuItem("align",{text:"Align",icon:"align-left",hasSubmenu:!0,getSubmenuItems:function(){return t}});var e=function(e){return function(t){n.formatter?n.formatter.formatChanged(e.name,t.setActive):n.on("init",function(){n.formatter.formatChanged(e.name,t.setActive)})}};Sk.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],function(t){n.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return n.execCommand(t.cmd)},icon:t.icon,onSetup:e(t)})});var o={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-justify"};n.ui.registry.addButton(o.name,{tooltip:o.text,onAction:function(){return n.execCommand(o.cmd)},icon:o.icon,onSetup:e(o)})},BM=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},_M=function(i,a){return function(e){var t,n,o,r;return n=a,o=function(t){e.setActive(t)},r=function(t){o(t,n)},(t=i).formatter?t.formatter.formatChanged(n,r):t.on("init",function(){t.formatter.formatChanged(n,r)}),function(){}}},DM=function(t){var e,n,o;e=t,Sk.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:_M(e,t.name),onAction:BM(e,t.name)})}),n=t,Sk.each([{name:"outdent",text:"Decrease indent",action:"Outdent",icon:"outdent"},{name:"indent",text:"Increase indent",action:"Indent",icon:"indent"},{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(t){n.ui.registry.addButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return n.execCommand(t.action)}})}),o=t,Sk.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(t){o.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onAction:function(){return o.execCommand(t.action)},onSetup:_M(o,t.name)})})},FM=function(t){var e;DM(t),e=t,Sk.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(t){e.ui.registry.addMenuItem(t.name,{text:t.text,icon:t.icon,shortcut:t.shortcut,onAction:function(){return e.execCommand(t.action)}})}),e.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:BM(e,"code")})},RM=function(t,e,n){var o=function(){return!!e.undoManager&&e.undoManager[n]()},r=function(){t.setDisabled(e.readonly||!o())};return t.setDisabled(!o()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r),function(){return e.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r)}},LM=function(t){var e,n;(e=t).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(t){return RM(t,e,"hasUndo")},onAction:function(){return e.execCommand("undo")}}),e.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(t){return RM(t,e,"hasRedo")},onAction:function(){return e.execCommand("redo")}}),(n=t).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(t){return RM(t,n,"hasUndo")},onAction:function(){return n.execCommand("undo")}}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(t){return RM(t,n,"hasRedo")},onAction:function(){return n.execCommand("redo")}})},IM=function(t){var e,n;(e=t).ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return e.execCommand("mceToggleVisualAid")}}),(n=t).ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(t){return function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}}(t,n)},onAction:function(){n.execCommand("mceToggleVisualAid")}})},PM=function(t){AM(t),FM(t),LM(t),pb.register(t),IM(t)},jM=function(t,e){var n=j.from(Cn(t,"id")).fold(function(){var t=Wn("dialog-label");return Sn(e,"id",t),t},d);Sn(t,"aria-labelledby",n)},NM=undefined&&undefined.__assign||function(){return(NM=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},UM=U([Ko("lazySink"),nr("dragBlockClass"),ar("useTabstopAt",U(!0)),ar("eventOrder",{}),Es("modalBehaviours",[Nd]),Sa("onExecute"),Ca("onEscape")]),WM={sketch:d},GM=U([ul({name:"draghandle",overrides:function(t,e){return{behaviours:Fa([xM.config({mode:"mouse",getTarget:function(t){return fa(t,'[role="dialog"]').getOr(t)},blockerClass:t.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+po(e,null,2)).message)})])}}}),il({schema:[Ko("dom")],name:"title"}),il({factory:WM,schema:[Ko("dom")],name:"close"}),il({factory:WM,schema:[Ko("dom")],name:"body"}),il({factory:WM,schema:[Ko("dom")],name:"footer"}),al({factory:{sketch:function(t,e){return NM({},t,{dom:e.dom,components:e.components})}},schema:[ar("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),ar("components",[])],name:"blocker"})]),XM=undefined&&undefined.__assign||function(){return(XM=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},YM=Rl({name:"ModalDialog",configFields:UM(),partFields:GM(),factory:function(o,t,e,r){var u=Wn("alloy.dialog.busy"),c=Wn("alloy.dialog.idle"),s=Fa([Nd.config({mode:"special",focusIn:j.some,onTab:function(){return j.some(!0)},onShiftTab:function(){return j.some(!0)}}),dm.config({})]),n=Wn("modal-events"),i=XM({},o.eventOrder,{"alloy.system.attached":[n].concat(o.eventOrder["alloy.system.attached"]||[])});return{uid:o.uid,dom:o.dom,components:t,apis:{show:function(i){var t=o.lazySink(i).getOrDie(),a=Ot(j.none()),e=r.blocker(),n=t.getSystem().build(XM({},e,{components:e.components.concat([la(i)]),behaviours:Fa([Tm("dialog-blocker-events",[Lr(c,function(t,e){Mn(i.element(),"aria-busy")&&(Hn(i.element(),"aria-busy"),a.get().each(function(t){return Yd.remove(i,t)}))}),Lr(u,function(t,e){Sn(i.element(),"aria-busy","true");var n=e.event().getBusySpec();a.get().each(function(t){Yd.remove(i,t)});var o=n(i,s),r=t.getSystem().build(o);a.set(j.some(r)),Yd.append(i,la(r)),r.hasConfigured(Nd)&&Nd.focusIn(r)})])])}));us(t,n),Nd.focusIn(i)},hide:function(e){rn(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(t){ls(t)})})},getBody:function(t){return xl(t,o,"body")},getFooter:function(t){return xl(t,o,"footer")},setIdle:function(t){pr(t,c)},setBusy:function(t,e){br(t,u,{getBusySpec:e})}},eventOrder:i,domModification:{attributes:{role:"dialog"}},behaviours:As(o.modalBehaviours,[Yd.config({}),Nd.config({mode:"cyclic",onEnter:o.onExecute,onEscape:o.onEscape,useTabstopAt:o.useTabstopAt}),Tm(n,[Xr(function(t){jM(t.element(),xl(t,o,"title").element())})])])}},apis:{show:function(t,e){t.show(e)},hide:function(t,e){t.hide(e)},getBody:function(t,e){return t.getBody(e)},getFooter:function(t,e){return t.getFooter(e)},setBusy:function(t,e,n){t.setBusy(e,n)},setIdle:function(t,e){t.setIdle(e)}}}),qM=[$o("type"),$o("text"),Ao("level","level",qn(),Fo(function(t){return M(["info","warn","error","success"],t)?ft.value(t):ft.error('Unsupported level: "'+t+'", choose one of "info", "warn", "error", "success".')})),$o("icon"),ar("url","")],KM=[$o("type"),$o("text"),lr("primary",!1),Ao("name","name",Jn(function(){return Wn("button-name")}),Xo)],JM=[$o("type"),$o("name"),$o("label")],$M=["checked","unchecked","indeterminate"],QM=Fo(function(t){return M($M,t)?ft.value(t):ft.error('Checkbox data: can only be a string of either "'+$M.join('" | "')+'" ')}),ZM=[$o("type"),$o("name"),rr("label")],tH=ZM,eH=Xo,nH=ZM,oH=Xo,rH=ZM.concat([ar("flex",!1)]),iH=Mo(Do),aH=[$o("type"),(kM="columns",Jo(kM,Go)),Ao("items","items",qn(),Mo(Fo(function(t){return Lo("Checking item of grid",MH,t).fold(function(t){return ft.error(jo(t))},function(t){return ft.value(t)})})))],uH=ZM.concat([lr("sandboxed",!0),lr("flex",!1)]),cH=Xo,sH=ZM.concat([rr("placeholder")]),lH=Xo,fH=ZM.concat([tr("items",[$o("text"),$o("value")]),cr("size",1)]),dH=Xo,mH=ZM.concat([lr("constrain",!0)]),hH=Co([$o("width"),$o("height")]),gH=ZM.concat([ar("flex",!1),rr("placeholder")]),vH=Xo,pH=ZM.concat([ar("filetype","file")]),bH=Co([$o("value"),ar("meta",{})]),yH=ZM.concat([$o("type"),sr("tag","textarea"),Qo("init")]),wH=Xo,xH=[$o("type"),$o("html")],kH=ZM.concat([Ko("currentState")]),zH=ZM.concat([ar("columns",1)]),SH=(zM=[$o("value"),rr("text"),rr("icon")],Eo(zM)),OH=[$o("type"),$o("label"),Ao("items","items",qn(),Mo(Fo(function(t){return Lo("Checking item of label",MH,t).fold(function(t){return ft.error(jo(t))},function(t){return ft.value(t)})})))],CH=[$o("type"),er("header",Xo),er("cells",Mo(Xo))],MH=No("type",{alertbanner:qM,button:KM,checkbox:JM,colorinput:tH,colorpicker:nH,dropzone:rH,grid:aH,iframe:uH,input:sH,selectbox:fH,sizeinput:mH,textarea:gH,urlinput:pH,customeditor:yH,htmlpanel:xH,imagetools:kH,collection:zH,label:OH,table:CH}),HH=[$o("type"),er("items",MH)],VH=[$o("title"),er("items",MH)],EH=[$o("type"),tr("tabs",VH)],TH=Co([$o("type"),Ao("name","name",Jn(function(){return Wn("button-name")}),Xo),$o("text"),sr("align","end"),lr("primary",!1),lr("disabled",!1)]),AH=Co([$o("title"),Jo("body",No("type",{panel:HH,tabpanel:EH})),sr("size","normal"),er("buttons",TH),ar("initialData",{}),fr("onAction",P),fr("onChange",P),fr("onSubmit",P),fr("onClose",P),fr("onCancel",P),ar("onTabChange",P),nr("readyWhen")]),BH=function(t){return x(t)?[t].concat(N(rt(t),BH)):k(t)?N(t,BH):[]},_H=function(t){return w(t.type)&&w(t.name)},DH={checkbox:QM,colorinput:eH,colorpicker:oH,dropzone:iH,input:lH,iframe:cH,sizeinput:hH,selectbox:dH,size:hH,textarea:vH,urlinput:bH,customeditor:wH,collection:SH},FH=function(t){var e=N(A(BH(t),_H),function(e){return(t=e,j.from(DH[t.type])).fold(function(){return[]},function(t){return[Jo(e.name,t)]});var t});return Co(e)},RH=function(t){return{internalDialog:Io(Lo("dialog",AH,t)),dataValidator:FH(t),initialData:t.initialData}},LH={open:function(t,e){var n=RH(e);return t(n.internalDialog,n.initialData,n.dataValidator)},redial:function(t){return RH(t)}},IH=Wn("update-dialog"),PH=Wn("update-title"),jH=Wn("update-body"),NH=Wn("update-footer"),UH=function(t){var n=[],o={};return tt(t,function(t,e){t.fold(function(){n.push(e)},function(t){o[e]=t})}),0<n.length?ft.error(n):ft.value(o)},WH=Fl({name:"TabButton",configFields:[ar("uid",undefined),Ko("value"),Ao("dom","dom",$n(function(t){return{attributes:{role:"tab",id:Wn("aria"),"aria-selected":"false"}}}),Uo()),nr("action"),ar("domModification",{}),Es("tabButtonBehaviours",[dm,Nd,um]),Ko("view")],factory:function(t,e){return{uid:t.uid,dom:t.dom,components:t.components,events:Qm(t.action),behaviours:As(t.tabButtonBehaviours,[dm.config({}),Nd.config({mode:"execution",useSpace:!0,useEnter:!0}),um.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}}}),GH=U([Ko("tabs"),Ko("dom"),ar("clickToDismiss",!1),Es("tabbarBehaviours",[tf,Nd]),xa(["tabClass","selectedClass"])]),XH=cl({factory:WH,name:"tabs",unit:"tab",overrides:function(o,t){var r=function(t,e){tf.dehighlight(t,e),br(t,Le(),{tabbar:t,button:e})},i=function(t,e){tf.highlight(t,e),br(t,Re(),{tabbar:t,button:e})};return{action:function(t){var e=t.getSystem().getByUid(o.uid).getOrDie(),n=tf.isHighlighted(e,t);(n&&o.clickToDismiss?r:n?P:i)(e,t)},domModification:{classes:[o.markers.tabClass]}}}}),YH=U([XH]),qH=Rl({name:"Tabbar",configFields:GH(),partFields:YH(),factory:function(t,e,n,o){return{uid:t.uid,dom:t.dom,components:e,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:As(t.tabbarBehaviours,[tf.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(t,e){Sn(e.element(),"aria-selected","true")},onDehighlight:function(t,e){Sn(e.element(),"aria-selected","false")}}),Nd.config({mode:"flow",getInitial:function(t){return tf.getHighlighted(t).map(function(t){return t.element()})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}}}),KH=Fl({name:"Tabview",configFields:[Es("tabviewBehaviours",[Yd])],factory:function(t,e){return{uid:t.uid,dom:t.dom,behaviours:As(t.tabviewBehaviours,[Yd.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),JH=U([ar("selectFirst",!0),za("onChangeTab"),za("onDismissTab"),ar("tabs",[]),Es("tabSectionBehaviours",[])]),$H=il({factory:qH,schema:[Ko("dom"),Zo("markers",[Ko("tabClass"),Ko("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),QH=il({factory:KH,name:"tabview"}),ZH=U([$H,QH]),tV=Rl({name:"TabSection",configFields:JH(),partFields:ZH(),factory:function(i,t,e,n){var o=function(t,e){wl(t,i,"tabbar").each(function(t){e(t).each(yr)})};return{uid:i.uid,dom:i.dom,components:t,behaviours:Ts(i.tabSectionBehaviours),events:Dr(I([i.selectFirst?[Xr(function(t,e){o(t,tf.getFirst)})]:[],[Lr(Re(),function(t,e){var o,r,n=e.event().button();o=n,r=um.getValue(o),wl(o,i,"tabview").each(function(n){D(i.tabs,function(t){return t.value===r}).each(function(t){var e=t.view();Sn(n.element(),"aria-labelledby",Cn(o.element(),"id")),Yd.set(n,e),i.onChangeTab(n,o,e)})})}),Lr(Le(),function(t,e){var n=e.event().button();i.onDismissTab(t,n)})]])),apis:{getViewItems:function(t){return wl(t,i,"tabview").map(function(t){return Yd.contents(t)}).getOr([])},showTab:function(t,n){o(t,function(e){var t=tf.getCandidates(e);return D(t,function(t){return um.getValue(t)===n}).filter(function(t){return!tf.isHighlighted(e,t)})})}}}},apis:{getViewItems:function(t,e){return t.getViewItems(e)},showTab:function(t,e,n){t.showTab(e,n)}}}),eV=function(t){return K((e=t,n=function(t,e){return e<t?-1:t<e?1:0},(o=G.call(e,0)).sort(n),o));var e,n,o},nV=function(a){return{smartTabHeight:{extraEvents:[Xr(function(t){da(t.element(),'[role="tabpanel"]').each(function(n){var e;Ui(n,"visibility","hidden"),t.getSystem().getByDom(n).toOption().bind(function(t){var o,r,i,e=(r=n,i=t,E(o=a,function(t,e){Yd.set(i,o[e].view());var n=r.dom().getBoundingClientRect();return Yd.set(i,[]),n.height}));return eV(e)}).each(function(t){Ui(n,"height",t+"px")}),qi(n,"visibility"),e=t,K(a).each(function(t){return tV.showTab(e,t.value)})})}),Lr(Pv,function(t,e){da(t.element(),'[role="tabpanel"]').each(function(e){Ui(e,"visibility","hidden");var t=Yi(e,"height").map(function(t){return parseInt(t,10)});qi(e,"height");var n=e.dom().getBoundingClientRect().height;t.forall(function(t){return t<n})?Ui(e,"height",n+"px"):t.each(function(t){Ui(e,"height",t+"px")}),qi(e,"visibility")})})],selectFirst:!1},naiveTabHeight:{extraEvents:[],selectFirst:!0}}},oV="send-data-to-section",rV="send-data-to-view",iV=function(t,d){return{dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[],behaviours:Fa([Gw(0),DS.config({channel:jH,updateState:function(t,e){return j.some({isTabPanel:function(){return"tabpanel"===e.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[(r={tabs:t.body.tabs},i=d,a=Ot({}),u=function(t){var e=um.getValue(t),n=UH(e).getOr({}),o=a.get(),r=gt(o,n);a.set(r)},c=function(t){var e=a.get();um.setValue(t,e)},s=Ot(null),l=E(r.tabs,function(t){return{value:t.title,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:i.shared.providers.translate(t.title)},view:function(){return[Dw.sketch(function(e){return{dom:{tag:"div",classes:["tox-form"]},components:E(t.items,function(t){return cz(e,t,i)}),formBehaviours:Fa([Nd.config({mode:"acyclic",useTabstopAt:m(ax)}),Tm("TabView.form.events",[Xr(c),Yr(u)]),Wa.config({channels:kt([{key:oV,value:{onReceive:u}},{key:rV,value:{onReceive:c}}])})])}})]}}}),f=nV(l).smartTabHeight,tV.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(t,e,n){var o=um.getValue(e);br(t,Iv,{title:o,oldTitle:s.get()}),s.set(o)},tabs:l,components:[tV.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[qH.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Fa([$p.config({})])}),tV.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:f.selectFirst,tabSectionBehaviours:Fa([Tm("tabpanel",f.extraEvents),Nd.config({mode:"acyclic"}),jl.config({find:function(t){return K(tV.getViewItems(t))}}),um.config({store:{mode:"manual",getValue:function(t){return t.getSystem().broadcastOn([oV],{}),a.get()},setValue:function(t,e){a.set(e),t.getSystem().broadcastOn([rV],{})}}})])}))];default:return[(n={items:t.body.items},o=d,e=nh(Dw.sketch(function(e){return{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:E(n.items,function(t){return cz(e,t,o)})}})),{dom:{tag:"div",classes:["tox-dialog__body"]},components:[e.asSpec()],behaviours:Fa([Nd.config({mode:"acyclic",useTabstopAt:m(ax)}),Ww(e),$w(e,{postprocess:function(t){return UH(t).fold(function(t){return console.error(t),{}},function(t){return t})}})])})]}var n,o,e,r,i,a,u,c,s,l,f},initialData:t})])}},aV=function(o,n){var t=function(t,r){return Lr(t,function(n,o){e(n,function(t,e){r(t,o.event(),n)})})},e=function(e,n){DS.getState(e).get().each(function(t){n(t.internalDialog,e)})};return[Nr(Ft(),ux),t(Fv,function(t){return t.onSubmit(o())}),t(Av,function(t,e){t.onChange(o(),{name:e.name()})}),t(Dv,function(t,e){t.onAction(o(),{name:e.name(),value:e.value()})}),t(Iv,function(t,e){t.onTabChange(o(),e.title())}),t(Bv,function(t){n.onClose(),t.onClose()}),t(_v,function(t,e,n){t.onCancel(o()),pr(n,Bv)}),Yr(function(t){var e=o();um.setValue(t,e.getData())}),Lr(Lv,function(t,e){return n.onUnblock()}),Lr(Rv,function(t,e){return n.onBlock(e.event())})]},uV=function(t,e){var n=function(t,e){for(var n=[],o=[],r=0,i=t.length;r<i;r++){var a=t[r];(e(a,r,t)?n:o).push(a)}return{pass:n,fail:o}}(e.map(function(t){return t.footerButtons}).getOr([]),function(t){return"start"===t.align}),o=function(t,e){return Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+t]},components:E(e,function(t){return t.memento.asSpec()})})};return[o("start",n.pass),o("end",n.fail)]},cV=function(t,i){return{dom:Th('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Fa([DS.config({channel:NH,initialData:t,updateState:function(t,e){var r=E(e.buttons,function(t){var e,n,o=nh((n=i,ik(e=t,e.type,n)));return{name:t.name,align:t.align,memento:o}});return j.some({lookupByName:function(t,e){return n=t,o=e,D(r,function(t){return t.name===o}).bind(function(t){return t.memento.getOpt(n)});var n,o},footerButtons:r})},renderComponents:uV})])}},sV=undefined&&undefined.__assign||function(){return(sV=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},lV=function(t){return th.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(t){pr(t,_v)}})},fV=function(t,e,n){var o=function(t){return[aa(n.translate(t.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:sV({},e.map(function(t){return{id:t}}).getOr({}))},components:o(t),behaviours:Fa([DS.config({channel:PH,renderComponents:o})])}},dV=function(e,n){if(e.getRoot().getSystem().isConnected()){var o=jl.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Dw.getField(o,n).fold(function(){var t=e.getFooter();return DS.getState(t).get().bind(function(t){return t.lookupByName(o,n)})},function(t){return j.some(t)})}return j.none()},mV=function(c,o){var t=function(t){var e=c.getRoot();e.getSystem().isConnected()&&t(e)},s={getData:function(){var t=c.getRoot(),e=t.getSystem().isConnected()?c.getFormWrapper():t;return um.getValue(e)},setData:function(u){t(function(t){var e,n,o=s.getData(),r=vt(o,u),i=(e=r,n=c.getRoot(),DS.getState(n).get().map(function(t){return Io(Lo("data",t.dataValidator,e))}).getOr(e)),a=c.getFormWrapper();um.setValue(a,i)})},disable:function(t){dV(c,t).each($h.disable)},enable:function(t){dV(c,t).each($h.enable)},focus:function(t){dV(c,t).each(dm.focus)},block:function(e){t(function(t){br(t,Rv,{message:e})})},unblock:function(){t(function(t){pr(t,Lv)})},showTab:function(n){t(function(t){var e=c.getBody();DS.getState(e).get().exists(function(t){return t.isTabPanel()})&&jl.getCurrent(e).each(function(t){tV.showTab(t,n)})})},redial:function(n){t(function(t){var e=o(n);t.getSystem().broadcastOn([IH],e),t.getSystem().broadcastOn([PH],e.internalDialog),t.getSystem().broadcastOn([jH],e.internalDialog),t.getSystem().broadcastOn([NH],e.internalDialog),s.setData(e.initialData)})},close:function(){t(function(t){pr(t,Bv)})}};return s},hV=function(t,e,n){var o,r,i,a,u,c,s,l,f,d,m,h=(r={title:n.shared.providers.translate(t.internalDialog.title),draggable:!0},i=n.shared.providers,a=YM.parts().title(fV(r,j.none(),i)),u=YM.parts().draghandle({dom:Th('<div class="tox-dialog__draghandle"></div>')}),c=YM.parts().close(lV(i)),s=[a].concat(r.draggable?[u]:[]).concat([c]),Cv.sketch({dom:Th('<div class="tox-dialog__header"></div>'),components:s})),g=(l={body:t.internalDialog.body},f=n,YM.parts().body(iV(l,f))),v=(d={buttons:t.internalDialog.buttons},m=n.shared.providers,YM.parts().footer(cV(d,m))),p=aV(function(){return w},{onClose:function(){return e.closeWindow()},onBlock:function(n){YM.setBusy(y,function(t,e){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":n.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:e,components:[{dom:Th('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){YM.setIdle(y)}}),b="normal"!==t.internalDialog.size?"large"===t.internalDialog.size?"tox-dialog--width-lg":"tox-dialog--width-md":[],y=sa(YM.sketch({lazySink:n.shared.getSink,onEscape:function(t){return pr(t,_v),j.some(!0)},useTabstopAt:function(t){return!ax(t)&&("button"!==bn(t)||"disabled"!==Cn(t,"disabled"))},modalBehaviours:Fa([DS.config({channel:IH,updateState:function(t,e){return j.some(e)},initialData:t}),dm.config({}),Tm("execute-on-form",p.concat([Gr(Ft(),function(t,e){Nd.focusIn(t)})])),tx({})]),eventOrder:(o={},o[ze()]=["execute-on-form"],o[Ae()]=["reflecting","execute-on-form"],o),dom:{tag:"div",classes:["tox-dialog"].concat(b),styles:{position:"relative"}},components:[h,g,v],dragBlockClass:"tox-dialog-wrap",parts:{blocker:{dom:Th('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}}})),w=mV({getRoot:function(){return y},getBody:function(){return YM.getBody(y)},getFooter:function(){return YM.getFooter(y)},getFormWrapper:function(){var t=YM.getBody(y);return jl.getCurrent(t).getOr(t)}},e.redial);return{dialog:y,instanceApi:w}},gV=function(t,e,n){var o,r,i,a,u,c,s,l,f=Wn("dialog-label"),d=nh((i={title:t.internalDialog.title,draggable:!0},a=f,u=n.shared.providers,Cv.sketch({dom:Th('<div class="tox-dialog__header"></div>'),components:[fV(i,j.some(a),u),lV(u)],containerBehaviours:Fa([xM.config({mode:"mouse",blockerClass:"blocker",getTarget:function(t){return ma(t,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),m=nh((c={body:t.internalDialog.body},iV(c,n))),h=nh((s={buttons:t.internalDialog.buttons},l=n.shared.providers,cV(s,l))),g=aV(function(){return p},{onBlock:function(){},onUnblock:function(){},onClose:function(){return e.closeWindow()}}),v=sa({dom:{tag:"div",classes:["tox-dialog"],attributes:(o={role:"dialog"},o["aria-labelledby"]=f,o)},eventOrder:(r={},r[ke()]=[DS.name(),Wa.name()],r[ze()]=["execute-on-form"],r[Ae()]=["reflecting","execute-on-form"],r),behaviours:Fa([Nd.config({mode:"cyclic",onEscape:function(t){return pr(t,Bv),j.some(!0)},useTabstopAt:function(t){return!ax(t)&&("button"!==bn(t)||"disabled"!==Cn(t,"disabled"))}}),DS.config({channel:IH,updateState:function(t,e){return j.some(e)},initialData:t}),Tm("execute-on-form",g),tx({})]),components:[d.asSpec(),m.asSpec(),h.asSpec()]}),p=mV({getRoot:function(){return v},getFooter:function(){return h.get(v)},getBody:function(){return m.get(v)},getFormWrapper:function(){var t=m.get(v);return jl.getCurrent(t).getOr(t)}},e.redial);return{dialog:v,instanceApi:p}},vV=function(t){return YM.parts().close(th.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":"Close"}},action:t,buttonBehaviours:Fa([$p.config({})])}))},pV=function(){return YM.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},bV=function(t,e){return YM.parts().body({dom:{tag:"div",classes:["tox-dialog__body","todo-tox-fit"]},components:[{dom:Th("<p>"+e.translate(t)+"</p>")}]})},yV=function(t){return YM.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},wV=function(t,e){return[Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),Cv.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:e})]},xV=function(n){return YM.sketch({lazySink:n.lazySink,onEscape:function(){return n.onCancel(),j.some(!0)},dom:{tag:"div",classes:["tox-dialog"].concat(n.extraClasses)},components:[{dom:{tag:"div",classes:["tox-dialog__header"]},components:[n.partSpecs.title,n.partSpecs.close]},n.partSpecs.body,n.partSpecs.footer],parts:{blocker:{dom:Th('<div class="tox-dialog-wrap"></div>'),components:[{dom:{tag:"div",classes:["tox-dialog-wrap__backdrop"]}}]}},modalBehaviours:Fa([Tm("basic-dialog-events",[Lr(_v,function(t,e){n.onCancel()}),Lr(Fv,function(t,e){n.onSubmit()})])])})},kV=function(c){var a,u,o=(a=c.backstage.shared,{open:function(t,e){var n=function(t){YM.hide(t),e()},o=nh(ik({name:"close-alert",text:"OK",primary:!0},"cancel",a.providers)),r=sa(xV({lazySink:function(){return a.getSink()},partSpecs:{title:pV(),close:vV(function(){n(r)}),body:bV(t,a.providers),footer:yV(wV([],[o.asSpec()]))},onCancel:function(){return n(r)},onSubmit:P,extraClasses:["tox-alert-dialog"]}));YM.show(r);var i=o.get(r);dm.focus(i)}}),r=(u=c.backstage.shared,{open:function(t,n){var e=function(t,e){YM.hide(t),n(e)},o=nh(ik({name:"yes",text:"Yes",primary:!0},"submit",u.providers)),r=ik({name:"no",text:"No",primary:!0},"cancel",u.providers),i=sa(xV({lazySink:function(){return u.getSink()},partSpecs:{title:pV(),close:vV(function(){e(i,!1)}),body:bV(t,u.providers),footer:yV(wV([],[r,o.asSpec()]))},onCancel:function(){return e(i,!1)},onSubmit:function(){return e(i,!0)},extraClasses:["tox-confirm-dialog"]}));YM.show(i);var a=o.get(i);dm.focus(a)}}),i=function(t,i){return LH.open(function(t,e,n){var o=e,r=hV({dataValidator:n,initialData:o,internalDialog:t},{redial:LH.redial,closeWindow:function(){YM.hide(r.dialog),i(r.instanceApi)}},c.backstage);return YM.show(r.dialog),r.instanceApi.setData(o),r.instanceApi},t)},s=function(t,a,u){return LH.open(function(t,e,n){var o=Io(Lo("data",n,e)),r=gV({dataValidator:n,initialData:o,internalDialog:t},{redial:LH.redial,closeWindow:function(){$m.hide(i),u(r.instanceApi)}},c.backstage),i=sa($m.sketch({lazySink:c.backstage.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{},inlineBehaviours:Fa([Tm("window-manager-inline-events",[Lr(_e(),function(t,e){pr(r.dialog,_v)})])])}));return $m.showAt(i,a,la(r.dialog)),r.instanceApi.setData(o),Nd.focusIn(r.dialog),r.instanceApi},t)};return{open:function(t,e,n){return e!==undefined&&"toolbar"===e.inline?s(t,c.backstage.shared.anchors.toolbar(),n):e!==undefined&&"cursor"===e.inline?s(t,c.backstage.shared.anchors.cursor(),n):i(t,n)},openInlineDialog:s,alert:function(t,e,n){o.open(t,function(){n(),e()})},close:function(t){t.close()},confirm:function(t,e,n){r.open(t,function(t){n(),e(t)})}}};Gn.add("silver",function(o){var t=EM(o),e=t.mothership,n=t.uiMothership,r=t.backstage,i=t.renderUI,a=t.getUi;PM(o),jn(Wn("silver-demo"),e),jn(Wn("silver-ui-demo"),n),Qg(o,r.shared);var u=kV({backstage:r});return{renderUI:i,getWindowManagerImpl:function(){var t,e=(t=o.windowManager.windows,j.from(t[t.length-1])).fold(function(){return{getParams:P,setParams:P}},function(t){return{getParams:t.getData,setParams:t.setData}}),n={getWindows:function(){return o.windowManager.windows},windows:o.windowManager.windows};return vt(u,e,n)},getNotificationManagerImpl:function(){return sh(o,{backstage:r},n)},ui:a()}}),function QV(){}}();